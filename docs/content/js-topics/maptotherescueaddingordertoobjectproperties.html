<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>maptotherescueaddingordertoobjectproperties</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<p>title: Map() to the rescue; adding order to Object properties tip-number: 32 tip-username: loverajoel tip-username-profile: https://twitter.com/loverajoel tip-tldr: An Object it is an unordered collection of properties… that means that if you are trying to save ordered data inside an Object, you have to review it because properties order in objects are not guaranteed. tip-writer-support: https://www.coinbase.com/loverajoel</p>
<ul>
<li>/en/map-to-the-rescue-adding-order-to-object-properties/</li>
</ul>
<h2 id="object-properties-order">Object properties order</h2>
<blockquote>
<p>An object is a member of the type Object. It is an unordered collection of properties each of which contains a primitive value, object, or function. A function stored in a property of an object is called a method. <a href="http://www.ecma-international.org/publications/files/ECMA-ST-ARCH/ECMA-262,%203rd%20edition,%20December%201999.pdf">ECMAScript</a></p>
</blockquote>
<p>Take a look in action</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">var</span> myObject <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">    <span class="dt">z</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-3" title="3">    <span class="st">&#39;@&#39;</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-4" title="4">    <span class="dt">b</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-5" title="5">    <span class="dv">1</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-6" title="6">    <span class="dv">5</span><span class="op">:</span> <span class="dv">5</span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="op">};</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="va">console</span>.<span class="at">log</span>(myObject) <span class="co">// Object {1: 4, 5: 5, z: 1, @: 2, b: 3}</span></a>
<a class="sourceLine" id="cb1-9" title="9"></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="cf">for</span> (item <span class="kw">in</span> myObject) <span class="op">{</span>...</a>
<a class="sourceLine" id="cb1-11" title="11"><span class="co">// 1</span></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="co">// 5</span></a>
<a class="sourceLine" id="cb1-13" title="13"><span class="co">// z</span></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="co">// @</span></a>
<a class="sourceLine" id="cb1-15" title="15"><span class="co">// b</span></a></code></pre></div>
<p>Each browser have his own rules about the order in objects bebause technically, order is unspecified.</p>
<h2 id="how-to-solve-this">How to solve this?</h2>
<h3 id="map">Map</h3>
<p>Using a new ES6 feature called Map. A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a> object iterates its elements in insertion order — a <code>for...of</code> loop returns an array of [key, value] for each iteration.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">var</span> myObject <span class="op">=</span> <span class="kw">new</span> <span class="at">Map</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="va">myObject</span>.<span class="at">set</span>(<span class="st">&#39;z&#39;</span><span class="op">,</span> <span class="dv">1</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="va">myObject</span>.<span class="at">set</span>(<span class="st">&#39;@&#39;</span><span class="op">,</span> <span class="dv">2</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="va">myObject</span>.<span class="at">set</span>(<span class="st">&#39;b&#39;</span><span class="op">,</span> <span class="dv">3</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="cf">for</span> (<span class="kw">var</span> [key<span class="op">,</span> value] <span class="kw">of</span> myObject) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-6" title="6">  <span class="va">console</span>.<span class="at">log</span>(key<span class="op">,</span> value)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-7" title="7">...</a>
<a class="sourceLine" id="cb2-8" title="8"><span class="co">// z 1</span></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="co">// @ 2</span></a>
<a class="sourceLine" id="cb2-10" title="10"><span class="co">// b 3</span></a></code></pre></div>
<h3 id="hack-for-old-browsers">Hack for old browsers</h3>
<p>Mozilla suggest:</p>
<blockquote>
<p>So, if you want to simulate an ordered associative array in a cross-browser environment, you are forced to either use two separate arrays (one for the keys and the other for the values), or build an array of single-property objects, etc.</p>
</blockquote>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="co">// Using two separate arrays</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">var</span> objectKeys <span class="op">=</span> [z<span class="op">,</span> @<span class="op">,</span> b<span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">5</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="cf">for</span> (item <span class="kw">in</span> objectKeys) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-4" title="4">    myObject[item]</a>
<a class="sourceLine" id="cb3-5" title="5">...</a>
<a class="sourceLine" id="cb3-6" title="6"></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="co">// Build an array of single-property objects</span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="kw">var</span> myData <span class="op">=</span> [<span class="op">{</span><span class="dt">z</span><span class="op">:</span> <span class="dv">1</span><span class="op">},</span> <span class="op">{</span><span class="st">&#39;@&#39;</span><span class="op">:</span> <span class="dv">2</span><span class="op">},</span> <span class="op">{</span><span class="dt">b</span><span class="op">:</span> <span class="dv">3</span><span class="op">},</span> <span class="op">{</span><span class="dv">1</span><span class="op">:</span> <span class="dv">4</span><span class="op">},</span> <span class="op">{</span><span class="dv">5</span><span class="op">:</span> <span class="dv">5</span><span class="op">}</span>]<span class="op">;</span></a></code></pre></div>
</body>
</html>
