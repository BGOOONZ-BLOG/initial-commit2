{"expireTime":9007200904307322000,"key":"transformer-remark-markdown-html-ast-9142ed97ed7d7a5abd823dbf1554fa01--","val":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Modules: CommonJS modules","position":{"start":{"line":3,"column":4,"offset":7},"end":{"line":3,"column":29,"offset":32}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_modules_commonjs_modules"},"children":[{"type":"text","value":"#","position":{"start":{"line":3,"column":30,"offset":33},"end":{"line":3,"column":31,"offset":34}}}],"position":{"start":{"line":3,"column":29,"offset":32},"end":{"line":3,"column":102,"offset":105}}}],"position":{"start":{"line":3,"column":1,"offset":4},"end":{"line":3,"column":102,"offset":105}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/documentation.html#documentation_stability_index"},"children":[{"type":"text","value":"Stability: 2","position":{"start":{"line":5,"column":2,"offset":110},"end":{"line":5,"column":14,"offset":122}}}],"position":{"start":{"line":5,"column":1,"offset":109},"end":{"line":5,"column":88,"offset":196}}},{"type":"text","value":" - Stable","position":{"start":{"line":5,"column":88,"offset":196},"end":{"line":5,"column":97,"offset":205}}}],"position":{"start":{"line":5,"column":1,"offset":109},"end":{"line":5,"column":97,"offset":205}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In the Node.js module system, each file is treated as a separate module. For example, consider a file named ","position":{"start":{"line":7,"column":1,"offset":209},"end":{"line":7,"column":109,"offset":317}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo.js"}],"position":{"start":{"line":7,"column":109,"offset":317},"end":{"line":7,"column":117,"offset":325}}},{"type":"text","value":":","position":{"start":{"line":7,"column":117,"offset":325},"end":{"line":7,"column":118,"offset":326}}}],"position":{"start":{"line":7,"column":1,"offset":209},"end":{"line":7,"column":118,"offset":326}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const circle = require('./circle.js');\nconsole.log(`The area of a circle of radius 4 is ${circle.area(4)}`);\n"}],"position":{"start":{"line":9,"column":1,"offset":330},"end":{"line":12,"column":4,"offset":449}}}],"position":{"start":{"line":9,"column":1,"offset":330},"end":{"line":12,"column":4,"offset":449}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"On the first line, ","position":{"start":{"line":14,"column":1,"offset":453},"end":{"line":14,"column":20,"offset":472}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo.js"}],"position":{"start":{"line":14,"column":20,"offset":472},"end":{"line":14,"column":28,"offset":480}}},{"type":"text","value":" loads the module ","position":{"start":{"line":14,"column":28,"offset":480},"end":{"line":14,"column":46,"offset":498}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"circle.js"}],"position":{"start":{"line":14,"column":46,"offset":498},"end":{"line":14,"column":57,"offset":509}}},{"type":"text","value":" that is in the same directory as ","position":{"start":{"line":14,"column":57,"offset":509},"end":{"line":14,"column":91,"offset":543}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo.js"}],"position":{"start":{"line":14,"column":91,"offset":543},"end":{"line":14,"column":99,"offset":551}}},{"type":"text","value":".","position":{"start":{"line":14,"column":99,"offset":551},"end":{"line":14,"column":100,"offset":552}}}],"position":{"start":{"line":14,"column":1,"offset":453},"end":{"line":14,"column":100,"offset":552}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Here are the contents of ","position":{"start":{"line":16,"column":1,"offset":556},"end":{"line":16,"column":26,"offset":581}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"circle.js"}],"position":{"start":{"line":16,"column":26,"offset":581},"end":{"line":16,"column":37,"offset":592}}},{"type":"text","value":":","position":{"start":{"line":16,"column":37,"offset":592},"end":{"line":16,"column":38,"offset":593}}}],"position":{"start":{"line":16,"column":1,"offset":556},"end":{"line":16,"column":38,"offset":593}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const { PI } = Math;\n\nexports.area = (r) => PI * r ** 2;\n\nexports.circumference = (r) => 2 * PI * r;\n"}],"position":{"start":{"line":18,"column":1,"offset":597},"end":{"line":24,"column":4,"offset":711}}}],"position":{"start":{"line":18,"column":1,"offset":597},"end":{"line":24,"column":4,"offset":711}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The module ","position":{"start":{"line":26,"column":1,"offset":715},"end":{"line":26,"column":12,"offset":726}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"circle.js"}],"position":{"start":{"line":26,"column":12,"offset":726},"end":{"line":26,"column":23,"offset":737}}},{"type":"text","value":" has exported the functions ","position":{"start":{"line":26,"column":23,"offset":737},"end":{"line":26,"column":51,"offset":765}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"area()"}],"position":{"start":{"line":26,"column":51,"offset":765},"end":{"line":26,"column":59,"offset":773}}},{"type":"text","value":" and ","position":{"start":{"line":26,"column":59,"offset":773},"end":{"line":26,"column":64,"offset":778}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"circumference()"}],"position":{"start":{"line":26,"column":64,"offset":778},"end":{"line":26,"column":81,"offset":795}}},{"type":"text","value":". Functions and objects are added to the root of a module by specifying additional properties on the special ","position":{"start":{"line":26,"column":81,"offset":795},"end":{"line":26,"column":190,"offset":904}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":26,"column":190,"offset":904},"end":{"line":26,"column":199,"offset":913}}},{"type":"text","value":" object.","position":{"start":{"line":26,"column":199,"offset":913},"end":{"line":26,"column":207,"offset":921}}}],"position":{"start":{"line":26,"column":1,"offset":715},"end":{"line":26,"column":207,"offset":921}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Variables local to the module will be private, because the module is wrapped in a function by Node.js (see ","position":{"start":{"line":28,"column":1,"offset":925},"end":{"line":28,"column":108,"offset":1032}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_wrapper"},"children":[{"type":"text","value":"module wrapper","position":{"start":{"line":28,"column":109,"offset":1033},"end":{"line":28,"column":123,"offset":1047}}}],"position":{"start":{"line":28,"column":108,"offset":1032},"end":{"line":28,"column":188,"offset":1112}}},{"type":"text","value":"). In this example, the variable ","position":{"start":{"line":28,"column":188,"offset":1112},"end":{"line":28,"column":221,"offset":1145}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"PI"}],"position":{"start":{"line":28,"column":221,"offset":1145},"end":{"line":28,"column":225,"offset":1149}}},{"type":"text","value":" is private to ","position":{"start":{"line":28,"column":225,"offset":1149},"end":{"line":28,"column":240,"offset":1164}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"circle.js"}],"position":{"start":{"line":28,"column":240,"offset":1164},"end":{"line":28,"column":251,"offset":1175}}},{"type":"text","value":".","position":{"start":{"line":28,"column":251,"offset":1175},"end":{"line":28,"column":252,"offset":1176}}}],"position":{"start":{"line":28,"column":1,"offset":925},"end":{"line":28,"column":252,"offset":1176}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":30,"column":1,"offset":1180},"end":{"line":30,"column":5,"offset":1184}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":30,"column":5,"offset":1184},"end":{"line":30,"column":21,"offset":1200}}},{"type":"text","value":" property can be assigned a new value (such as a function or object).","position":{"start":{"line":30,"column":21,"offset":1200},"end":{"line":30,"column":90,"offset":1269}}}],"position":{"start":{"line":30,"column":1,"offset":1180},"end":{"line":30,"column":90,"offset":1269}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Below, ","position":{"start":{"line":32,"column":1,"offset":1273},"end":{"line":32,"column":8,"offset":1280}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bar.js"}],"position":{"start":{"line":32,"column":8,"offset":1280},"end":{"line":32,"column":16,"offset":1288}}},{"type":"text","value":" makes use of the ","position":{"start":{"line":32,"column":16,"offset":1288},"end":{"line":32,"column":34,"offset":1306}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"square"}],"position":{"start":{"line":32,"column":34,"offset":1306},"end":{"line":32,"column":42,"offset":1314}}},{"type":"text","value":" module, which exports a Square class:","position":{"start":{"line":32,"column":42,"offset":1314},"end":{"line":32,"column":80,"offset":1352}}}],"position":{"start":{"line":32,"column":1,"offset":1273},"end":{"line":32,"column":80,"offset":1352}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const Square = require('./square.js');\nconst mySquare = new Square(2);\nconsole.log(`The area of mySquare is ${mySquare.area()}`);\n"}],"position":{"start":{"line":34,"column":1,"offset":1356},"end":{"line":38,"column":4,"offset":1497}}}],"position":{"start":{"line":34,"column":1,"offset":1356},"end":{"line":38,"column":4,"offset":1497}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":40,"column":1,"offset":1501},"end":{"line":40,"column":5,"offset":1505}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"square"}],"position":{"start":{"line":40,"column":5,"offset":1505},"end":{"line":40,"column":13,"offset":1513}}},{"type":"text","value":" module is defined in ","position":{"start":{"line":40,"column":13,"offset":1513},"end":{"line":40,"column":35,"offset":1535}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"square.js"}],"position":{"start":{"line":40,"column":35,"offset":1535},"end":{"line":40,"column":46,"offset":1546}}},{"type":"text","value":":","position":{"start":{"line":40,"column":46,"offset":1546},"end":{"line":40,"column":47,"offset":1547}}}],"position":{"start":{"line":40,"column":1,"offset":1501},"end":{"line":40,"column":47,"offset":1547}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"// Assigning to exports will not modify module, must use module.exports\nmodule.exports = class Square {\n  constructor(width) {\n    this.width = width;\n  }\n\n  area() {\n    return this.width ** 2;\n  }\n};\n"}],"position":{"start":{"line":42,"column":1,"offset":1551},"end":{"line":53,"column":4,"offset":1771}}}],"position":{"start":{"line":42,"column":1,"offset":1551},"end":{"line":53,"column":4,"offset":1771}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The module system is implemented in the ","position":{"start":{"line":55,"column":1,"offset":1775},"end":{"line":55,"column":41,"offset":1815}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('module')"}],"position":{"start":{"line":55,"column":41,"offset":1815},"end":{"line":55,"column":60,"offset":1834}}},{"type":"text","value":" module.","position":{"start":{"line":55,"column":60,"offset":1834},"end":{"line":55,"column":68,"offset":1842}}}],"position":{"start":{"line":55,"column":1,"offset":1775},"end":{"line":55,"column":68,"offset":1842}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Accessing the main module","position":{"start":{"line":57,"column":5,"offset":1850},"end":{"line":57,"column":30,"offset":1875}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_accessing_the_main_module"},"children":[{"type":"text","value":"#","position":{"start":{"line":57,"column":31,"offset":1876},"end":{"line":57,"column":32,"offset":1877}}}],"position":{"start":{"line":57,"column":30,"offset":1875},"end":{"line":57,"column":104,"offset":1949}}}],"position":{"start":{"line":57,"column":1,"offset":1846},"end":{"line":57,"column":104,"offset":1949}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When a file is run directly from Node.js, ","position":{"start":{"line":59,"column":1,"offset":1953},"end":{"line":59,"column":43,"offset":1995}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.main"}],"position":{"start":{"line":59,"column":43,"offset":1995},"end":{"line":59,"column":57,"offset":2009}}},{"type":"text","value":" is set to its ","position":{"start":{"line":59,"column":57,"offset":2009},"end":{"line":59,"column":72,"offset":2024}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":59,"column":72,"offset":2024},"end":{"line":59,"column":80,"offset":2032}}},{"type":"text","value":". That means that it is possible to determine whether a file has been run directly by testing ","position":{"start":{"line":59,"column":80,"offset":2032},"end":{"line":59,"column":174,"offset":2126}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.main === module"}],"position":{"start":{"line":59,"column":174,"offset":2126},"end":{"line":59,"column":199,"offset":2151}}},{"type":"text","value":".","position":{"start":{"line":59,"column":199,"offset":2151},"end":{"line":59,"column":200,"offset":2152}}}],"position":{"start":{"line":59,"column":1,"offset":1953},"end":{"line":59,"column":200,"offset":2152}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For a file ","position":{"start":{"line":61,"column":1,"offset":2156},"end":{"line":61,"column":12,"offset":2167}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo.js"}],"position":{"start":{"line":61,"column":12,"offset":2167},"end":{"line":61,"column":20,"offset":2175}}},{"type":"text","value":", this will be ","position":{"start":{"line":61,"column":20,"offset":2175},"end":{"line":61,"column":35,"offset":2190}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"true"}],"position":{"start":{"line":61,"column":35,"offset":2190},"end":{"line":61,"column":41,"offset":2196}}},{"type":"text","value":" if run via ","position":{"start":{"line":61,"column":41,"offset":2196},"end":{"line":61,"column":53,"offset":2208}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node foo.js"}],"position":{"start":{"line":61,"column":53,"offset":2208},"end":{"line":61,"column":66,"offset":2221}}},{"type":"text","value":", but ","position":{"start":{"line":61,"column":66,"offset":2221},"end":{"line":61,"column":72,"offset":2227}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"false"}],"position":{"start":{"line":61,"column":72,"offset":2227},"end":{"line":61,"column":79,"offset":2234}}},{"type":"text","value":" if run by ","position":{"start":{"line":61,"column":79,"offset":2234},"end":{"line":61,"column":90,"offset":2245}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('./foo')"}],"position":{"start":{"line":61,"column":90,"offset":2245},"end":{"line":61,"column":108,"offset":2263}}},{"type":"text","value":".","position":{"start":{"line":61,"column":108,"offset":2263},"end":{"line":61,"column":109,"offset":2264}}}],"position":{"start":{"line":61,"column":1,"offset":2156},"end":{"line":61,"column":109,"offset":2264}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Because ","position":{"start":{"line":63,"column":1,"offset":2268},"end":{"line":63,"column":9,"offset":2276}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":63,"column":9,"offset":2276},"end":{"line":63,"column":17,"offset":2284}}},{"type":"text","value":" provides a ","position":{"start":{"line":63,"column":17,"offset":2284},"end":{"line":63,"column":29,"offset":2296}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"filename"}],"position":{"start":{"line":63,"column":29,"offset":2296},"end":{"line":63,"column":39,"offset":2306}}},{"type":"text","value":" property (normally equivalent to ","position":{"start":{"line":63,"column":39,"offset":2306},"end":{"line":63,"column":73,"offset":2340}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__filename"}],"position":{"start":{"line":63,"column":73,"offset":2340},"end":{"line":63,"column":85,"offset":2352}}},{"type":"text","value":"), the entry point of the current application can be obtained by checking ","position":{"start":{"line":63,"column":85,"offset":2352},"end":{"line":63,"column":159,"offset":2426}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.main.filename"}],"position":{"start":{"line":63,"column":159,"offset":2426},"end":{"line":63,"column":182,"offset":2449}}},{"type":"text","value":".","position":{"start":{"line":63,"column":182,"offset":2449},"end":{"line":63,"column":183,"offset":2450}}}],"position":{"start":{"line":63,"column":1,"offset":2268},"end":{"line":63,"column":183,"offset":2450}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Package manager tips","position":{"start":{"line":65,"column":5,"offset":2458},"end":{"line":65,"column":25,"offset":2478}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_package_manager_tips"},"children":[{"type":"text","value":"#","position":{"start":{"line":65,"column":26,"offset":2479},"end":{"line":65,"column":27,"offset":2480}}}],"position":{"start":{"line":65,"column":25,"offset":2478},"end":{"line":65,"column":94,"offset":2547}}}],"position":{"start":{"line":65,"column":1,"offset":2454},"end":{"line":65,"column":94,"offset":2547}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The semantics of the Node.js ","position":{"start":{"line":67,"column":1,"offset":2551},"end":{"line":67,"column":30,"offset":2580}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":67,"column":30,"offset":2580},"end":{"line":67,"column":41,"offset":2591}}},{"type":"text","value":" function were designed to be general enough to support reasonable directory structures. Package manager programs such as ","position":{"start":{"line":67,"column":41,"offset":2591},"end":{"line":67,"column":163,"offset":2713}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"dpkg"}],"position":{"start":{"line":67,"column":163,"offset":2713},"end":{"line":67,"column":169,"offset":2719}}},{"type":"text","value":", ","position":{"start":{"line":67,"column":169,"offset":2719},"end":{"line":67,"column":171,"offset":2721}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"rpm"}],"position":{"start":{"line":67,"column":171,"offset":2721},"end":{"line":67,"column":176,"offset":2726}}},{"type":"text","value":", and ","position":{"start":{"line":67,"column":176,"offset":2726},"end":{"line":67,"column":182,"offset":2732}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npm"}],"position":{"start":{"line":67,"column":182,"offset":2732},"end":{"line":67,"column":187,"offset":2737}}},{"type":"text","value":" will hopefully find it possible to build native packages from Node.js modules without modification.","position":{"start":{"line":67,"column":187,"offset":2737},"end":{"line":67,"column":287,"offset":2837}}}],"position":{"start":{"line":67,"column":1,"offset":2551},"end":{"line":67,"column":287,"offset":2837}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Below we give a suggested directory structure that could work:","position":{"start":{"line":69,"column":1,"offset":2841},"end":{"line":69,"column":63,"offset":2903}}}],"position":{"start":{"line":69,"column":1,"offset":2841},"end":{"line":69,"column":63,"offset":2903}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Let's say that we wanted to have the folder at ","position":{"start":{"line":71,"column":1,"offset":2907},"end":{"line":71,"column":48,"offset":2954}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/<some-package>/<some-version>"}],"position":{"start":{"line":71,"column":48,"offset":2954},"end":{"line":71,"column":93,"offset":2999}}},{"type":"text","value":" hold the contents of a specific version of a package.","position":{"start":{"line":71,"column":93,"offset":2999},"end":{"line":71,"column":147,"offset":3053}}}],"position":{"start":{"line":71,"column":1,"offset":2907},"end":{"line":71,"column":147,"offset":3053}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Packages can depend on one another. In order to install package ","position":{"start":{"line":73,"column":1,"offset":3057},"end":{"line":73,"column":65,"offset":3121}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo"}],"position":{"start":{"line":73,"column":65,"offset":3121},"end":{"line":73,"column":70,"offset":3126}}},{"type":"text","value":", it may be necessary to install a specific version of package ","position":{"start":{"line":73,"column":70,"offset":3126},"end":{"line":73,"column":133,"offset":3189}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bar"}],"position":{"start":{"line":73,"column":133,"offset":3189},"end":{"line":73,"column":138,"offset":3194}}},{"type":"text","value":". The ","position":{"start":{"line":73,"column":138,"offset":3194},"end":{"line":73,"column":144,"offset":3200}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bar"}],"position":{"start":{"line":73,"column":144,"offset":3200},"end":{"line":73,"column":149,"offset":3205}}},{"type":"text","value":" package may itself have dependencies, and in some cases, these may even collide or form cyclic dependencies.","position":{"start":{"line":73,"column":149,"offset":3205},"end":{"line":73,"column":258,"offset":3314}}}],"position":{"start":{"line":73,"column":1,"offset":3057},"end":{"line":73,"column":258,"offset":3314}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Because Node.js looks up the ","position":{"start":{"line":75,"column":1,"offset":3318},"end":{"line":75,"column":30,"offset":3347}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"realpath"}],"position":{"start":{"line":75,"column":30,"offset":3347},"end":{"line":75,"column":40,"offset":3357}}},{"type":"text","value":" of any modules it loads (that is, it resolves symlinks) and then ","position":{"start":{"line":75,"column":40,"offset":3357},"end":{"line":75,"column":106,"offset":3423}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_loading_from_node_modules_folders"},"children":[{"type":"text","value":"looks for their dependencies in ","position":{"start":{"line":75,"column":107,"offset":3424},"end":{"line":75,"column":139,"offset":3456}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":75,"column":139,"offset":3456},"end":{"line":75,"column":153,"offset":3470}}},{"type":"text","value":" folders","position":{"start":{"line":75,"column":153,"offset":3470},"end":{"line":75,"column":161,"offset":3478}}}],"position":{"start":{"line":75,"column":106,"offset":3423},"end":{"line":75,"column":241,"offset":3558}}},{"type":"text","value":", this situation can be resolved with the following architecture:","position":{"start":{"line":75,"column":241,"offset":3558},"end":{"line":75,"column":306,"offset":3623}}}],"position":{"start":{"line":75,"column":1,"offset":3318},"end":{"line":75,"column":306,"offset":3623}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/foo/1.2.3/"}],"position":{"start":{"line":77,"column":3,"offset":3629},"end":{"line":77,"column":29,"offset":3655}}},{"type":"text","value":": Contents of the ","position":{"start":{"line":77,"column":29,"offset":3655},"end":{"line":77,"column":47,"offset":3673}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo"}],"position":{"start":{"line":77,"column":47,"offset":3673},"end":{"line":77,"column":52,"offset":3678}}},{"type":"text","value":" package, version 1.2.3.","position":{"start":{"line":77,"column":52,"offset":3678},"end":{"line":77,"column":76,"offset":3702}}}],"position":{"start":{"line":77,"column":1,"offset":3627},"end":{"line":77,"column":76,"offset":3702}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/bar/4.3.2/"}],"position":{"start":{"line":78,"column":3,"offset":3706},"end":{"line":78,"column":29,"offset":3732}}},{"type":"text","value":": Contents of the ","position":{"start":{"line":78,"column":29,"offset":3732},"end":{"line":78,"column":47,"offset":3750}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bar"}],"position":{"start":{"line":78,"column":47,"offset":3750},"end":{"line":78,"column":52,"offset":3755}}},{"type":"text","value":" package that ","position":{"start":{"line":78,"column":52,"offset":3755},"end":{"line":78,"column":66,"offset":3769}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo"}],"position":{"start":{"line":78,"column":66,"offset":3769},"end":{"line":78,"column":71,"offset":3774}}},{"type":"text","value":" depends on.","position":{"start":{"line":78,"column":71,"offset":3774},"end":{"line":78,"column":83,"offset":3786}}}],"position":{"start":{"line":78,"column":1,"offset":3704},"end":{"line":78,"column":83,"offset":3786}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/foo/1.2.3/node_modules/bar"}],"position":{"start":{"line":79,"column":3,"offset":3790},"end":{"line":79,"column":45,"offset":3832}}},{"type":"text","value":": Symbolic link to ","position":{"start":{"line":79,"column":45,"offset":3832},"end":{"line":79,"column":64,"offset":3851}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/bar/4.3.2/"}],"position":{"start":{"line":79,"column":64,"offset":3851},"end":{"line":79,"column":90,"offset":3877}}},{"type":"text","value":".","position":{"start":{"line":79,"column":90,"offset":3877},"end":{"line":79,"column":91,"offset":3878}}}],"position":{"start":{"line":79,"column":1,"offset":3788},"end":{"line":79,"column":91,"offset":3878}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/bar/4.3.2/node_modules/*"}],"position":{"start":{"line":80,"column":3,"offset":3882},"end":{"line":80,"column":43,"offset":3922}}},{"type":"text","value":": Symbolic links to the packages that ","position":{"start":{"line":80,"column":43,"offset":3922},"end":{"line":80,"column":81,"offset":3960}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bar"}],"position":{"start":{"line":80,"column":81,"offset":3960},"end":{"line":80,"column":86,"offset":3965}}},{"type":"text","value":" depends on.","position":{"start":{"line":80,"column":86,"offset":3965},"end":{"line":80,"column":98,"offset":3977}}}],"position":{"start":{"line":80,"column":1,"offset":3880},"end":{"line":80,"column":98,"offset":3977}}},{"type":"text","value":"\n"}],"position":{"start":{"line":77,"column":1,"offset":3627},"end":{"line":80,"column":98,"offset":3977}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Thus, even if a cycle is encountered, or if there are dependency conflicts, every module will be able to get a version of its dependency that it can use.","position":{"start":{"line":82,"column":1,"offset":3981},"end":{"line":82,"column":154,"offset":4134}}}],"position":{"start":{"line":82,"column":1,"offset":3981},"end":{"line":82,"column":154,"offset":4134}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When the code in the ","position":{"start":{"line":84,"column":1,"offset":4138},"end":{"line":84,"column":22,"offset":4159}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo"}],"position":{"start":{"line":84,"column":22,"offset":4159},"end":{"line":84,"column":27,"offset":4164}}},{"type":"text","value":" package does ","position":{"start":{"line":84,"column":27,"offset":4164},"end":{"line":84,"column":41,"offset":4178}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('bar')"}],"position":{"start":{"line":84,"column":41,"offset":4178},"end":{"line":84,"column":57,"offset":4194}}},{"type":"text","value":", it will get the version that is symlinked into ","position":{"start":{"line":84,"column":57,"offset":4194},"end":{"line":84,"column":106,"offset":4243}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/foo/1.2.3/node_modules/bar"}],"position":{"start":{"line":84,"column":106,"offset":4243},"end":{"line":84,"column":148,"offset":4285}}},{"type":"text","value":". Then, when the code in the ","position":{"start":{"line":84,"column":148,"offset":4285},"end":{"line":84,"column":177,"offset":4314}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bar"}],"position":{"start":{"line":84,"column":177,"offset":4314},"end":{"line":84,"column":182,"offset":4319}}},{"type":"text","value":" package calls ","position":{"start":{"line":84,"column":182,"offset":4319},"end":{"line":84,"column":197,"offset":4334}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('quux')"}],"position":{"start":{"line":84,"column":197,"offset":4334},"end":{"line":84,"column":214,"offset":4351}}},{"type":"text","value":", it'll get the version that is symlinked into ","position":{"start":{"line":84,"column":214,"offset":4351},"end":{"line":84,"column":261,"offset":4398}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/bar/4.3.2/node_modules/quux"}],"position":{"start":{"line":84,"column":261,"offset":4398},"end":{"line":84,"column":304,"offset":4441}}},{"type":"text","value":".","position":{"start":{"line":84,"column":304,"offset":4441},"end":{"line":84,"column":305,"offset":4442}}}],"position":{"start":{"line":84,"column":1,"offset":4138},"end":{"line":84,"column":305,"offset":4442}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Furthermore, to make the module lookup process even more optimal, rather than putting packages directly in ","position":{"start":{"line":86,"column":1,"offset":4446},"end":{"line":86,"column":108,"offset":4553}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node"}],"position":{"start":{"line":86,"column":108,"offset":4553},"end":{"line":86,"column":123,"offset":4568}}},{"type":"text","value":", we could put them in ","position":{"start":{"line":86,"column":123,"offset":4568},"end":{"line":86,"column":146,"offset":4591}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node_modules/<name>/<version>"}],"position":{"start":{"line":86,"column":146,"offset":4591},"end":{"line":86,"column":186,"offset":4631}}},{"type":"text","value":". Then Node.js will not bother looking for missing dependencies in ","position":{"start":{"line":86,"column":186,"offset":4631},"end":{"line":86,"column":253,"offset":4698}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/node_modules"}],"position":{"start":{"line":86,"column":253,"offset":4698},"end":{"line":86,"column":272,"offset":4717}}},{"type":"text","value":" or ","position":{"start":{"line":86,"column":272,"offset":4717},"end":{"line":86,"column":276,"offset":4721}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/node_modules"}],"position":{"start":{"line":86,"column":276,"offset":4721},"end":{"line":86,"column":291,"offset":4736}}},{"type":"text","value":".","position":{"start":{"line":86,"column":291,"offset":4736},"end":{"line":86,"column":292,"offset":4737}}}],"position":{"start":{"line":86,"column":1,"offset":4446},"end":{"line":86,"column":292,"offset":4737}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In order to make modules available to the Node.js REPL, it might be useful to also add the ","position":{"start":{"line":88,"column":1,"offset":4741},"end":{"line":88,"column":92,"offset":4832}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node_modules"}],"position":{"start":{"line":88,"column":92,"offset":4832},"end":{"line":88,"column":115,"offset":4855}}},{"type":"text","value":" folder to the ","position":{"start":{"line":88,"column":115,"offset":4855},"end":{"line":88,"column":130,"offset":4870}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$NODE_PATH"}],"position":{"start":{"line":88,"column":130,"offset":4870},"end":{"line":88,"column":142,"offset":4882}}},{"type":"text","value":" environment variable. Since the module lookups using ","position":{"start":{"line":88,"column":142,"offset":4882},"end":{"line":88,"column":196,"offset":4936}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":88,"column":196,"offset":4936},"end":{"line":88,"column":210,"offset":4950}}},{"type":"text","value":" folders are all relative, and based on the real path of the files making the calls to ","position":{"start":{"line":88,"column":210,"offset":4950},"end":{"line":88,"column":297,"offset":5037}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":88,"column":297,"offset":5037},"end":{"line":88,"column":308,"offset":5048}}},{"type":"text","value":", the packages themselves can be anywhere.","position":{"start":{"line":88,"column":308,"offset":5048},"end":{"line":88,"column":350,"offset":5090}}}],"position":{"start":{"line":88,"column":1,"offset":4741},"end":{"line":88,"column":350,"offset":5090}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":90,"column":5,"offset":5098},"end":{"line":90,"column":9,"offset":5102}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".mjs"}],"position":{"start":{"line":90,"column":9,"offset":5102},"end":{"line":90,"column":15,"offset":5108}}},{"type":"text","value":" extension","position":{"start":{"line":90,"column":15,"offset":5108},"end":{"line":90,"column":25,"offset":5118}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_mjs_extension"},"children":[{"type":"text","value":"#","position":{"start":{"line":90,"column":26,"offset":5119},"end":{"line":90,"column":27,"offset":5120}}}],"position":{"start":{"line":90,"column":25,"offset":5118},"end":{"line":90,"column":91,"offset":5184}}}],"position":{"start":{"line":90,"column":1,"offset":5094},"end":{"line":90,"column":91,"offset":5184}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is not possible to ","position":{"start":{"line":92,"column":1,"offset":5188},"end":{"line":92,"column":23,"offset":5210}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":92,"column":23,"offset":5210},"end":{"line":92,"column":34,"offset":5221}}},{"type":"text","value":" files that have the ","position":{"start":{"line":92,"column":34,"offset":5221},"end":{"line":92,"column":55,"offset":5242}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".mjs"}],"position":{"start":{"line":92,"column":55,"offset":5242},"end":{"line":92,"column":61,"offset":5248}}},{"type":"text","value":" extension. Attempting to do so will throw ","position":{"start":{"line":92,"column":61,"offset":5248},"end":{"line":92,"column":104,"offset":5291}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/errors.html#errors_err_require_esm"},"children":[{"type":"text","value":"an error","position":{"start":{"line":92,"column":105,"offset":5292},"end":{"line":92,"column":113,"offset":5300}}}],"position":{"start":{"line":92,"column":104,"offset":5291},"end":{"line":92,"column":173,"offset":5360}}},{"type":"text","value":". The ","position":{"start":{"line":92,"column":173,"offset":5360},"end":{"line":92,"column":179,"offset":5366}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".mjs"}],"position":{"start":{"line":92,"column":179,"offset":5366},"end":{"line":92,"column":185,"offset":5372}}},{"type":"text","value":" extension is reserved for ","position":{"start":{"line":92,"column":185,"offset":5372},"end":{"line":92,"column":212,"offset":5399}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/esm.html"},"children":[{"type":"text","value":"ECMAScript Modules","position":{"start":{"line":92,"column":213,"offset":5400},"end":{"line":92,"column":231,"offset":5418}}}],"position":{"start":{"line":92,"column":212,"offset":5399},"end":{"line":92,"column":265,"offset":5452}}},{"type":"text","value":" which cannot be loaded via ","position":{"start":{"line":92,"column":265,"offset":5452},"end":{"line":92,"column":293,"offset":5480}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":92,"column":293,"offset":5480},"end":{"line":92,"column":304,"offset":5491}}},{"type":"text","value":". See ","position":{"start":{"line":92,"column":304,"offset":5491},"end":{"line":92,"column":310,"offset":5497}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/esm.html"},"children":[{"type":"text","value":"ECMAScript Modules","position":{"start":{"line":92,"column":311,"offset":5498},"end":{"line":92,"column":329,"offset":5516}}}],"position":{"start":{"line":92,"column":310,"offset":5497},"end":{"line":92,"column":363,"offset":5550}}},{"type":"text","value":" for more details.","position":{"start":{"line":92,"column":363,"offset":5550},"end":{"line":92,"column":381,"offset":5568}}}],"position":{"start":{"line":92,"column":1,"offset":5188},"end":{"line":92,"column":381,"offset":5568}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"All together...","position":{"start":{"line":94,"column":5,"offset":5576},"end":{"line":94,"column":20,"offset":5591}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_all_together"},"children":[{"type":"text","value":"#","position":{"start":{"line":94,"column":21,"offset":5592},"end":{"line":94,"column":22,"offset":5593}}}],"position":{"start":{"line":94,"column":20,"offset":5591},"end":{"line":94,"column":81,"offset":5652}}}],"position":{"start":{"line":94,"column":1,"offset":5572},"end":{"line":94,"column":81,"offset":5652}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To get the exact filename that will be loaded when ","position":{"start":{"line":96,"column":1,"offset":5656},"end":{"line":96,"column":52,"offset":5707}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":96,"column":52,"offset":5707},"end":{"line":96,"column":63,"offset":5718}}},{"type":"text","value":" is called, use the ","position":{"start":{"line":96,"column":63,"offset":5718},"end":{"line":96,"column":83,"offset":5738}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.resolve()"}],"position":{"start":{"line":96,"column":83,"offset":5738},"end":{"line":96,"column":102,"offset":5757}}},{"type":"text","value":" function.","position":{"start":{"line":96,"column":102,"offset":5757},"end":{"line":96,"column":112,"offset":5767}}}],"position":{"start":{"line":96,"column":1,"offset":5656},"end":{"line":96,"column":112,"offset":5767}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Putting together all of the above, here is the high-level algorithm in pseudocode of what ","position":{"start":{"line":98,"column":1,"offset":5771},"end":{"line":98,"column":91,"offset":5861}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":98,"column":91,"offset":5861},"end":{"line":98,"column":102,"offset":5872}}},{"type":"text","value":" does:","position":{"start":{"line":98,"column":102,"offset":5872},"end":{"line":98,"column":108,"offset":5878}}}],"position":{"start":{"line":98,"column":1,"offset":5771},"end":{"line":98,"column":108,"offset":5878}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"require(X) from module at path Y","position":{"start":{"line":100,"column":1,"offset":5882},"end":{"line":100,"column":33,"offset":5914}}}],"position":{"start":{"line":100,"column":1,"offset":5882},"end":{"line":100,"column":33,"offset":5914}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X is a core module,\na. return the core module\nb. STOP","position":{"start":{"line":102,"column":4,"offset":5921},"end":{"line":104,"column":11,"offset":5985}}}],"position":{"start":{"line":102,"column":1,"offset":5918},"end":{"line":104,"column":11,"offset":5985}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X begins with '/'\na. set Y to be the filesystem root","position":{"start":{"line":105,"column":4,"offset":5990},"end":{"line":106,"column":38,"offset":6049}}}],"position":{"start":{"line":105,"column":1,"offset":5987},"end":{"line":106,"column":38,"offset":6049}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X begins with './' or '/' or '../'\na. LOAD","position":{"start":{"line":107,"column":4,"offset":6054},"end":{"line":108,"column":11,"offset":6103}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":108,"column":12,"offset":6104},"end":{"line":108,"column":14,"offset":6106}}}],"position":{"start":{"line":108,"column":11,"offset":6103},"end":{"line":108,"column":15,"offset":6107}}},{"type":"text","value":"FILE(Y + X)\nb. LOAD","position":{"start":{"line":108,"column":15,"offset":6107},"end":{"line":109,"column":11,"offset":6130}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":109,"column":12,"offset":6131},"end":{"line":109,"column":14,"offset":6133}}}],"position":{"start":{"line":109,"column":11,"offset":6130},"end":{"line":109,"column":15,"offset":6134}}},{"type":"text","value":"DIRECTORY(Y + X)\nc. THROW \"not found\"","position":{"start":{"line":109,"column":15,"offset":6134},"end":{"line":110,"column":24,"offset":6175}}}],"position":{"start":{"line":107,"column":1,"offset":6051},"end":{"line":110,"column":24,"offset":6175}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X begins with '#'\na. LOAD","position":{"start":{"line":111,"column":4,"offset":6180},"end":{"line":112,"column":11,"offset":6212}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PACKAGE","position":{"start":{"line":112,"column":12,"offset":6213},"end":{"line":112,"column":19,"offset":6220}}}],"position":{"start":{"line":112,"column":11,"offset":6212},"end":{"line":112,"column":20,"offset":6221}}},{"type":"text","value":"IMPORTS(X, dirname(Y))","position":{"start":{"line":112,"column":20,"offset":6221},"end":{"line":112,"column":42,"offset":6243}}}],"position":{"start":{"line":111,"column":1,"offset":6177},"end":{"line":112,"column":42,"offset":6243}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":113,"column":4,"offset":6248},"end":{"line":113,"column":8,"offset":6252}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PACKAGE","position":{"start":{"line":113,"column":9,"offset":6253},"end":{"line":113,"column":16,"offset":6260}}}],"position":{"start":{"line":113,"column":8,"offset":6252},"end":{"line":113,"column":17,"offset":6261}}},{"type":"text","value":"SELF(X, dirname(Y))","position":{"start":{"line":113,"column":17,"offset":6261},"end":{"line":113,"column":36,"offset":6280}}}],"position":{"start":{"line":113,"column":1,"offset":6245},"end":{"line":113,"column":36,"offset":6280}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":114,"column":4,"offset":6285},"end":{"line":114,"column":8,"offset":6289}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"NODE","position":{"start":{"line":114,"column":9,"offset":6290},"end":{"line":114,"column":13,"offset":6294}}}],"position":{"start":{"line":114,"column":8,"offset":6289},"end":{"line":114,"column":14,"offset":6295}}},{"type":"text","value":"MODULES(X, dirname(Y))","position":{"start":{"line":114,"column":14,"offset":6295},"end":{"line":114,"column":36,"offset":6317}}}],"position":{"start":{"line":114,"column":1,"offset":6282},"end":{"line":114,"column":36,"offset":6317}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"THROW \"not found\"","position":{"start":{"line":115,"column":4,"offset":6322},"end":{"line":115,"column":21,"offset":6339}}}],"position":{"start":{"line":115,"column":1,"offset":6319},"end":{"line":115,"column":21,"offset":6339}}},{"type":"text","value":"\n"}],"position":{"start":{"line":102,"column":1,"offset":5918},"end":{"line":115,"column":21,"offset":6339}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":117,"column":1,"offset":6343},"end":{"line":117,"column":5,"offset":6347}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":117,"column":6,"offset":6348},"end":{"line":117,"column":8,"offset":6350}}}],"position":{"start":{"line":117,"column":5,"offset":6347},"end":{"line":117,"column":9,"offset":6351}}},{"type":"text","value":"FILE(X)","position":{"start":{"line":117,"column":9,"offset":6351},"end":{"line":117,"column":16,"offset":6358}}}],"position":{"start":{"line":117,"column":1,"offset":6343},"end":{"line":117,"column":16,"offset":6358}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X is a file, load X as its file extension format. STOP","position":{"start":{"line":119,"column":4,"offset":6365},"end":{"line":119,"column":61,"offset":6422}}}],"position":{"start":{"line":119,"column":1,"offset":6362},"end":{"line":119,"column":61,"offset":6422}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X.js is a file, load X.js as JavaScript text. STOP","position":{"start":{"line":120,"column":4,"offset":6427},"end":{"line":120,"column":57,"offset":6480}}}],"position":{"start":{"line":120,"column":1,"offset":6424},"end":{"line":120,"column":57,"offset":6480}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X.json is a file, parse X.json to a JavaScript Object. STOP","position":{"start":{"line":121,"column":4,"offset":6485},"end":{"line":121,"column":66,"offset":6547}}}],"position":{"start":{"line":121,"column":1,"offset":6482},"end":{"line":121,"column":66,"offset":6547}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X.node is a file, load X.node as binary addon. STOP","position":{"start":{"line":122,"column":4,"offset":6552},"end":{"line":122,"column":58,"offset":6606}}}],"position":{"start":{"line":122,"column":1,"offset":6549},"end":{"line":122,"column":58,"offset":6606}}},{"type":"text","value":"\n"}],"position":{"start":{"line":119,"column":1,"offset":6362},"end":{"line":122,"column":58,"offset":6606}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD_INDEX(X)","position":{"start":{"line":124,"column":1,"offset":6610},"end":{"line":124,"column":14,"offset":6623}}}],"position":{"start":{"line":124,"column":1,"offset":6610},"end":{"line":124,"column":14,"offset":6623}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X/index.js is a file, load X/index.js as JavaScript text. STOP","position":{"start":{"line":126,"column":4,"offset":6630},"end":{"line":126,"column":69,"offset":6695}}}],"position":{"start":{"line":126,"column":1,"offset":6627},"end":{"line":126,"column":69,"offset":6695}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X/index.json is a file, parse X/index.json to a JavaScript object. STOP","position":{"start":{"line":127,"column":4,"offset":6700},"end":{"line":127,"column":78,"offset":6774}}}],"position":{"start":{"line":127,"column":1,"offset":6697},"end":{"line":127,"column":78,"offset":6774}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X/index.node is a file, load X/index.node as binary addon. STOP","position":{"start":{"line":128,"column":4,"offset":6779},"end":{"line":128,"column":70,"offset":6845}}}],"position":{"start":{"line":128,"column":1,"offset":6776},"end":{"line":128,"column":70,"offset":6845}}},{"type":"text","value":"\n"}],"position":{"start":{"line":126,"column":1,"offset":6627},"end":{"line":128,"column":70,"offset":6845}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":130,"column":1,"offset":6849},"end":{"line":130,"column":5,"offset":6853}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":130,"column":6,"offset":6854},"end":{"line":130,"column":8,"offset":6856}}}],"position":{"start":{"line":130,"column":5,"offset":6853},"end":{"line":130,"column":9,"offset":6857}}},{"type":"text","value":"DIRECTORY(X)","position":{"start":{"line":130,"column":9,"offset":6857},"end":{"line":130,"column":21,"offset":6869}}}],"position":{"start":{"line":130,"column":1,"offset":6849},"end":{"line":130,"column":21,"offset":6869}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X/package.json is a file,\na. Parse X/package.json, and look for \"main\" field.\nb. If \"main\" is a falsy value, GOTO 2.\nc. let M = X + (json main field)\nd. LOAD","position":{"start":{"line":132,"column":4,"offset":6876},"end":{"line":136,"column":11,"offset":7052}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":136,"column":12,"offset":7053},"end":{"line":136,"column":14,"offset":7055}}}],"position":{"start":{"line":136,"column":11,"offset":7052},"end":{"line":136,"column":15,"offset":7056}}},{"type":"text","value":"FILE(M)\ne. LOAD","position":{"start":{"line":136,"column":15,"offset":7056},"end":{"line":137,"column":11,"offset":7075}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"INDEX(M)\nf. LOAD","position":{"start":{"line":137,"column":12,"offset":7076},"end":{"line":138,"column":11,"offset":7096}}}],"position":{"start":{"line":137,"column":11,"offset":7075},"end":{"line":138,"column":12,"offset":7097}}},{"type":"text","value":"INDEX(X) DEPRECATED\ng. THROW \"not found\"","position":{"start":{"line":138,"column":12,"offset":7097},"end":{"line":139,"column":24,"offset":7141}}}],"position":{"start":{"line":132,"column":1,"offset":6873},"end":{"line":139,"column":24,"offset":7141}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"LOAD_INDEX(X)","position":{"start":{"line":140,"column":4,"offset":7146},"end":{"line":140,"column":17,"offset":7159}}}],"position":{"start":{"line":140,"column":1,"offset":7143},"end":{"line":140,"column":17,"offset":7159}}},{"type":"text","value":"\n"}],"position":{"start":{"line":132,"column":1,"offset":6873},"end":{"line":140,"column":17,"offset":7159}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":142,"column":1,"offset":7163},"end":{"line":142,"column":5,"offset":7167}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"NODE","position":{"start":{"line":142,"column":6,"offset":7168},"end":{"line":142,"column":10,"offset":7172}}}],"position":{"start":{"line":142,"column":5,"offset":7167},"end":{"line":142,"column":11,"offset":7173}}},{"type":"text","value":"MODULES(X, START)","position":{"start":{"line":142,"column":11,"offset":7173},"end":{"line":142,"column":28,"offset":7190}}}],"position":{"start":{"line":142,"column":1,"offset":7163},"end":{"line":142,"column":28,"offset":7190}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let DIRS = NODE","position":{"start":{"line":144,"column":4,"offset":7197},"end":{"line":144,"column":19,"offset":7212}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"MODULES","position":{"start":{"line":144,"column":20,"offset":7213},"end":{"line":144,"column":27,"offset":7220}}}],"position":{"start":{"line":144,"column":19,"offset":7212},"end":{"line":144,"column":28,"offset":7221}}},{"type":"text","value":"PATHS(START)","position":{"start":{"line":144,"column":28,"offset":7221},"end":{"line":144,"column":40,"offset":7233}}}],"position":{"start":{"line":144,"column":1,"offset":7194},"end":{"line":144,"column":40,"offset":7233}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"for each DIR in DIRS:\na. LOAD","position":{"start":{"line":145,"column":4,"offset":7238},"end":{"line":146,"column":11,"offset":7271}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PACKAGE","position":{"start":{"line":146,"column":12,"offset":7272},"end":{"line":146,"column":19,"offset":7279}}}],"position":{"start":{"line":146,"column":11,"offset":7271},"end":{"line":146,"column":20,"offset":7280}}},{"type":"text","value":"EXPORTS(X, DIR)\nb. LOAD","position":{"start":{"line":146,"column":20,"offset":7280},"end":{"line":147,"column":11,"offset":7307}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":147,"column":12,"offset":7308},"end":{"line":147,"column":14,"offset":7310}}}],"position":{"start":{"line":147,"column":11,"offset":7307},"end":{"line":147,"column":15,"offset":7311}}},{"type":"text","value":"FILE(DIR/X)\nc. LOAD","position":{"start":{"line":147,"column":15,"offset":7311},"end":{"line":148,"column":11,"offset":7334}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":148,"column":12,"offset":7335},"end":{"line":148,"column":14,"offset":7337}}}],"position":{"start":{"line":148,"column":11,"offset":7334},"end":{"line":148,"column":15,"offset":7338}}},{"type":"text","value":"DIRECTORY(DIR/X)","position":{"start":{"line":148,"column":15,"offset":7338},"end":{"line":148,"column":31,"offset":7354}}}],"position":{"start":{"line":145,"column":1,"offset":7235},"end":{"line":148,"column":31,"offset":7354}}},{"type":"text","value":"\n"}],"position":{"start":{"line":144,"column":1,"offset":7194},"end":{"line":148,"column":31,"offset":7354}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"NODE","position":{"start":{"line":150,"column":1,"offset":7358},"end":{"line":150,"column":5,"offset":7362}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"MODULES","position":{"start":{"line":150,"column":6,"offset":7363},"end":{"line":150,"column":13,"offset":7370}}}],"position":{"start":{"line":150,"column":5,"offset":7362},"end":{"line":150,"column":14,"offset":7371}}},{"type":"text","value":"PATHS(START)","position":{"start":{"line":150,"column":14,"offset":7371},"end":{"line":150,"column":26,"offset":7383}}}],"position":{"start":{"line":150,"column":1,"offset":7358},"end":{"line":150,"column":26,"offset":7383}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let PARTS = path split(START)","position":{"start":{"line":152,"column":4,"offset":7390},"end":{"line":152,"column":33,"offset":7419}}}],"position":{"start":{"line":152,"column":1,"offset":7387},"end":{"line":152,"column":33,"offset":7419}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let I = count of PARTS - 1","position":{"start":{"line":153,"column":4,"offset":7424},"end":{"line":153,"column":30,"offset":7450}}}],"position":{"start":{"line":153,"column":1,"offset":7421},"end":{"line":153,"column":30,"offset":7450}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let DIRS = ","position":{"start":{"line":154,"column":4,"offset":7455},"end":{"line":154,"column":15,"offset":7466}}},{"type":"text","value":"[GLOBAL_FOLDERS]","position":{"start":{"line":154,"column":16,"offset":7467},"end":{"line":154,"column":30,"offset":7481}}}],"position":{"start":{"line":154,"column":1,"offset":7452},"end":{"line":154,"column":31,"offset":7482}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"while I >= 0,\na. if PARTS","position":{"start":{"line":155,"column":4,"offset":7487},"end":{"line":156,"column":15,"offset":7516}}},{"type":"text","value":"[I]","position":{"start":{"line":156,"column":16,"offset":7517},"end":{"line":156,"column":17,"offset":7518}}},{"type":"text","value":" = \"node","position":{"start":{"line":156,"column":18,"offset":7519},"end":{"line":156,"column":26,"offset":7527}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"modules\" CONTINUE\nb. DIR = path join(PARTS","position":{"start":{"line":156,"column":27,"offset":7528},"end":{"line":157,"column":28,"offset":7574}}},{"type":"text","value":"[0 .. I]","position":{"start":{"line":157,"column":29,"offset":7575},"end":{"line":157,"column":35,"offset":7581}}},{"type":"text","value":" + \"node","position":{"start":{"line":157,"column":36,"offset":7582},"end":{"line":157,"column":44,"offset":7590}}}],"position":{"start":{"line":156,"column":26,"offset":7527},"end":{"line":157,"column":45,"offset":7591}}},{"type":"text","value":"modules\")\nc. DIRS = DIRS + DIR\nd. let I = I - 1","position":{"start":{"line":157,"column":45,"offset":7591},"end":{"line":159,"column":20,"offset":7646}}}],"position":{"start":{"line":155,"column":1,"offset":7484},"end":{"line":159,"column":20,"offset":7646}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"return DIRS","position":{"start":{"line":160,"column":4,"offset":7651},"end":{"line":160,"column":15,"offset":7662}}}],"position":{"start":{"line":160,"column":1,"offset":7648},"end":{"line":160,"column":15,"offset":7662}}},{"type":"text","value":"\n"}],"position":{"start":{"line":152,"column":1,"offset":7387},"end":{"line":160,"column":15,"offset":7662}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":162,"column":1,"offset":7666},"end":{"line":162,"column":5,"offset":7670}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PACKAGE","position":{"start":{"line":162,"column":6,"offset":7671},"end":{"line":162,"column":13,"offset":7678}}}],"position":{"start":{"line":162,"column":5,"offset":7670},"end":{"line":162,"column":14,"offset":7679}}},{"type":"text","value":"IMPORTS(X, DIR)","position":{"start":{"line":162,"column":14,"offset":7679},"end":{"line":162,"column":29,"offset":7694}}}],"position":{"start":{"line":162,"column":1,"offset":7666},"end":{"line":162,"column":29,"offset":7694}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Find the closest package scope SCOPE to DIR.","position":{"start":{"line":164,"column":4,"offset":7701},"end":{"line":164,"column":48,"offset":7745}}}],"position":{"start":{"line":164,"column":1,"offset":7698},"end":{"line":164,"column":48,"offset":7745}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If no scope was found, return.","position":{"start":{"line":165,"column":4,"offset":7750},"end":{"line":165,"column":34,"offset":7780}}}],"position":{"start":{"line":165,"column":1,"offset":7747},"end":{"line":165,"column":34,"offset":7780}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If the SCOPE/package.json \"imports\" is null or undefined, return.","position":{"start":{"line":166,"column":4,"offset":7785},"end":{"line":166,"column":69,"offset":7850}}}],"position":{"start":{"line":166,"column":1,"offset":7782},"end":{"line":166,"column":69,"offset":7850}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let MATCH = PACKAGE","position":{"start":{"line":167,"column":4,"offset":7855},"end":{"line":167,"column":23,"offset":7874}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"IMPORTS","position":{"start":{"line":167,"column":24,"offset":7875},"end":{"line":167,"column":31,"offset":7882}}}],"position":{"start":{"line":167,"column":23,"offset":7874},"end":{"line":167,"column":32,"offset":7883}}},{"type":"text","value":"RESOLVE(X, pathToFileURL(SCOPE),\n","position":{"start":{"line":167,"column":32,"offset":7883},"end":{"line":168,"column":4,"offset":7920}}},{"type":"text","value":"[\"node\", \"require\"]","position":{"start":{"line":168,"column":5,"offset":7921},"end":{"line":168,"column":22,"offset":7938}}},{"type":"text","value":") ","position":{"start":{"line":168,"column":23,"offset":7939},"end":{"line":168,"column":25,"offset":7941}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/esm.md#resolver-algorithm-specification"},"children":[{"type":"text","value":"defined in the ESM resolver","position":{"start":{"line":168,"column":26,"offset":7942},"end":{"line":168,"column":53,"offset":7969}}}],"position":{"start":{"line":168,"column":25,"offset":7941},"end":{"line":168,"column":118,"offset":8034}}},{"type":"text","value":".","position":{"start":{"line":168,"column":118,"offset":8034},"end":{"line":168,"column":119,"offset":8035}}}],"position":{"start":{"line":167,"column":1,"offset":7852},"end":{"line":168,"column":119,"offset":8035}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"RESOLVE","position":{"start":{"line":169,"column":4,"offset":8040},"end":{"line":169,"column":11,"offset":8047}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ESM","position":{"start":{"line":169,"column":12,"offset":8048},"end":{"line":169,"column":15,"offset":8051}}}],"position":{"start":{"line":169,"column":11,"offset":8047},"end":{"line":169,"column":16,"offset":8052}}},{"type":"text","value":"MATCH(MATCH).","position":{"start":{"line":169,"column":16,"offset":8052},"end":{"line":169,"column":29,"offset":8065}}}],"position":{"start":{"line":169,"column":1,"offset":8037},"end":{"line":169,"column":29,"offset":8065}}},{"type":"text","value":"\n"}],"position":{"start":{"line":164,"column":1,"offset":7698},"end":{"line":169,"column":29,"offset":8065}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":171,"column":1,"offset":8069},"end":{"line":171,"column":5,"offset":8073}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PACKAGE","position":{"start":{"line":171,"column":6,"offset":8074},"end":{"line":171,"column":13,"offset":8081}}}],"position":{"start":{"line":171,"column":5,"offset":8073},"end":{"line":171,"column":14,"offset":8082}}},{"type":"text","value":"EXPORTS(X, DIR)","position":{"start":{"line":171,"column":14,"offset":8082},"end":{"line":171,"column":29,"offset":8097}}}],"position":{"start":{"line":171,"column":1,"offset":8069},"end":{"line":171,"column":29,"offset":8097}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Try to interpret X as a combination of NAME and SUBPATH where the name\nmay have a @scope/ prefix and the subpath begins with a slash (","position":{"start":{"line":173,"column":4,"offset":8104},"end":{"line":174,"column":67,"offset":8242}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/"}],"position":{"start":{"line":174,"column":67,"offset":8242},"end":{"line":174,"column":70,"offset":8245}}},{"type":"text","value":").","position":{"start":{"line":174,"column":70,"offset":8245},"end":{"line":174,"column":72,"offset":8247}}}],"position":{"start":{"line":173,"column":1,"offset":8101},"end":{"line":174,"column":72,"offset":8247}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X does not match this pattern or DIR/NAME/package.json is not a file,\nreturn.","position":{"start":{"line":175,"column":4,"offset":8252},"end":{"line":176,"column":11,"offset":8336}}}],"position":{"start":{"line":175,"column":1,"offset":8249},"end":{"line":176,"column":11,"offset":8336}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Parse DIR/NAME/package.json, and look for \"exports\" field.","position":{"start":{"line":177,"column":4,"offset":8341},"end":{"line":177,"column":62,"offset":8399}}}],"position":{"start":{"line":177,"column":1,"offset":8338},"end":{"line":177,"column":62,"offset":8399}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If \"exports\" is null or undefined, return.","position":{"start":{"line":178,"column":4,"offset":8404},"end":{"line":178,"column":46,"offset":8446}}}],"position":{"start":{"line":178,"column":1,"offset":8401},"end":{"line":178,"column":46,"offset":8446}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let MATCH = PACKAGE","position":{"start":{"line":179,"column":4,"offset":8451},"end":{"line":179,"column":23,"offset":8470}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"EXPORTS","position":{"start":{"line":179,"column":24,"offset":8471},"end":{"line":179,"column":31,"offset":8478}}}],"position":{"start":{"line":179,"column":23,"offset":8470},"end":{"line":179,"column":32,"offset":8479}}},{"type":"text","value":"RESOLVE(pathToFileURL(DIR/NAME), \".\" + SUBPATH,\n","position":{"start":{"line":179,"column":32,"offset":8479},"end":{"line":180,"column":4,"offset":8531}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":180,"column":4,"offset":8531},"end":{"line":180,"column":18,"offset":8545}}},{"type":"text","value":" \"exports\", ","position":{"start":{"line":180,"column":18,"offset":8545},"end":{"line":180,"column":30,"offset":8557}}},{"type":"text","value":"[\"node\", \"require\"]","position":{"start":{"line":180,"column":31,"offset":8558},"end":{"line":180,"column":48,"offset":8575}}},{"type":"text","value":") ","position":{"start":{"line":180,"column":49,"offset":8576},"end":{"line":180,"column":51,"offset":8578}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/esm.md#resolver-algorithm-specification"},"children":[{"type":"text","value":"defined in the ESM resolver","position":{"start":{"line":180,"column":52,"offset":8579},"end":{"line":180,"column":79,"offset":8606}}}],"position":{"start":{"line":180,"column":51,"offset":8578},"end":{"line":180,"column":144,"offset":8671}}},{"type":"text","value":".","position":{"start":{"line":180,"column":144,"offset":8671},"end":{"line":180,"column":145,"offset":8672}}}],"position":{"start":{"line":179,"column":1,"offset":8448},"end":{"line":180,"column":145,"offset":8672}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"RESOLVE","position":{"start":{"line":181,"column":4,"offset":8677},"end":{"line":181,"column":11,"offset":8684}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ESM","position":{"start":{"line":181,"column":12,"offset":8685},"end":{"line":181,"column":15,"offset":8688}}}],"position":{"start":{"line":181,"column":11,"offset":8684},"end":{"line":181,"column":16,"offset":8689}}},{"type":"text","value":"MATCH(MATCH)","position":{"start":{"line":181,"column":16,"offset":8689},"end":{"line":181,"column":28,"offset":8701}}}],"position":{"start":{"line":181,"column":1,"offset":8674},"end":{"line":181,"column":28,"offset":8701}}},{"type":"text","value":"\n"}],"position":{"start":{"line":173,"column":1,"offset":8101},"end":{"line":181,"column":28,"offset":8701}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":183,"column":1,"offset":8705},"end":{"line":183,"column":5,"offset":8709}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PACKAGE","position":{"start":{"line":183,"column":6,"offset":8710},"end":{"line":183,"column":13,"offset":8717}}}],"position":{"start":{"line":183,"column":5,"offset":8709},"end":{"line":183,"column":14,"offset":8718}}},{"type":"text","value":"SELF(X, DIR)","position":{"start":{"line":183,"column":14,"offset":8718},"end":{"line":183,"column":26,"offset":8730}}}],"position":{"start":{"line":183,"column":1,"offset":8705},"end":{"line":183,"column":26,"offset":8730}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Find the closest package scope SCOPE to DIR.","position":{"start":{"line":185,"column":4,"offset":8737},"end":{"line":185,"column":48,"offset":8781}}}],"position":{"start":{"line":185,"column":1,"offset":8734},"end":{"line":185,"column":48,"offset":8781}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If no scope was found, return.","position":{"start":{"line":186,"column":4,"offset":8786},"end":{"line":186,"column":34,"offset":8816}}}],"position":{"start":{"line":186,"column":1,"offset":8783},"end":{"line":186,"column":34,"offset":8816}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If the SCOPE/package.json \"exports\" is null or undefined, return.","position":{"start":{"line":187,"column":4,"offset":8821},"end":{"line":187,"column":69,"offset":8886}}}],"position":{"start":{"line":187,"column":1,"offset":8818},"end":{"line":187,"column":69,"offset":8886}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If the SCOPE/package.json \"name\" is not the first segment of X, return.","position":{"start":{"line":188,"column":4,"offset":8891},"end":{"line":188,"column":75,"offset":8962}}}],"position":{"start":{"line":188,"column":1,"offset":8888},"end":{"line":188,"column":75,"offset":8962}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let MATCH = PACKAGE","position":{"start":{"line":189,"column":4,"offset":8967},"end":{"line":189,"column":23,"offset":8986}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"EXPORTS","position":{"start":{"line":189,"column":24,"offset":8987},"end":{"line":189,"column":31,"offset":8994}}}],"position":{"start":{"line":189,"column":23,"offset":8986},"end":{"line":189,"column":32,"offset":8995}}},{"type":"text","value":"RESOLVE(pathToFileURL(SCOPE),\n\".\" + X.slice(\"name\".length), ","position":{"start":{"line":189,"column":32,"offset":8995},"end":{"line":190,"column":34,"offset":9059}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":190,"column":34,"offset":9059},"end":{"line":190,"column":48,"offset":9073}}},{"type":"text","value":" \"exports\", ","position":{"start":{"line":190,"column":48,"offset":9073},"end":{"line":190,"column":60,"offset":9085}}},{"type":"text","value":"[\"node\", \"require\"]","position":{"start":{"line":190,"column":61,"offset":9086},"end":{"line":190,"column":78,"offset":9103}}},{"type":"text","value":")\n","position":{"start":{"line":190,"column":79,"offset":9104},"end":{"line":191,"column":4,"offset":9110}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/esm.md#resolver-algorithm-specification"},"children":[{"type":"text","value":"defined in the ESM resolver","position":{"start":{"line":191,"column":5,"offset":9111},"end":{"line":191,"column":32,"offset":9138}}}],"position":{"start":{"line":191,"column":4,"offset":9110},"end":{"line":191,"column":97,"offset":9203}}},{"type":"text","value":".","position":{"start":{"line":191,"column":97,"offset":9203},"end":{"line":191,"column":98,"offset":9204}}}],"position":{"start":{"line":189,"column":1,"offset":8964},"end":{"line":191,"column":98,"offset":9204}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"RESOLVE","position":{"start":{"line":192,"column":4,"offset":9209},"end":{"line":192,"column":11,"offset":9216}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ESM","position":{"start":{"line":192,"column":12,"offset":9217},"end":{"line":192,"column":15,"offset":9220}}}],"position":{"start":{"line":192,"column":11,"offset":9216},"end":{"line":192,"column":16,"offset":9221}}},{"type":"text","value":"MATCH(MATCH)","position":{"start":{"line":192,"column":16,"offset":9221},"end":{"line":192,"column":28,"offset":9233}}}],"position":{"start":{"line":192,"column":1,"offset":9206},"end":{"line":192,"column":28,"offset":9233}}},{"type":"text","value":"\n"}],"position":{"start":{"line":185,"column":1,"offset":8734},"end":{"line":192,"column":28,"offset":9233}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"RESOLVE","position":{"start":{"line":194,"column":1,"offset":9237},"end":{"line":194,"column":8,"offset":9244}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ESM","position":{"start":{"line":194,"column":9,"offset":9245},"end":{"line":194,"column":12,"offset":9248}}}],"position":{"start":{"line":194,"column":8,"offset":9244},"end":{"line":194,"column":13,"offset":9249}}},{"type":"text","value":"MATCH(MATCH)","position":{"start":{"line":194,"column":13,"offset":9249},"end":{"line":194,"column":25,"offset":9261}}}],"position":{"start":{"line":194,"column":1,"offset":9237},"end":{"line":194,"column":25,"offset":9261}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let { RESOLVED, EXACT } = MATCH","position":{"start":{"line":196,"column":4,"offset":9268},"end":{"line":196,"column":35,"offset":9299}}}],"position":{"start":{"line":196,"column":1,"offset":9265},"end":{"line":196,"column":35,"offset":9299}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let RESOLVED_PATH = fileURLToPath(RESOLVED)","position":{"start":{"line":197,"column":4,"offset":9304},"end":{"line":197,"column":47,"offset":9347}}}],"position":{"start":{"line":197,"column":1,"offset":9301},"end":{"line":197,"column":47,"offset":9347}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If EXACT is true,\na. If the file at RESOLVED","position":{"start":{"line":198,"column":4,"offset":9352},"end":{"line":199,"column":30,"offset":9400}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PATH exists, load RESOLVED","position":{"start":{"line":199,"column":31,"offset":9401},"end":{"line":199,"column":57,"offset":9427}}}],"position":{"start":{"line":199,"column":30,"offset":9400},"end":{"line":199,"column":58,"offset":9428}}},{"type":"text","value":"PATH as its extension\nformat. STOP","position":{"start":{"line":199,"column":58,"offset":9428},"end":{"line":200,"column":16,"offset":9466}}}],"position":{"start":{"line":198,"column":1,"offset":9349},"end":{"line":200,"column":16,"offset":9466}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Otherwise, if EXACT is false,\na. LOAD","position":{"start":{"line":201,"column":4,"offset":9471},"end":{"line":202,"column":11,"offset":9512}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":202,"column":12,"offset":9513},"end":{"line":202,"column":14,"offset":9515}}}],"position":{"start":{"line":202,"column":11,"offset":9512},"end":{"line":202,"column":15,"offset":9516}}},{"type":"text","value":"FILE(RESOLVED","position":{"start":{"line":202,"column":15,"offset":9516},"end":{"line":202,"column":28,"offset":9529}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PATH)\nb. LOAD","position":{"start":{"line":202,"column":29,"offset":9530},"end":{"line":203,"column":11,"offset":9547}}}],"position":{"start":{"line":202,"column":28,"offset":9529},"end":{"line":203,"column":12,"offset":9548}}},{"type":"text","value":"AS","position":{"start":{"line":203,"column":12,"offset":9548},"end":{"line":203,"column":14,"offset":9550}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"DIRECTORY(RESOLVED","position":{"start":{"line":203,"column":15,"offset":9551},"end":{"line":203,"column":33,"offset":9569}}}],"position":{"start":{"line":203,"column":14,"offset":9550},"end":{"line":203,"column":34,"offset":9570}}},{"type":"text","value":"PATH)","position":{"start":{"line":203,"column":34,"offset":9570},"end":{"line":203,"column":39,"offset":9575}}}],"position":{"start":{"line":201,"column":1,"offset":9468},"end":{"line":203,"column":39,"offset":9575}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"THROW \"not found\"","position":{"start":{"line":204,"column":4,"offset":9580},"end":{"line":204,"column":21,"offset":9597}}}],"position":{"start":{"line":204,"column":1,"offset":9577},"end":{"line":204,"column":21,"offset":9597}}},{"type":"text","value":"\n"}],"position":{"start":{"line":196,"column":1,"offset":9265},"end":{"line":204,"column":21,"offset":9597}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Caching","position":{"start":{"line":206,"column":5,"offset":9605},"end":{"line":206,"column":12,"offset":9612}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_caching"},"children":[{"type":"text","value":"#","position":{"start":{"line":206,"column":13,"offset":9613},"end":{"line":206,"column":14,"offset":9614}}}],"position":{"start":{"line":206,"column":12,"offset":9612},"end":{"line":206,"column":68,"offset":9668}}}],"position":{"start":{"line":206,"column":1,"offset":9601},"end":{"line":206,"column":68,"offset":9668}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Modules are cached after the first time they are loaded. This means (among other things) that every call to ","position":{"start":{"line":208,"column":1,"offset":9672},"end":{"line":208,"column":109,"offset":9780}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('foo')"}],"position":{"start":{"line":208,"column":109,"offset":9780},"end":{"line":208,"column":125,"offset":9796}}},{"type":"text","value":" will get exactly the same object returned, if it would resolve to the same file.","position":{"start":{"line":208,"column":125,"offset":9796},"end":{"line":208,"column":206,"offset":9877}}}],"position":{"start":{"line":208,"column":1,"offset":9672},"end":{"line":208,"column":206,"offset":9877}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Provided ","position":{"start":{"line":210,"column":1,"offset":9881},"end":{"line":210,"column":10,"offset":9890}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.cache"}],"position":{"start":{"line":210,"column":10,"offset":9890},"end":{"line":210,"column":25,"offset":9905}}},{"type":"text","value":" is not modified, multiple calls to ","position":{"start":{"line":210,"column":25,"offset":9905},"end":{"line":210,"column":61,"offset":9941}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('foo')"}],"position":{"start":{"line":210,"column":61,"offset":9941},"end":{"line":210,"column":77,"offset":9957}}},{"type":"text","value":" will not cause the module code to be executed multiple times. This is an important feature. With it, \"partially done\" objects can be returned, thus allowing transitive dependencies to be loaded even when they would cause cycles.","position":{"start":{"line":210,"column":77,"offset":9957},"end":{"line":210,"column":306,"offset":10186}}}],"position":{"start":{"line":210,"column":1,"offset":9881},"end":{"line":210,"column":306,"offset":10186}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To have a module execute code multiple times, export a function, and call that function.","position":{"start":{"line":212,"column":1,"offset":10190},"end":{"line":212,"column":89,"offset":10278}}}],"position":{"start":{"line":212,"column":1,"offset":10190},"end":{"line":212,"column":89,"offset":10278}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"Module caching caveats","position":{"start":{"line":214,"column":6,"offset":10287},"end":{"line":214,"column":28,"offset":10309}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_caching_caveats"},"children":[{"type":"text","value":"#","position":{"start":{"line":214,"column":29,"offset":10310},"end":{"line":214,"column":30,"offset":10311}}}],"position":{"start":{"line":214,"column":28,"offset":10309},"end":{"line":214,"column":99,"offset":10380}}}],"position":{"start":{"line":214,"column":1,"offset":10282},"end":{"line":214,"column":99,"offset":10380}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Modules are cached based on their resolved filename. Since modules may resolve to a different filename based on the location of the calling module (loading from ","position":{"start":{"line":216,"column":1,"offset":10384},"end":{"line":216,"column":162,"offset":10545}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":216,"column":162,"offset":10545},"end":{"line":216,"column":176,"offset":10559}}},{"type":"text","value":" folders), it is not a ","position":{"start":{"line":216,"column":176,"offset":10559},"end":{"line":216,"column":199,"offset":10582}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"guarantee","position":{"start":{"line":216,"column":200,"offset":10583},"end":{"line":216,"column":209,"offset":10592}}}],"position":{"start":{"line":216,"column":199,"offset":10582},"end":{"line":216,"column":210,"offset":10593}}},{"type":"text","value":" that ","position":{"start":{"line":216,"column":210,"offset":10593},"end":{"line":216,"column":216,"offset":10599}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('foo')"}],"position":{"start":{"line":216,"column":216,"offset":10599},"end":{"line":216,"column":232,"offset":10615}}},{"type":"text","value":" will always return the exact same object, if it would resolve to different files.","position":{"start":{"line":216,"column":232,"offset":10615},"end":{"line":216,"column":314,"offset":10697}}}],"position":{"start":{"line":216,"column":1,"offset":10384},"end":{"line":216,"column":314,"offset":10697}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Additionally, on case-insensitive file systems or operating systems, different resolved filenames can point to the same file, but the cache will still treat them as different modules and will reload the file multiple times. For example, ","position":{"start":{"line":218,"column":1,"offset":10701},"end":{"line":218,"column":238,"offset":10938}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('./foo')"}],"position":{"start":{"line":218,"column":238,"offset":10938},"end":{"line":218,"column":256,"offset":10956}}},{"type":"text","value":" and ","position":{"start":{"line":218,"column":256,"offset":10956},"end":{"line":218,"column":261,"offset":10961}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('./FOO')"}],"position":{"start":{"line":218,"column":261,"offset":10961},"end":{"line":218,"column":279,"offset":10979}}},{"type":"text","value":" return two different objects, irrespective of whether or not ","position":{"start":{"line":218,"column":279,"offset":10979},"end":{"line":218,"column":341,"offset":11041}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./foo"}],"position":{"start":{"line":218,"column":341,"offset":11041},"end":{"line":218,"column":348,"offset":11048}}},{"type":"text","value":" and ","position":{"start":{"line":218,"column":348,"offset":11048},"end":{"line":218,"column":353,"offset":11053}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./FOO"}],"position":{"start":{"line":218,"column":353,"offset":11053},"end":{"line":218,"column":360,"offset":11060}}},{"type":"text","value":" are the same file.","position":{"start":{"line":218,"column":360,"offset":11060},"end":{"line":218,"column":379,"offset":11079}}}],"position":{"start":{"line":218,"column":1,"offset":10701},"end":{"line":218,"column":379,"offset":11079}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Core modules","position":{"start":{"line":220,"column":5,"offset":11087},"end":{"line":220,"column":17,"offset":11099}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_core_modules"},"children":[{"type":"text","value":"#","position":{"start":{"line":220,"column":18,"offset":11100},"end":{"line":220,"column":19,"offset":11101}}}],"position":{"start":{"line":220,"column":17,"offset":11099},"end":{"line":220,"column":78,"offset":11160}}}],"position":{"start":{"line":220,"column":1,"offset":11083},"end":{"line":220,"column":78,"offset":11160}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"History","position":{"start":{"line":222,"column":1,"offset":11164},"end":{"line":222,"column":8,"offset":11171}}}],"position":{"start":{"line":222,"column":1,"offset":11164},"end":{"line":222,"column":8,"offset":11171}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Node.js has several modules compiled into the binary. These modules are described in greater detail elsewhere in this documentation.","position":{"start":{"line":224,"column":1,"offset":11175},"end":{"line":224,"column":133,"offset":11307}}}],"position":{"start":{"line":224,"column":1,"offset":11175},"end":{"line":224,"column":133,"offset":11307}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The core modules are defined within the Node.js source and are located in the ","position":{"start":{"line":226,"column":1,"offset":11311},"end":{"line":226,"column":79,"offset":11389}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"lib/"}],"position":{"start":{"line":226,"column":79,"offset":11389},"end":{"line":226,"column":85,"offset":11395}}},{"type":"text","value":" folder.","position":{"start":{"line":226,"column":85,"offset":11395},"end":{"line":226,"column":93,"offset":11403}}}],"position":{"start":{"line":226,"column":1,"offset":11311},"end":{"line":226,"column":93,"offset":11403}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Core modules are always preferentially loaded if their identifier is passed to ","position":{"start":{"line":228,"column":1,"offset":11407},"end":{"line":228,"column":80,"offset":11486}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":228,"column":80,"offset":11486},"end":{"line":228,"column":91,"offset":11497}}},{"type":"text","value":". For instance, ","position":{"start":{"line":228,"column":91,"offset":11497},"end":{"line":228,"column":107,"offset":11513}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('http')"}],"position":{"start":{"line":228,"column":107,"offset":11513},"end":{"line":228,"column":124,"offset":11530}}},{"type":"text","value":" will always return the built in HTTP module, even if there is a file by that name.","position":{"start":{"line":228,"column":124,"offset":11530},"end":{"line":228,"column":207,"offset":11613}}}],"position":{"start":{"line":228,"column":1,"offset":11407},"end":{"line":228,"column":207,"offset":11613}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Core modules can also be identified using the ","position":{"start":{"line":230,"column":1,"offset":11617},"end":{"line":230,"column":47,"offset":11663}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node:"}],"position":{"start":{"line":230,"column":47,"offset":11663},"end":{"line":230,"column":54,"offset":11670}}},{"type":"text","value":" prefix, in which case it bypasses the ","position":{"start":{"line":230,"column":54,"offset":11670},"end":{"line":230,"column":93,"offset":11709}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require"}],"position":{"start":{"line":230,"column":93,"offset":11709},"end":{"line":230,"column":102,"offset":11718}}},{"type":"text","value":" cache. For instance, ","position":{"start":{"line":230,"column":102,"offset":11718},"end":{"line":230,"column":124,"offset":11740}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('node:http')"}],"position":{"start":{"line":230,"column":124,"offset":11740},"end":{"line":230,"column":146,"offset":11762}}},{"type":"text","value":" will always return the built in HTTP module, even if there is ","position":{"start":{"line":230,"column":146,"offset":11762},"end":{"line":230,"column":209,"offset":11825}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.cache"}],"position":{"start":{"line":230,"column":209,"offset":11825},"end":{"line":230,"column":224,"offset":11840}}},{"type":"text","value":" entry by that name.","position":{"start":{"line":230,"column":224,"offset":11840},"end":{"line":230,"column":244,"offset":11860}}}],"position":{"start":{"line":230,"column":1,"offset":11617},"end":{"line":230,"column":244,"offset":11860}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Cycles","position":{"start":{"line":232,"column":5,"offset":11868},"end":{"line":232,"column":11,"offset":11874}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_cycles"},"children":[{"type":"text","value":"#","position":{"start":{"line":232,"column":12,"offset":11875},"end":{"line":232,"column":13,"offset":11876}}}],"position":{"start":{"line":232,"column":11,"offset":11874},"end":{"line":232,"column":66,"offset":11929}}}],"position":{"start":{"line":232,"column":1,"offset":11864},"end":{"line":232,"column":66,"offset":11929}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When there are circular ","position":{"start":{"line":234,"column":1,"offset":11933},"end":{"line":234,"column":25,"offset":11957}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":234,"column":25,"offset":11957},"end":{"line":234,"column":36,"offset":11968}}},{"type":"text","value":" calls, a module might not have finished executing when it is returned.","position":{"start":{"line":234,"column":36,"offset":11968},"end":{"line":234,"column":107,"offset":12039}}}],"position":{"start":{"line":234,"column":1,"offset":11933},"end":{"line":234,"column":107,"offset":12039}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Consider this situation:","position":{"start":{"line":236,"column":1,"offset":12043},"end":{"line":236,"column":25,"offset":12067}}}],"position":{"start":{"line":236,"column":1,"offset":12043},"end":{"line":236,"column":25,"offset":12067}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":238,"column":1,"offset":12071},"end":{"line":238,"column":7,"offset":12077}}},{"type":"text","value":":","position":{"start":{"line":238,"column":7,"offset":12077},"end":{"line":238,"column":8,"offset":12078}}}],"position":{"start":{"line":238,"column":1,"offset":12071},"end":{"line":238,"column":8,"offset":12078}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"console.log('a starting');\nexports.done = false;\nconst b = require('./b.js');\nconsole.log('in a, b.done = %j', b.done);\nexports.done = true;\nconsole.log('a done');\n"}],"position":{"start":{"line":240,"column":1,"offset":12082},"end":{"line":247,"column":4,"offset":12260}}}],"position":{"start":{"line":240,"column":1,"offset":12082},"end":{"line":247,"column":4,"offset":12260}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b.js"}],"position":{"start":{"line":249,"column":1,"offset":12264},"end":{"line":249,"column":7,"offset":12270}}},{"type":"text","value":":","position":{"start":{"line":249,"column":7,"offset":12270},"end":{"line":249,"column":8,"offset":12271}}}],"position":{"start":{"line":249,"column":1,"offset":12264},"end":{"line":249,"column":8,"offset":12271}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"console.log('b starting');\nexports.done = false;\nconst a = require('./a.js');\nconsole.log('in b, a.done = %j', a.done);\nexports.done = true;\nconsole.log('b done');\n"}],"position":{"start":{"line":251,"column":1,"offset":12275},"end":{"line":258,"column":4,"offset":12453}}}],"position":{"start":{"line":251,"column":1,"offset":12275},"end":{"line":258,"column":4,"offset":12453}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"main.js"}],"position":{"start":{"line":260,"column":1,"offset":12457},"end":{"line":260,"column":10,"offset":12466}}},{"type":"text","value":":","position":{"start":{"line":260,"column":10,"offset":12466},"end":{"line":260,"column":11,"offset":12467}}}],"position":{"start":{"line":260,"column":1,"offset":12457},"end":{"line":260,"column":11,"offset":12467}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"console.log('main starting');\nconst a = require('./a.js');\nconst b = require('./b.js');\nconsole.log('in main, a.done = %j, b.done = %j', a.done, b.done);\n"}],"position":{"start":{"line":262,"column":1,"offset":12471},"end":{"line":267,"column":4,"offset":12637}}}],"position":{"start":{"line":262,"column":1,"offset":12471},"end":{"line":267,"column":4,"offset":12637}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When ","position":{"start":{"line":269,"column":1,"offset":12641},"end":{"line":269,"column":6,"offset":12646}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"main.js"}],"position":{"start":{"line":269,"column":6,"offset":12646},"end":{"line":269,"column":15,"offset":12655}}},{"type":"text","value":" loads ","position":{"start":{"line":269,"column":15,"offset":12655},"end":{"line":269,"column":22,"offset":12662}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":269,"column":22,"offset":12662},"end":{"line":269,"column":28,"offset":12668}}},{"type":"text","value":", then ","position":{"start":{"line":269,"column":28,"offset":12668},"end":{"line":269,"column":35,"offset":12675}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":269,"column":35,"offset":12675},"end":{"line":269,"column":41,"offset":12681}}},{"type":"text","value":" in turn loads ","position":{"start":{"line":269,"column":41,"offset":12681},"end":{"line":269,"column":56,"offset":12696}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b.js"}],"position":{"start":{"line":269,"column":56,"offset":12696},"end":{"line":269,"column":62,"offset":12702}}},{"type":"text","value":". At that point, ","position":{"start":{"line":269,"column":62,"offset":12702},"end":{"line":269,"column":79,"offset":12719}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b.js"}],"position":{"start":{"line":269,"column":79,"offset":12719},"end":{"line":269,"column":85,"offset":12725}}},{"type":"text","value":" tries to load ","position":{"start":{"line":269,"column":85,"offset":12725},"end":{"line":269,"column":100,"offset":12740}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":269,"column":100,"offset":12740},"end":{"line":269,"column":106,"offset":12746}}},{"type":"text","value":". In order to prevent an infinite loop, an unfinished copy of the ","position":{"start":{"line":269,"column":106,"offset":12746},"end":{"line":269,"column":172,"offset":12812}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":269,"column":172,"offset":12812},"end":{"line":269,"column":178,"offset":12818}}},{"type":"text","value":" exports object is returned to the ","position":{"start":{"line":269,"column":178,"offset":12818},"end":{"line":269,"column":213,"offset":12853}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b.js"}],"position":{"start":{"line":269,"column":213,"offset":12853},"end":{"line":269,"column":219,"offset":12859}}},{"type":"text","value":" module. ","position":{"start":{"line":269,"column":219,"offset":12859},"end":{"line":269,"column":228,"offset":12868}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b.js"}],"position":{"start":{"line":269,"column":228,"offset":12868},"end":{"line":269,"column":234,"offset":12874}}},{"type":"text","value":" then finishes loading, and its ","position":{"start":{"line":269,"column":234,"offset":12874},"end":{"line":269,"column":266,"offset":12906}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":269,"column":266,"offset":12906},"end":{"line":269,"column":275,"offset":12915}}},{"type":"text","value":" object is provided to the ","position":{"start":{"line":269,"column":275,"offset":12915},"end":{"line":269,"column":302,"offset":12942}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":269,"column":302,"offset":12942},"end":{"line":269,"column":308,"offset":12948}}},{"type":"text","value":" module.","position":{"start":{"line":269,"column":308,"offset":12948},"end":{"line":269,"column":316,"offset":12956}}}],"position":{"start":{"line":269,"column":1,"offset":12641},"end":{"line":269,"column":316,"offset":12956}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"By the time ","position":{"start":{"line":271,"column":1,"offset":12960},"end":{"line":271,"column":13,"offset":12972}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"main.js"}],"position":{"start":{"line":271,"column":13,"offset":12972},"end":{"line":271,"column":22,"offset":12981}}},{"type":"text","value":" has loaded both modules, they're both finished. The output of this program would thus be:","position":{"start":{"line":271,"column":22,"offset":12981},"end":{"line":271,"column":112,"offset":13071}}}],"position":{"start":{"line":271,"column":1,"offset":12960},"end":{"line":271,"column":112,"offset":13071}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$ node main.js\nmain starting\na starting\nb starting\nin b, a.done = false\nb done\nin a, b.done = true\na done\nin main, a.done = true, b.done = true\n"}],"position":{"start":{"line":273,"column":1,"offset":13075},"end":{"line":283,"column":4,"offset":13236}}}],"position":{"start":{"line":273,"column":1,"offset":13075},"end":{"line":283,"column":4,"offset":13236}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Careful planning is required to allow cyclic module dependencies to work correctly within an application.","position":{"start":{"line":285,"column":1,"offset":13240},"end":{"line":285,"column":106,"offset":13345}}}],"position":{"start":{"line":285,"column":1,"offset":13240},"end":{"line":285,"column":106,"offset":13345}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"File modules","position":{"start":{"line":287,"column":5,"offset":13353},"end":{"line":287,"column":17,"offset":13365}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_file_modules"},"children":[{"type":"text","value":"#","position":{"start":{"line":287,"column":18,"offset":13366},"end":{"line":287,"column":19,"offset":13367}}}],"position":{"start":{"line":287,"column":17,"offset":13365},"end":{"line":287,"column":78,"offset":13426}}}],"position":{"start":{"line":287,"column":1,"offset":13349},"end":{"line":287,"column":78,"offset":13426}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the exact filename is not found, then Node.js will attempt to load the required filename with the added extensions: ","position":{"start":{"line":289,"column":1,"offset":13430},"end":{"line":289,"column":120,"offset":13549}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".js"}],"position":{"start":{"line":289,"column":120,"offset":13549},"end":{"line":289,"column":125,"offset":13554}}},{"type":"text","value":", ","position":{"start":{"line":289,"column":125,"offset":13554},"end":{"line":289,"column":127,"offset":13556}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".json"}],"position":{"start":{"line":289,"column":127,"offset":13556},"end":{"line":289,"column":134,"offset":13563}}},{"type":"text","value":", and finally ","position":{"start":{"line":289,"column":134,"offset":13563},"end":{"line":289,"column":148,"offset":13577}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".node"}],"position":{"start":{"line":289,"column":148,"offset":13577},"end":{"line":289,"column":155,"offset":13584}}},{"type":"text","value":".","position":{"start":{"line":289,"column":155,"offset":13584},"end":{"line":289,"column":156,"offset":13585}}}],"position":{"start":{"line":289,"column":1,"offset":13430},"end":{"line":289,"column":156,"offset":13585}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".js"}],"position":{"start":{"line":291,"column":1,"offset":13589},"end":{"line":291,"column":6,"offset":13594}}},{"type":"text","value":" files are interpreted as JavaScript text files, and ","position":{"start":{"line":291,"column":6,"offset":13594},"end":{"line":291,"column":59,"offset":13647}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".json"}],"position":{"start":{"line":291,"column":59,"offset":13647},"end":{"line":291,"column":66,"offset":13654}}},{"type":"text","value":" files are parsed as JSON text files. ","position":{"start":{"line":291,"column":66,"offset":13654},"end":{"line":291,"column":104,"offset":13692}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".node"}],"position":{"start":{"line":291,"column":104,"offset":13692},"end":{"line":291,"column":111,"offset":13699}}},{"type":"text","value":" files are interpreted as compiled addon modules loaded with ","position":{"start":{"line":291,"column":111,"offset":13699},"end":{"line":291,"column":172,"offset":13760}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"process.dlopen()"}],"position":{"start":{"line":291,"column":172,"offset":13760},"end":{"line":291,"column":190,"offset":13778}}},{"type":"text","value":".","position":{"start":{"line":291,"column":190,"offset":13778},"end":{"line":291,"column":191,"offset":13779}}}],"position":{"start":{"line":291,"column":1,"offset":13589},"end":{"line":291,"column":191,"offset":13779}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A required module prefixed with ","position":{"start":{"line":293,"column":1,"offset":13783},"end":{"line":293,"column":33,"offset":13815}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'/'"}],"position":{"start":{"line":293,"column":33,"offset":13815},"end":{"line":293,"column":38,"offset":13820}}},{"type":"text","value":" is an absolute path to the file. For example, ","position":{"start":{"line":293,"column":38,"offset":13820},"end":{"line":293,"column":85,"offset":13867}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('/home/marco/foo.js')"}],"position":{"start":{"line":293,"column":85,"offset":13867},"end":{"line":293,"column":116,"offset":13898}}},{"type":"text","value":" will load the file at ","position":{"start":{"line":293,"column":116,"offset":13898},"end":{"line":293,"column":139,"offset":13921}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/home/marco/foo.js"}],"position":{"start":{"line":293,"column":139,"offset":13921},"end":{"line":293,"column":159,"offset":13941}}},{"type":"text","value":".","position":{"start":{"line":293,"column":159,"offset":13941},"end":{"line":293,"column":160,"offset":13942}}}],"position":{"start":{"line":293,"column":1,"offset":13783},"end":{"line":293,"column":160,"offset":13942}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A required module prefixed with ","position":{"start":{"line":295,"column":1,"offset":13946},"end":{"line":295,"column":33,"offset":13978}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'./'"}],"position":{"start":{"line":295,"column":33,"offset":13978},"end":{"line":295,"column":39,"offset":13984}}},{"type":"text","value":" is relative to the file calling ","position":{"start":{"line":295,"column":39,"offset":13984},"end":{"line":295,"column":72,"offset":14017}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":295,"column":72,"offset":14017},"end":{"line":295,"column":83,"offset":14028}}},{"type":"text","value":". That is, ","position":{"start":{"line":295,"column":83,"offset":14028},"end":{"line":295,"column":94,"offset":14039}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"circle.js"}],"position":{"start":{"line":295,"column":94,"offset":14039},"end":{"line":295,"column":105,"offset":14050}}},{"type":"text","value":" must be in the same directory as ","position":{"start":{"line":295,"column":105,"offset":14050},"end":{"line":295,"column":139,"offset":14084}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo.js"}],"position":{"start":{"line":295,"column":139,"offset":14084},"end":{"line":295,"column":147,"offset":14092}}},{"type":"text","value":" for ","position":{"start":{"line":295,"column":147,"offset":14092},"end":{"line":295,"column":152,"offset":14097}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('./circle')"}],"position":{"start":{"line":295,"column":152,"offset":14097},"end":{"line":295,"column":173,"offset":14118}}},{"type":"text","value":" to find it.","position":{"start":{"line":295,"column":173,"offset":14118},"end":{"line":295,"column":185,"offset":14130}}}],"position":{"start":{"line":295,"column":1,"offset":13946},"end":{"line":295,"column":185,"offset":14130}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Without a leading ","position":{"start":{"line":297,"column":1,"offset":14134},"end":{"line":297,"column":19,"offset":14152}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'/'"}],"position":{"start":{"line":297,"column":19,"offset":14152},"end":{"line":297,"column":24,"offset":14157}}},{"type":"text","value":", ","position":{"start":{"line":297,"column":24,"offset":14157},"end":{"line":297,"column":26,"offset":14159}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'./'"}],"position":{"start":{"line":297,"column":26,"offset":14159},"end":{"line":297,"column":32,"offset":14165}}},{"type":"text","value":", or ","position":{"start":{"line":297,"column":32,"offset":14165},"end":{"line":297,"column":37,"offset":14170}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'../'"}],"position":{"start":{"line":297,"column":37,"offset":14170},"end":{"line":297,"column":44,"offset":14177}}},{"type":"text","value":" to indicate a file, the module must either be a core module or is loaded from a ","position":{"start":{"line":297,"column":44,"offset":14177},"end":{"line":297,"column":125,"offset":14258}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":297,"column":125,"offset":14258},"end":{"line":297,"column":139,"offset":14272}}},{"type":"text","value":" folder.","position":{"start":{"line":297,"column":139,"offset":14272},"end":{"line":297,"column":147,"offset":14280}}}],"position":{"start":{"line":297,"column":1,"offset":14134},"end":{"line":297,"column":147,"offset":14280}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the given path does not exist, ","position":{"start":{"line":299,"column":1,"offset":14284},"end":{"line":299,"column":35,"offset":14318}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":299,"column":35,"offset":14318},"end":{"line":299,"column":46,"offset":14329}}},{"type":"text","value":" will throw an ","position":{"start":{"line":299,"column":46,"offset":14329},"end":{"line":299,"column":61,"offset":14344}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/errors.html#errors_class_error"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Error"}],"position":{"start":{"line":299,"column":62,"offset":14345},"end":{"line":299,"column":69,"offset":14352}}}],"position":{"start":{"line":299,"column":61,"offset":14344},"end":{"line":299,"column":125,"offset":14408}}},{"type":"text","value":" with its ","position":{"start":{"line":299,"column":125,"offset":14408},"end":{"line":299,"column":135,"offset":14418}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"code"}],"position":{"start":{"line":299,"column":135,"offset":14418},"end":{"line":299,"column":141,"offset":14424}}},{"type":"text","value":" property set to ","position":{"start":{"line":299,"column":141,"offset":14424},"end":{"line":299,"column":158,"offset":14441}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'MODULE_NOT_FOUND'"}],"position":{"start":{"line":299,"column":158,"offset":14441},"end":{"line":299,"column":178,"offset":14461}}},{"type":"text","value":".","position":{"start":{"line":299,"column":178,"offset":14461},"end":{"line":299,"column":179,"offset":14462}}}],"position":{"start":{"line":299,"column":1,"offset":14284},"end":{"line":299,"column":179,"offset":14462}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Folders as modules","position":{"start":{"line":301,"column":5,"offset":14470},"end":{"line":301,"column":23,"offset":14488}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_folders_as_modules"},"children":[{"type":"text","value":"#","position":{"start":{"line":301,"column":24,"offset":14489},"end":{"line":301,"column":25,"offset":14490}}}],"position":{"start":{"line":301,"column":23,"offset":14488},"end":{"line":301,"column":90,"offset":14555}}}],"position":{"start":{"line":301,"column":1,"offset":14466},"end":{"line":301,"column":90,"offset":14555}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is convenient to organize programs and libraries into self-contained directories, and then provide a single entry point to those directories. There are three ways in which a folder may be passed to ","position":{"start":{"line":303,"column":1,"offset":14559},"end":{"line":303,"column":202,"offset":14760}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":303,"column":202,"offset":14760},"end":{"line":303,"column":213,"offset":14771}}},{"type":"text","value":" as an argument.","position":{"start":{"line":303,"column":213,"offset":14771},"end":{"line":303,"column":229,"offset":14787}}}],"position":{"start":{"line":303,"column":1,"offset":14559},"end":{"line":303,"column":229,"offset":14787}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The first is to create a ","position":{"start":{"line":305,"column":1,"offset":14791},"end":{"line":305,"column":26,"offset":14816}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/packages.html#packages_node_js_package_json_field_definitions"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":305,"column":27,"offset":14817},"end":{"line":305,"column":41,"offset":14831}}}],"position":{"start":{"line":305,"column":26,"offset":14816},"end":{"line":305,"column":128,"offset":14918}}},{"type":"text","value":" file in the root of the folder, which specifies a ","position":{"start":{"line":305,"column":128,"offset":14918},"end":{"line":305,"column":179,"offset":14969}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"main"}],"position":{"start":{"line":305,"column":179,"offset":14969},"end":{"line":305,"column":185,"offset":14975}}},{"type":"text","value":" module. An example ","position":{"start":{"line":305,"column":185,"offset":14975},"end":{"line":305,"column":205,"offset":14995}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/packages.html#packages_node_js_package_json_field_definitions"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":305,"column":206,"offset":14996},"end":{"line":305,"column":220,"offset":15010}}}],"position":{"start":{"line":305,"column":205,"offset":14995},"end":{"line":305,"column":307,"offset":15097}}},{"type":"text","value":" file might look like this:","position":{"start":{"line":305,"column":307,"offset":15097},"end":{"line":305,"column":334,"offset":15124}}}],"position":{"start":{"line":305,"column":1,"offset":14791},"end":{"line":305,"column":334,"offset":15124}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"{ \"name\" : \"some-library\",\n  \"main\" : \"./lib/some-library.js\" }\n"}],"position":{"start":{"line":307,"column":1,"offset":15128},"end":{"line":310,"column":4,"offset":15202}}}],"position":{"start":{"line":307,"column":1,"offset":15128},"end":{"line":310,"column":4,"offset":15202}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If this was in a folder at ","position":{"start":{"line":312,"column":1,"offset":15206},"end":{"line":312,"column":28,"offset":15233}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./some-library"}],"position":{"start":{"line":312,"column":28,"offset":15233},"end":{"line":312,"column":44,"offset":15249}}},{"type":"text","value":", then ","position":{"start":{"line":312,"column":44,"offset":15249},"end":{"line":312,"column":51,"offset":15256}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('./some-library')"}],"position":{"start":{"line":312,"column":51,"offset":15256},"end":{"line":312,"column":78,"offset":15283}}},{"type":"text","value":" would attempt to load ","position":{"start":{"line":312,"column":78,"offset":15283},"end":{"line":312,"column":101,"offset":15306}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./some-library/lib/some-library.js"}],"position":{"start":{"line":312,"column":101,"offset":15306},"end":{"line":312,"column":137,"offset":15342}}},{"type":"text","value":".","position":{"start":{"line":312,"column":137,"offset":15342},"end":{"line":312,"column":138,"offset":15343}}}],"position":{"start":{"line":312,"column":1,"offset":15206},"end":{"line":312,"column":138,"offset":15343}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This is the extent of the awareness of ","position":{"start":{"line":314,"column":1,"offset":15347},"end":{"line":314,"column":40,"offset":15386}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":314,"column":40,"offset":15386},"end":{"line":314,"column":54,"offset":15400}}},{"type":"text","value":" files within Node.js.","position":{"start":{"line":314,"column":54,"offset":15400},"end":{"line":314,"column":76,"offset":15422}}}],"position":{"start":{"line":314,"column":1,"offset":15347},"end":{"line":314,"column":76,"offset":15422}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If there is no ","position":{"start":{"line":316,"column":1,"offset":15426},"end":{"line":316,"column":16,"offset":15441}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/packages.html#packages_node_js_package_json_field_definitions"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":316,"column":17,"offset":15442},"end":{"line":316,"column":31,"offset":15456}}}],"position":{"start":{"line":316,"column":16,"offset":15441},"end":{"line":316,"column":118,"offset":15543}}},{"type":"text","value":" file present in the directory, or if the ","position":{"start":{"line":316,"column":118,"offset":15543},"end":{"line":316,"column":160,"offset":15585}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/packages.html#packages_main"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"\"main\""}],"position":{"start":{"line":316,"column":161,"offset":15586},"end":{"line":316,"column":169,"offset":15594}}}],"position":{"start":{"line":316,"column":160,"offset":15585},"end":{"line":316,"column":222,"offset":15647}}},{"type":"text","value":" entry is missing or cannot be resolved, then Node.js will attempt to load an ","position":{"start":{"line":316,"column":222,"offset":15647},"end":{"line":316,"column":300,"offset":15725}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"index.js"}],"position":{"start":{"line":316,"column":300,"offset":15725},"end":{"line":316,"column":310,"offset":15735}}},{"type":"text","value":" or ","position":{"start":{"line":316,"column":310,"offset":15735},"end":{"line":316,"column":314,"offset":15739}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"index.node"}],"position":{"start":{"line":316,"column":314,"offset":15739},"end":{"line":316,"column":326,"offset":15751}}},{"type":"text","value":" file out of that directory. For example, if there was no ","position":{"start":{"line":316,"column":326,"offset":15751},"end":{"line":316,"column":384,"offset":15809}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/packages.html#packages_node_js_package_json_field_definitions"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":316,"column":385,"offset":15810},"end":{"line":316,"column":399,"offset":15824}}}],"position":{"start":{"line":316,"column":384,"offset":15809},"end":{"line":316,"column":486,"offset":15911}}},{"type":"text","value":" file in the previous example, then ","position":{"start":{"line":316,"column":486,"offset":15911},"end":{"line":316,"column":522,"offset":15947}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('./some-library')"}],"position":{"start":{"line":316,"column":522,"offset":15947},"end":{"line":316,"column":549,"offset":15974}}},{"type":"text","value":" would attempt to load:","position":{"start":{"line":316,"column":549,"offset":15974},"end":{"line":316,"column":572,"offset":15997}}}],"position":{"start":{"line":316,"column":1,"offset":15426},"end":{"line":316,"column":572,"offset":15997}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./some-library/index.js"}],"position":{"start":{"line":318,"column":3,"offset":16003},"end":{"line":318,"column":28,"offset":16028}}}],"position":{"start":{"line":318,"column":1,"offset":16001},"end":{"line":318,"column":28,"offset":16028}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./some-library/index.node"}],"position":{"start":{"line":319,"column":3,"offset":16032},"end":{"line":319,"column":30,"offset":16059}}}],"position":{"start":{"line":319,"column":1,"offset":16030},"end":{"line":319,"column":30,"offset":16059}}},{"type":"text","value":"\n"}],"position":{"start":{"line":318,"column":1,"offset":16001},"end":{"line":319,"column":30,"offset":16059}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If these attempts fail, then Node.js will report the entire module as missing with the default error:","position":{"start":{"line":321,"column":1,"offset":16063},"end":{"line":321,"column":102,"offset":16164}}}],"position":{"start":{"line":321,"column":1,"offset":16063},"end":{"line":321,"column":102,"offset":16164}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Error: Cannot find module 'some-library'\n"}],"position":{"start":{"line":323,"column":1,"offset":16168},"end":{"line":325,"column":4,"offset":16218}}}],"position":{"start":{"line":323,"column":1,"offset":16168},"end":{"line":325,"column":4,"offset":16218}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Loading from ","position":{"start":{"line":327,"column":5,"offset":16226},"end":{"line":327,"column":18,"offset":16239}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":327,"column":18,"offset":16239},"end":{"line":327,"column":32,"offset":16253}}},{"type":"text","value":" folders","position":{"start":{"line":327,"column":32,"offset":16253},"end":{"line":327,"column":40,"offset":16261}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_loading_from_node_modules_folders"},"children":[{"type":"text","value":"#","position":{"start":{"line":327,"column":41,"offset":16262},"end":{"line":327,"column":42,"offset":16263}}}],"position":{"start":{"line":327,"column":40,"offset":16261},"end":{"line":327,"column":122,"offset":16343}}}],"position":{"start":{"line":327,"column":1,"offset":16222},"end":{"line":327,"column":122,"offset":16343}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the module identifier passed to ","position":{"start":{"line":329,"column":1,"offset":16347},"end":{"line":329,"column":36,"offset":16382}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":329,"column":36,"offset":16382},"end":{"line":329,"column":47,"offset":16393}}},{"type":"text","value":" is not a ","position":{"start":{"line":329,"column":47,"offset":16393},"end":{"line":329,"column":57,"offset":16403}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_core_modules"},"children":[{"type":"text","value":"core","position":{"start":{"line":329,"column":58,"offset":16404},"end":{"line":329,"column":62,"offset":16408}}}],"position":{"start":{"line":329,"column":57,"offset":16403},"end":{"line":329,"column":121,"offset":16467}}},{"type":"text","value":" module, and does not begin with ","position":{"start":{"line":329,"column":121,"offset":16467},"end":{"line":329,"column":154,"offset":16500}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'/'"}],"position":{"start":{"line":329,"column":154,"offset":16500},"end":{"line":329,"column":159,"offset":16505}}},{"type":"text","value":", ","position":{"start":{"line":329,"column":159,"offset":16505},"end":{"line":329,"column":161,"offset":16507}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'../'"}],"position":{"start":{"line":329,"column":161,"offset":16507},"end":{"line":329,"column":168,"offset":16514}}},{"type":"text","value":", or ","position":{"start":{"line":329,"column":168,"offset":16514},"end":{"line":329,"column":173,"offset":16519}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'./'"}],"position":{"start":{"line":329,"column":173,"offset":16519},"end":{"line":329,"column":179,"offset":16525}}},{"type":"text","value":", then Node.js starts at the parent directory of the current module, and adds ","position":{"start":{"line":329,"column":179,"offset":16525},"end":{"line":329,"column":257,"offset":16603}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/node_modules"}],"position":{"start":{"line":329,"column":257,"offset":16603},"end":{"line":329,"column":272,"offset":16618}}},{"type":"text","value":", and attempts to load the module from that location. Node.js will not append ","position":{"start":{"line":329,"column":272,"offset":16618},"end":{"line":329,"column":350,"offset":16696}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":329,"column":350,"offset":16696},"end":{"line":329,"column":364,"offset":16710}}},{"type":"text","value":" to a path already ending in ","position":{"start":{"line":329,"column":364,"offset":16710},"end":{"line":329,"column":393,"offset":16739}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":329,"column":393,"offset":16739},"end":{"line":329,"column":407,"offset":16753}}},{"type":"text","value":".","position":{"start":{"line":329,"column":407,"offset":16753},"end":{"line":329,"column":408,"offset":16754}}}],"position":{"start":{"line":329,"column":1,"offset":16347},"end":{"line":329,"column":408,"offset":16754}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If it is not found there, then it moves to the parent directory, and so on, until the root of the file system is reached.","position":{"start":{"line":331,"column":1,"offset":16758},"end":{"line":331,"column":122,"offset":16879}}}],"position":{"start":{"line":331,"column":1,"offset":16758},"end":{"line":331,"column":122,"offset":16879}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For example, if the file at ","position":{"start":{"line":333,"column":1,"offset":16883},"end":{"line":333,"column":29,"offset":16911}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'/home/ry/projects/foo.js'"}],"position":{"start":{"line":333,"column":29,"offset":16911},"end":{"line":333,"column":57,"offset":16939}}},{"type":"text","value":" called ","position":{"start":{"line":333,"column":57,"offset":16939},"end":{"line":333,"column":65,"offset":16947}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('bar.js')"}],"position":{"start":{"line":333,"column":65,"offset":16947},"end":{"line":333,"column":84,"offset":16966}}},{"type":"text","value":", then Node.js would look in the following locations, in this order:","position":{"start":{"line":333,"column":84,"offset":16966},"end":{"line":333,"column":152,"offset":17034}}}],"position":{"start":{"line":333,"column":1,"offset":16883},"end":{"line":333,"column":152,"offset":17034}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/home/ry/projects/node_modules/bar.js"}],"position":{"start":{"line":335,"column":3,"offset":17040},"end":{"line":335,"column":42,"offset":17079}}}],"position":{"start":{"line":335,"column":1,"offset":17038},"end":{"line":335,"column":42,"offset":17079}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/home/ry/node_modules/bar.js"}],"position":{"start":{"line":336,"column":3,"offset":17083},"end":{"line":336,"column":33,"offset":17113}}}],"position":{"start":{"line":336,"column":1,"offset":17081},"end":{"line":336,"column":33,"offset":17113}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/home/node_modules/bar.js"}],"position":{"start":{"line":337,"column":3,"offset":17117},"end":{"line":337,"column":30,"offset":17144}}}],"position":{"start":{"line":337,"column":1,"offset":17115},"end":{"line":337,"column":30,"offset":17144}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/node_modules/bar.js"}],"position":{"start":{"line":338,"column":3,"offset":17148},"end":{"line":338,"column":25,"offset":17170}}}],"position":{"start":{"line":338,"column":1,"offset":17146},"end":{"line":338,"column":25,"offset":17170}}},{"type":"text","value":"\n"}],"position":{"start":{"line":335,"column":1,"offset":17038},"end":{"line":338,"column":25,"offset":17170}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This allows programs to localize their dependencies, so that they do not clash.","position":{"start":{"line":340,"column":1,"offset":17174},"end":{"line":340,"column":80,"offset":17253}}}],"position":{"start":{"line":340,"column":1,"offset":17174},"end":{"line":340,"column":80,"offset":17253}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is possible to require specific files or sub modules distributed with a module by including a path suffix after the module name. For instance ","position":{"start":{"line":342,"column":1,"offset":17257},"end":{"line":342,"column":146,"offset":17402}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('example-module/path/to/file')"}],"position":{"start":{"line":342,"column":146,"offset":17402},"end":{"line":342,"column":186,"offset":17442}}},{"type":"text","value":" would resolve ","position":{"start":{"line":342,"column":186,"offset":17442},"end":{"line":342,"column":201,"offset":17457}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"path/to/file"}],"position":{"start":{"line":342,"column":201,"offset":17457},"end":{"line":342,"column":215,"offset":17471}}},{"type":"text","value":" relative to where ","position":{"start":{"line":342,"column":215,"offset":17471},"end":{"line":342,"column":234,"offset":17490}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"example-module"}],"position":{"start":{"line":342,"column":234,"offset":17490},"end":{"line":342,"column":250,"offset":17506}}},{"type":"text","value":" is located. The suffixed path follows the same module resolution semantics.","position":{"start":{"line":342,"column":250,"offset":17506},"end":{"line":342,"column":326,"offset":17582}}}],"position":{"start":{"line":342,"column":1,"offset":17257},"end":{"line":342,"column":326,"offset":17582}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Loading from the global folders","position":{"start":{"line":344,"column":5,"offset":17590},"end":{"line":344,"column":36,"offset":17621}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_loading_from_the_global_folders"},"children":[{"type":"text","value":"#","position":{"start":{"line":344,"column":37,"offset":17622},"end":{"line":344,"column":38,"offset":17623}}}],"position":{"start":{"line":344,"column":36,"offset":17621},"end":{"line":344,"column":116,"offset":17701}}}],"position":{"start":{"line":344,"column":1,"offset":17586},"end":{"line":344,"column":116,"offset":17701}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the ","position":{"start":{"line":346,"column":1,"offset":17705},"end":{"line":346,"column":8,"offset":17712}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":346,"column":8,"offset":17712},"end":{"line":346,"column":19,"offset":17723}}},{"type":"text","value":" environment variable is set to a colon-delimited list of absolute paths, then Node.js will search those paths for modules if they are not found elsewhere.","position":{"start":{"line":346,"column":19,"offset":17723},"end":{"line":346,"column":174,"offset":17878}}}],"position":{"start":{"line":346,"column":1,"offset":17705},"end":{"line":346,"column":174,"offset":17878}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"On Windows, ","position":{"start":{"line":348,"column":1,"offset":17882},"end":{"line":348,"column":13,"offset":17894}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":348,"column":13,"offset":17894},"end":{"line":348,"column":24,"offset":17905}}},{"type":"text","value":" is delimited by semicolons (","position":{"start":{"line":348,"column":24,"offset":17905},"end":{"line":348,"column":53,"offset":17934}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":";"}],"position":{"start":{"line":348,"column":53,"offset":17934},"end":{"line":348,"column":56,"offset":17937}}},{"type":"text","value":") instead of colons.","position":{"start":{"line":348,"column":56,"offset":17937},"end":{"line":348,"column":76,"offset":17957}}}],"position":{"start":{"line":348,"column":1,"offset":17882},"end":{"line":348,"column":76,"offset":17957}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":350,"column":1,"offset":17961},"end":{"line":350,"column":12,"offset":17972}}},{"type":"text","value":" was originally created to support loading modules from varying paths before the current ","position":{"start":{"line":350,"column":12,"offset":17972},"end":{"line":350,"column":101,"offset":18061}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_all_together"},"children":[{"type":"text","value":"module resolution","position":{"start":{"line":350,"column":102,"offset":18062},"end":{"line":350,"column":119,"offset":18079}}}],"position":{"start":{"line":350,"column":101,"offset":18061},"end":{"line":350,"column":178,"offset":18138}}},{"type":"text","value":" algorithm was defined.","position":{"start":{"line":350,"column":178,"offset":18138},"end":{"line":350,"column":201,"offset":18161}}}],"position":{"start":{"line":350,"column":1,"offset":17961},"end":{"line":350,"column":201,"offset":18161}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":352,"column":1,"offset":18165},"end":{"line":352,"column":12,"offset":18176}}},{"type":"text","value":" is still supported, but is less necessary now that the Node.js ecosystem has settled on a convention for locating dependent modules. Sometimes deployments that rely on ","position":{"start":{"line":352,"column":12,"offset":18176},"end":{"line":352,"column":181,"offset":18345}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":352,"column":181,"offset":18345},"end":{"line":352,"column":192,"offset":18356}}},{"type":"text","value":" show surprising behavior when people are unaware that ","position":{"start":{"line":352,"column":192,"offset":18356},"end":{"line":352,"column":247,"offset":18411}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":352,"column":247,"offset":18411},"end":{"line":352,"column":258,"offset":18422}}},{"type":"text","value":" must be set. Sometimes a module's dependencies change, causing a different version (or even a different module) to be loaded as the ","position":{"start":{"line":352,"column":258,"offset":18422},"end":{"line":352,"column":391,"offset":18555}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":352,"column":391,"offset":18555},"end":{"line":352,"column":402,"offset":18566}}},{"type":"text","value":" is searched.","position":{"start":{"line":352,"column":402,"offset":18566},"end":{"line":352,"column":415,"offset":18579}}}],"position":{"start":{"line":352,"column":1,"offset":18165},"end":{"line":352,"column":415,"offset":18579}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Additionally, Node.js will search in the following list of GLOBAL_FOLDERS:","position":{"start":{"line":354,"column":1,"offset":18583},"end":{"line":354,"column":75,"offset":18657}}}],"position":{"start":{"line":354,"column":1,"offset":18583},"end":{"line":354,"column":75,"offset":18657}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"1: ","position":{"start":{"line":356,"column":3,"offset":18663},"end":{"line":356,"column":6,"offset":18666}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$HOME/.node_modules"}],"position":{"start":{"line":356,"column":6,"offset":18666},"end":{"line":356,"column":27,"offset":18687}}}],"position":{"start":{"line":356,"column":1,"offset":18661},"end":{"line":356,"column":27,"offset":18687}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"2: ","position":{"start":{"line":357,"column":3,"offset":18691},"end":{"line":357,"column":6,"offset":18694}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$HOME/.node_libraries"}],"position":{"start":{"line":357,"column":6,"offset":18694},"end":{"line":357,"column":29,"offset":18717}}}],"position":{"start":{"line":357,"column":1,"offset":18689},"end":{"line":357,"column":29,"offset":18717}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"3: ","position":{"start":{"line":358,"column":3,"offset":18721},"end":{"line":358,"column":6,"offset":18724}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$PREFIX/lib/node"}],"position":{"start":{"line":358,"column":6,"offset":18724},"end":{"line":358,"column":24,"offset":18742}}}],"position":{"start":{"line":358,"column":1,"offset":18719},"end":{"line":358,"column":24,"offset":18742}}},{"type":"text","value":"\n"}],"position":{"start":{"line":356,"column":1,"offset":18661},"end":{"line":358,"column":24,"offset":18742}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Where ","position":{"start":{"line":360,"column":1,"offset":18746},"end":{"line":360,"column":7,"offset":18752}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$HOME"}],"position":{"start":{"line":360,"column":7,"offset":18752},"end":{"line":360,"column":14,"offset":18759}}},{"type":"text","value":" is the user's home directory, and ","position":{"start":{"line":360,"column":14,"offset":18759},"end":{"line":360,"column":49,"offset":18794}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$PREFIX"}],"position":{"start":{"line":360,"column":49,"offset":18794},"end":{"line":360,"column":58,"offset":18803}}},{"type":"text","value":" is the Node.js configured ","position":{"start":{"line":360,"column":58,"offset":18803},"end":{"line":360,"column":85,"offset":18830}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_prefix"}],"position":{"start":{"line":360,"column":85,"offset":18830},"end":{"line":360,"column":98,"offset":18843}}},{"type":"text","value":".","position":{"start":{"line":360,"column":98,"offset":18843},"end":{"line":360,"column":99,"offset":18844}}}],"position":{"start":{"line":360,"column":1,"offset":18746},"end":{"line":360,"column":99,"offset":18844}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"These are mostly for historic reasons.","position":{"start":{"line":362,"column":1,"offset":18848},"end":{"line":362,"column":39,"offset":18886}}}],"position":{"start":{"line":362,"column":1,"offset":18848},"end":{"line":362,"column":39,"offset":18886}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is strongly encouraged to place dependencies in the local ","position":{"start":{"line":364,"column":1,"offset":18890},"end":{"line":364,"column":62,"offset":18951}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":364,"column":62,"offset":18951},"end":{"line":364,"column":76,"offset":18965}}},{"type":"text","value":" folder. These will be loaded faster, and more reliably.","position":{"start":{"line":364,"column":76,"offset":18965},"end":{"line":364,"column":132,"offset":19021}}}],"position":{"start":{"line":364,"column":1,"offset":18890},"end":{"line":364,"column":132,"offset":19021}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"The module wrapper","position":{"start":{"line":366,"column":5,"offset":19029},"end":{"line":366,"column":23,"offset":19047}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_wrapper"},"children":[{"type":"text","value":"#","position":{"start":{"line":366,"column":24,"offset":19048},"end":{"line":366,"column":25,"offset":19049}}}],"position":{"start":{"line":366,"column":23,"offset":19047},"end":{"line":366,"column":90,"offset":19114}}}],"position":{"start":{"line":366,"column":1,"offset":19025},"end":{"line":366,"column":90,"offset":19114}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Before a module's code is executed, Node.js will wrap it with a function wrapper that looks like the following:","position":{"start":{"line":368,"column":1,"offset":19118},"end":{"line":368,"column":112,"offset":19229}}}],"position":{"start":{"line":368,"column":1,"offset":19118},"end":{"line":368,"column":112,"offset":19229}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"(function(exports, require, module, __filename, __dirname) {\n// Module code actually lives in here\n});\n"}],"position":{"start":{"line":370,"column":1,"offset":19233},"end":{"line":374,"column":4,"offset":19347}}}],"position":{"start":{"line":370,"column":1,"offset":19233},"end":{"line":374,"column":4,"offset":19347}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"By doing this, Node.js achieves a few things:","position":{"start":{"line":376,"column":1,"offset":19351},"end":{"line":376,"column":46,"offset":19396}}}],"position":{"start":{"line":376,"column":1,"offset":19351},"end":{"line":376,"column":46,"offset":19396}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"It keeps top-level variables (defined with ","position":{"start":{"line":378,"column":3,"offset":19402},"end":{"line":378,"column":46,"offset":19445}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"var"}],"position":{"start":{"line":378,"column":46,"offset":19445},"end":{"line":378,"column":51,"offset":19450}}},{"type":"text","value":", ","position":{"start":{"line":378,"column":51,"offset":19450},"end":{"line":378,"column":53,"offset":19452}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const"}],"position":{"start":{"line":378,"column":53,"offset":19452},"end":{"line":378,"column":60,"offset":19459}}},{"type":"text","value":" or ","position":{"start":{"line":378,"column":60,"offset":19459},"end":{"line":378,"column":64,"offset":19463}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"let"}],"position":{"start":{"line":378,"column":64,"offset":19463},"end":{"line":378,"column":69,"offset":19468}}},{"type":"text","value":") scoped to the module rather than the global object.","position":{"start":{"line":378,"column":69,"offset":19468},"end":{"line":378,"column":122,"offset":19521}}}],"position":{"start":{"line":378,"column":1,"offset":19400},"end":{"line":378,"column":122,"offset":19521}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It helps to provide some global-looking variables that are actually specific to the module, such as:","position":{"start":{"line":379,"column":3,"offset":19525},"end":{"line":379,"column":103,"offset":19625}}}],"position":{"start":{"line":379,"column":3,"offset":19525},"end":{"line":379,"column":103,"offset":19625}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":380,"column":7,"offset":19633},"end":{"line":380,"column":11,"offset":19637}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":380,"column":11,"offset":19637},"end":{"line":380,"column":19,"offset":19645}}},{"type":"text","value":" and ","position":{"start":{"line":380,"column":19,"offset":19645},"end":{"line":380,"column":24,"offset":19650}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":380,"column":24,"offset":19650},"end":{"line":380,"column":33,"offset":19659}}},{"type":"text","value":" objects that the implementor can use to export values from the module.","position":{"start":{"line":380,"column":33,"offset":19659},"end":{"line":380,"column":104,"offset":19730}}}],"position":{"start":{"line":380,"column":5,"offset":19631},"end":{"line":380,"column":104,"offset":19730}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The convenience variables ","position":{"start":{"line":381,"column":7,"offset":19738},"end":{"line":381,"column":33,"offset":19764}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__filename"}],"position":{"start":{"line":381,"column":33,"offset":19764},"end":{"line":381,"column":45,"offset":19776}}},{"type":"text","value":" and ","position":{"start":{"line":381,"column":45,"offset":19776},"end":{"line":381,"column":50,"offset":19781}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__dirname"}],"position":{"start":{"line":381,"column":50,"offset":19781},"end":{"line":381,"column":61,"offset":19792}}},{"type":"text","value":", containing the module's absolute filename and directory path.","position":{"start":{"line":381,"column":61,"offset":19792},"end":{"line":381,"column":124,"offset":19855}}}],"position":{"start":{"line":381,"column":5,"offset":19736},"end":{"line":381,"column":124,"offset":19855}}},{"type":"text","value":"\n"}],"position":{"start":{"line":380,"column":5,"offset":19631},"end":{"line":381,"column":124,"offset":19855}}},{"type":"text","value":"\n"}],"position":{"start":{"line":379,"column":1,"offset":19523},"end":{"line":381,"column":124,"offset":19855}}},{"type":"text","value":"\n"}],"position":{"start":{"line":378,"column":1,"offset":19400},"end":{"line":381,"column":124,"offset":19855}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"The module scope","position":{"start":{"line":383,"column":5,"offset":19863},"end":{"line":383,"column":21,"offset":19879}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_scope"},"children":[{"type":"text","value":"#","position":{"start":{"line":383,"column":22,"offset":19880},"end":{"line":383,"column":23,"offset":19881}}}],"position":{"start":{"line":383,"column":21,"offset":19879},"end":{"line":383,"column":86,"offset":19944}}}],"position":{"start":{"line":383,"column":1,"offset":19859},"end":{"line":383,"column":86,"offset":19944}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__dirname"}],"position":{"start":{"line":385,"column":6,"offset":19953},"end":{"line":385,"column":17,"offset":19964}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_dirname"},"children":[{"type":"text","value":"#","position":{"start":{"line":385,"column":18,"offset":19965},"end":{"line":385,"column":19,"offset":19966}}}],"position":{"start":{"line":385,"column":17,"offset":19964},"end":{"line":385,"column":73,"offset":20020}}}],"position":{"start":{"line":385,"column":1,"offset":19948},"end":{"line":385,"column":73,"offset":20020}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.27","position":{"start":{"line":387,"column":1,"offset":20024},"end":{"line":387,"column":18,"offset":20041}}}],"position":{"start":{"line":387,"column":1,"offset":20024},"end":{"line":387,"column":18,"offset":20041}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":389,"column":4,"offset":20048},"end":{"line":389,"column":12,"offset":20056}}}],"position":{"start":{"line":389,"column":3,"offset":20047},"end":{"line":389,"column":98,"offset":20142}}}],"position":{"start":{"line":389,"column":1,"offset":20045},"end":{"line":389,"column":98,"offset":20142}}},{"type":"text","value":"\n"}],"position":{"start":{"line":389,"column":1,"offset":20045},"end":{"line":389,"column":98,"offset":20142}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The directory name of the current module. This is the same as the ","position":{"start":{"line":391,"column":1,"offset":20146},"end":{"line":391,"column":67,"offset":20212}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/path.html#path_path_dirname_path"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"path.dirname()"}],"position":{"start":{"line":391,"column":68,"offset":20213},"end":{"line":391,"column":84,"offset":20229}}}],"position":{"start":{"line":391,"column":67,"offset":20212},"end":{"line":391,"column":142,"offset":20287}}},{"type":"text","value":" of the ","position":{"start":{"line":391,"column":142,"offset":20287},"end":{"line":391,"column":150,"offset":20295}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_filename"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__filename"}],"position":{"start":{"line":391,"column":151,"offset":20296},"end":{"line":391,"column":163,"offset":20308}}}],"position":{"start":{"line":391,"column":150,"offset":20295},"end":{"line":391,"column":218,"offset":20363}}},{"type":"text","value":".","position":{"start":{"line":391,"column":218,"offset":20363},"end":{"line":391,"column":219,"offset":20364}}}],"position":{"start":{"line":391,"column":1,"offset":20146},"end":{"line":391,"column":219,"offset":20364}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Example: running ","position":{"start":{"line":393,"column":1,"offset":20368},"end":{"line":393,"column":18,"offset":20385}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node example.js"}],"position":{"start":{"line":393,"column":18,"offset":20385},"end":{"line":393,"column":35,"offset":20402}}},{"type":"text","value":" from ","position":{"start":{"line":393,"column":35,"offset":20402},"end":{"line":393,"column":41,"offset":20408}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/Users/mjr"}],"position":{"start":{"line":393,"column":41,"offset":20408},"end":{"line":393,"column":53,"offset":20420}}}],"position":{"start":{"line":393,"column":1,"offset":20368},"end":{"line":393,"column":53,"offset":20420}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"console.log(__dirname);\n// Prints: /Users/mjr\nconsole.log(path.dirname(__filename));\n// Prints: /Users/mjr\n"}],"position":{"start":{"line":395,"column":1,"offset":20424},"end":{"line":400,"column":4,"offset":20543}}}],"position":{"start":{"line":395,"column":1,"offset":20424},"end":{"line":400,"column":4,"offset":20543}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__filename"}],"position":{"start":{"line":402,"column":6,"offset":20552},"end":{"line":402,"column":18,"offset":20564}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_filename"},"children":[{"type":"text","value":"#","position":{"start":{"line":402,"column":19,"offset":20565},"end":{"line":402,"column":20,"offset":20566}}}],"position":{"start":{"line":402,"column":18,"offset":20564},"end":{"line":402,"column":75,"offset":20621}}}],"position":{"start":{"line":402,"column":1,"offset":20547},"end":{"line":402,"column":75,"offset":20621}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.0.1","position":{"start":{"line":404,"column":1,"offset":20625},"end":{"line":404,"column":17,"offset":20641}}}],"position":{"start":{"line":404,"column":1,"offset":20625},"end":{"line":404,"column":17,"offset":20641}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":406,"column":4,"offset":20648},"end":{"line":406,"column":12,"offset":20656}}}],"position":{"start":{"line":406,"column":3,"offset":20647},"end":{"line":406,"column":98,"offset":20742}}}],"position":{"start":{"line":406,"column":1,"offset":20645},"end":{"line":406,"column":98,"offset":20742}}},{"type":"text","value":"\n"}],"position":{"start":{"line":406,"column":1,"offset":20645},"end":{"line":406,"column":98,"offset":20742}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The file name of the current module. This is the current module file's absolute path with symlinks resolved.","position":{"start":{"line":408,"column":1,"offset":20746},"end":{"line":408,"column":109,"offset":20854}}}],"position":{"start":{"line":408,"column":1,"offset":20746},"end":{"line":408,"column":109,"offset":20854}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For a main program this is not necessarily the same as the file name used in the command line.","position":{"start":{"line":410,"column":1,"offset":20858},"end":{"line":410,"column":95,"offset":20952}}}],"position":{"start":{"line":410,"column":1,"offset":20858},"end":{"line":410,"column":95,"offset":20952}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"See ","position":{"start":{"line":412,"column":1,"offset":20956},"end":{"line":412,"column":5,"offset":20960}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_dirname"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__dirname"}],"position":{"start":{"line":412,"column":6,"offset":20961},"end":{"line":412,"column":17,"offset":20972}}}],"position":{"start":{"line":412,"column":5,"offset":20960},"end":{"line":412,"column":71,"offset":21026}}},{"type":"text","value":" for the directory name of the current module.","position":{"start":{"line":412,"column":71,"offset":21026},"end":{"line":412,"column":117,"offset":21072}}}],"position":{"start":{"line":412,"column":1,"offset":20956},"end":{"line":412,"column":117,"offset":21072}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Examples:","position":{"start":{"line":414,"column":1,"offset":21076},"end":{"line":414,"column":10,"offset":21085}}}],"position":{"start":{"line":414,"column":1,"offset":21076},"end":{"line":414,"column":10,"offset":21085}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Running ","position":{"start":{"line":416,"column":1,"offset":21089},"end":{"line":416,"column":9,"offset":21097}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node example.js"}],"position":{"start":{"line":416,"column":9,"offset":21097},"end":{"line":416,"column":26,"offset":21114}}},{"type":"text","value":" from ","position":{"start":{"line":416,"column":26,"offset":21114},"end":{"line":416,"column":32,"offset":21120}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/Users/mjr"}],"position":{"start":{"line":416,"column":32,"offset":21120},"end":{"line":416,"column":44,"offset":21132}}}],"position":{"start":{"line":416,"column":1,"offset":21089},"end":{"line":416,"column":44,"offset":21132}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"console.log(__filename);\n// Prints: /Users/mjr/example.js\nconsole.log(__dirname);\n// Prints: /Users/mjr\n"}],"position":{"start":{"line":418,"column":1,"offset":21136},"end":{"line":423,"column":4,"offset":21252}}}],"position":{"start":{"line":418,"column":1,"offset":21136},"end":{"line":423,"column":4,"offset":21252}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Given two modules: ","position":{"start":{"line":425,"column":1,"offset":21256},"end":{"line":425,"column":20,"offset":21275}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a"}],"position":{"start":{"line":425,"column":20,"offset":21275},"end":{"line":425,"column":23,"offset":21278}}},{"type":"text","value":" and ","position":{"start":{"line":425,"column":23,"offset":21278},"end":{"line":425,"column":28,"offset":21283}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b"}],"position":{"start":{"line":425,"column":28,"offset":21283},"end":{"line":425,"column":31,"offset":21286}}},{"type":"text","value":", where ","position":{"start":{"line":425,"column":31,"offset":21286},"end":{"line":425,"column":39,"offset":21294}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b"}],"position":{"start":{"line":425,"column":39,"offset":21294},"end":{"line":425,"column":42,"offset":21297}}},{"type":"text","value":" is a dependency of ","position":{"start":{"line":425,"column":42,"offset":21297},"end":{"line":425,"column":62,"offset":21317}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a"}],"position":{"start":{"line":425,"column":62,"offset":21317},"end":{"line":425,"column":65,"offset":21320}}},{"type":"text","value":" and there is a directory structure of:","position":{"start":{"line":425,"column":65,"offset":21320},"end":{"line":425,"column":104,"offset":21359}}}],"position":{"start":{"line":425,"column":1,"offset":21256},"end":{"line":425,"column":104,"offset":21359}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/Users/mjr/app/a.js"}],"position":{"start":{"line":427,"column":3,"offset":21365},"end":{"line":427,"column":24,"offset":21386}}}],"position":{"start":{"line":427,"column":1,"offset":21363},"end":{"line":427,"column":24,"offset":21386}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/Users/mjr/app/node_modules/b/b.js"}],"position":{"start":{"line":428,"column":3,"offset":21390},"end":{"line":428,"column":39,"offset":21426}}}],"position":{"start":{"line":428,"column":1,"offset":21388},"end":{"line":428,"column":39,"offset":21426}}},{"type":"text","value":"\n"}],"position":{"start":{"line":427,"column":1,"offset":21363},"end":{"line":428,"column":39,"offset":21426}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"References to ","position":{"start":{"line":430,"column":1,"offset":21430},"end":{"line":430,"column":15,"offset":21444}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__filename"}],"position":{"start":{"line":430,"column":15,"offset":21444},"end":{"line":430,"column":27,"offset":21456}}},{"type":"text","value":" within ","position":{"start":{"line":430,"column":27,"offset":21456},"end":{"line":430,"column":35,"offset":21464}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b.js"}],"position":{"start":{"line":430,"column":35,"offset":21464},"end":{"line":430,"column":41,"offset":21470}}},{"type":"text","value":" will return ","position":{"start":{"line":430,"column":41,"offset":21470},"end":{"line":430,"column":54,"offset":21483}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/Users/mjr/app/node_modules/b/b.js"}],"position":{"start":{"line":430,"column":54,"offset":21483},"end":{"line":430,"column":90,"offset":21519}}},{"type":"text","value":" while references to ","position":{"start":{"line":430,"column":90,"offset":21519},"end":{"line":430,"column":111,"offset":21540}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__filename"}],"position":{"start":{"line":430,"column":111,"offset":21540},"end":{"line":430,"column":123,"offset":21552}}},{"type":"text","value":" within ","position":{"start":{"line":430,"column":123,"offset":21552},"end":{"line":430,"column":131,"offset":21560}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":430,"column":131,"offset":21560},"end":{"line":430,"column":137,"offset":21566}}},{"type":"text","value":" will return ","position":{"start":{"line":430,"column":137,"offset":21566},"end":{"line":430,"column":150,"offset":21579}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/Users/mjr/app/a.js"}],"position":{"start":{"line":430,"column":150,"offset":21579},"end":{"line":430,"column":171,"offset":21600}}},{"type":"text","value":".","position":{"start":{"line":430,"column":171,"offset":21600},"end":{"line":430,"column":172,"offset":21601}}}],"position":{"start":{"line":430,"column":1,"offset":21430},"end":{"line":430,"column":172,"offset":21601}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":432,"column":6,"offset":21610},"end":{"line":432,"column":15,"offset":21619}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_exports"},"children":[{"type":"text","value":"#","position":{"start":{"line":432,"column":16,"offset":21620},"end":{"line":432,"column":17,"offset":21621}}}],"position":{"start":{"line":432,"column":15,"offset":21619},"end":{"line":432,"column":71,"offset":21675}}}],"position":{"start":{"line":432,"column":1,"offset":21605},"end":{"line":432,"column":71,"offset":21675}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.12","position":{"start":{"line":434,"column":1,"offset":21679},"end":{"line":434,"column":18,"offset":21696}}}],"position":{"start":{"line":434,"column":1,"offset":21679},"end":{"line":434,"column":18,"offset":21696}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"},"children":[{"type":"raw","value":"<Object>","position":{"start":{"line":436,"column":4,"offset":21703},"end":{"line":436,"column":12,"offset":21711}}}],"position":{"start":{"line":436,"column":3,"offset":21702},"end":{"line":436,"column":102,"offset":21801}}}],"position":{"start":{"line":436,"column":1,"offset":21700},"end":{"line":436,"column":102,"offset":21801}}},{"type":"text","value":"\n"}],"position":{"start":{"line":436,"column":1,"offset":21700},"end":{"line":436,"column":102,"offset":21801}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A reference to the ","position":{"start":{"line":438,"column":1,"offset":21805},"end":{"line":438,"column":20,"offset":21824}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":438,"column":20,"offset":21824},"end":{"line":438,"column":36,"offset":21840}}},{"type":"text","value":" that is shorter to type. See the section about the ","position":{"start":{"line":438,"column":36,"offset":21840},"end":{"line":438,"column":88,"offset":21892}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_exports_shortcut"},"children":[{"type":"text","value":"exports shortcut","position":{"start":{"line":438,"column":89,"offset":21893},"end":{"line":438,"column":105,"offset":21909}}}],"position":{"start":{"line":438,"column":88,"offset":21892},"end":{"line":438,"column":168,"offset":21972}}},{"type":"text","value":" for details on when to use ","position":{"start":{"line":438,"column":168,"offset":21972},"end":{"line":438,"column":196,"offset":22000}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":438,"column":196,"offset":22000},"end":{"line":438,"column":205,"offset":22009}}},{"type":"text","value":" and when to use ","position":{"start":{"line":438,"column":205,"offset":22009},"end":{"line":438,"column":222,"offset":22026}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":438,"column":222,"offset":22026},"end":{"line":438,"column":238,"offset":22042}}},{"type":"text","value":".","position":{"start":{"line":438,"column":238,"offset":22042},"end":{"line":438,"column":239,"offset":22043}}}],"position":{"start":{"line":438,"column":1,"offset":21805},"end":{"line":438,"column":239,"offset":22043}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":440,"column":6,"offset":22052},"end":{"line":440,"column":14,"offset":22060}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module"},"children":[{"type":"text","value":"#","position":{"start":{"line":440,"column":15,"offset":22061},"end":{"line":440,"column":16,"offset":22062}}}],"position":{"start":{"line":440,"column":14,"offset":22060},"end":{"line":440,"column":69,"offset":22115}}}],"position":{"start":{"line":440,"column":1,"offset":22047},"end":{"line":440,"column":69,"offset":22115}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":442,"column":1,"offset":22119},"end":{"line":442,"column":18,"offset":22136}}}],"position":{"start":{"line":442,"column":1,"offset":22119},"end":{"line":442,"column":18,"offset":22136}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object"},"children":[{"type":"raw","value":"<module>","position":{"start":{"line":444,"column":4,"offset":22143},"end":{"line":444,"column":12,"offset":22151}}}],"position":{"start":{"line":444,"column":3,"offset":22142},"end":{"line":444,"column":76,"offset":22215}}}],"position":{"start":{"line":444,"column":1,"offset":22140},"end":{"line":444,"column":76,"offset":22215}}},{"type":"text","value":"\n"}],"position":{"start":{"line":444,"column":1,"offset":22140},"end":{"line":444,"column":76,"offset":22215}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A reference to the current module, see the section about the ","position":{"start":{"line":446,"column":1,"offset":22219},"end":{"line":446,"column":62,"offset":22280}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":446,"column":63,"offset":22281},"end":{"line":446,"column":71,"offset":22289}}},{"type":"text","value":" object","position":{"start":{"line":446,"column":71,"offset":22289},"end":{"line":446,"column":78,"offset":22296}}}],"position":{"start":{"line":446,"column":62,"offset":22280},"end":{"line":446,"column":142,"offset":22360}}},{"type":"text","value":". In particular, ","position":{"start":{"line":446,"column":142,"offset":22360},"end":{"line":446,"column":159,"offset":22377}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":446,"column":159,"offset":22377},"end":{"line":446,"column":175,"offset":22393}}},{"type":"text","value":" is used for defining what a module exports and makes available through ","position":{"start":{"line":446,"column":175,"offset":22393},"end":{"line":446,"column":247,"offset":22465}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":446,"column":247,"offset":22465},"end":{"line":446,"column":258,"offset":22476}}},{"type":"text","value":".","position":{"start":{"line":446,"column":258,"offset":22476},"end":{"line":446,"column":259,"offset":22477}}}],"position":{"start":{"line":446,"column":1,"offset":22219},"end":{"line":446,"column":259,"offset":22477}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require(id)"}],"position":{"start":{"line":448,"column":6,"offset":22486},"end":{"line":448,"column":19,"offset":22499}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_id"},"children":[{"type":"text","value":"#","position":{"start":{"line":448,"column":20,"offset":22500},"end":{"line":448,"column":21,"offset":22501}}}],"position":{"start":{"line":448,"column":19,"offset":22499},"end":{"line":448,"column":78,"offset":22558}}}],"position":{"start":{"line":448,"column":1,"offset":22481},"end":{"line":448,"column":78,"offset":22558}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.13","position":{"start":{"line":450,"column":1,"offset":22562},"end":{"line":450,"column":18,"offset":22579}}}],"position":{"start":{"line":450,"column":1,"offset":22562},"end":{"line":450,"column":18,"offset":22579}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"id"}],"position":{"start":{"line":452,"column":3,"offset":22585},"end":{"line":452,"column":7,"offset":22589}}},{"type":"text","value":" ","position":{"start":{"line":452,"column":7,"offset":22589},"end":{"line":452,"column":8,"offset":22590}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":452,"column":9,"offset":22591},"end":{"line":452,"column":17,"offset":22599}}}],"position":{"start":{"line":452,"column":8,"offset":22590},"end":{"line":452,"column":103,"offset":22685}}},{"type":"text","value":" module name or path","position":{"start":{"line":452,"column":103,"offset":22685},"end":{"line":452,"column":123,"offset":22705}}}],"position":{"start":{"line":452,"column":1,"offset":22583},"end":{"line":452,"column":123,"offset":22705}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Returns: ","position":{"start":{"line":453,"column":3,"offset":22709},"end":{"line":453,"column":12,"offset":22718}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types"},"children":[{"type":"raw","value":"<any>","position":{"start":{"line":453,"column":13,"offset":22719},"end":{"line":453,"column":18,"offset":22724}}}],"position":{"start":{"line":453,"column":12,"offset":22718},"end":{"line":453,"column":103,"offset":22809}}},{"type":"text","value":" exported module content","position":{"start":{"line":453,"column":103,"offset":22809},"end":{"line":453,"column":127,"offset":22833}}}],"position":{"start":{"line":453,"column":1,"offset":22707},"end":{"line":453,"column":127,"offset":22833}}},{"type":"text","value":"\n"}],"position":{"start":{"line":452,"column":1,"offset":22583},"end":{"line":453,"column":127,"offset":22833}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Used to import modules, ","position":{"start":{"line":455,"column":1,"offset":22837},"end":{"line":455,"column":25,"offset":22861}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"JSON"}],"position":{"start":{"line":455,"column":25,"offset":22861},"end":{"line":455,"column":31,"offset":22867}}},{"type":"text","value":", and local files. Modules can be imported from ","position":{"start":{"line":455,"column":31,"offset":22867},"end":{"line":455,"column":79,"offset":22915}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":455,"column":79,"offset":22915},"end":{"line":455,"column":93,"offset":22929}}},{"type":"text","value":". Local modules and JSON files can be imported using a relative path (e.g. ","position":{"start":{"line":455,"column":93,"offset":22929},"end":{"line":455,"column":168,"offset":23004}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./"}],"position":{"start":{"line":455,"column":168,"offset":23004},"end":{"line":455,"column":172,"offset":23008}}},{"type":"text","value":", ","position":{"start":{"line":455,"column":172,"offset":23008},"end":{"line":455,"column":174,"offset":23010}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./foo"}],"position":{"start":{"line":455,"column":174,"offset":23010},"end":{"line":455,"column":181,"offset":23017}}},{"type":"text","value":", ","position":{"start":{"line":455,"column":181,"offset":23017},"end":{"line":455,"column":183,"offset":23019}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./bar/baz"}],"position":{"start":{"line":455,"column":183,"offset":23019},"end":{"line":455,"column":194,"offset":23030}}},{"type":"text","value":", ","position":{"start":{"line":455,"column":194,"offset":23030},"end":{"line":455,"column":196,"offset":23032}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"../foo"}],"position":{"start":{"line":455,"column":196,"offset":23032},"end":{"line":455,"column":204,"offset":23040}}},{"type":"text","value":") that will be resolved against the directory named by ","position":{"start":{"line":455,"column":204,"offset":23040},"end":{"line":455,"column":259,"offset":23095}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_dirname"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__dirname"}],"position":{"start":{"line":455,"column":260,"offset":23096},"end":{"line":455,"column":271,"offset":23107}}}],"position":{"start":{"line":455,"column":259,"offset":23095},"end":{"line":455,"column":325,"offset":23161}}},{"type":"text","value":" (if defined) or the current working directory. The relative paths of POSIX style are resolved in an OS independent fashion, meaning that the examples above will work on Windows in the same way they would on Unix systems.","position":{"start":{"line":455,"column":325,"offset":23161},"end":{"line":455,"column":546,"offset":23382}}}],"position":{"start":{"line":455,"column":1,"offset":22837},"end":{"line":455,"column":546,"offset":23382}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"// Importing a local module with a path relative to the `__dirname` or current\n// working directory. (On Windows, this would resolve to .\\path\\myLocalModule.)\nconst myLocalModule = require('./path/myLocalModule');\n\n// Importing a JSON file:\nconst jsonData = require('./path/filename.json');\n\n// Importing a module from node_modules or Node.js built-in module:\nconst crypto = require('crypto');\n"}],"position":{"start":{"line":457,"column":1,"offset":23386},"end":{"line":467,"column":4,"offset":23797}}}],"position":{"start":{"line":457,"column":1,"offset":23386},"end":{"line":467,"column":4,"offset":23797}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h5","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.cache"}],"position":{"start":{"line":469,"column":7,"offset":23807},"end":{"line":469,"column":22,"offset":23822}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_cache"},"children":[{"type":"text","value":"#","position":{"start":{"line":469,"column":23,"offset":23823},"end":{"line":469,"column":24,"offset":23824}}}],"position":{"start":{"line":469,"column":22,"offset":23822},"end":{"line":469,"column":84,"offset":23884}}}],"position":{"start":{"line":469,"column":1,"offset":23801},"end":{"line":469,"column":84,"offset":23884}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.3.0","position":{"start":{"line":471,"column":1,"offset":23888},"end":{"line":471,"column":17,"offset":23904}}}],"position":{"start":{"line":471,"column":1,"offset":23888},"end":{"line":471,"column":17,"offset":23904}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"},"children":[{"type":"raw","value":"<Object>","position":{"start":{"line":473,"column":4,"offset":23911},"end":{"line":473,"column":12,"offset":23919}}}],"position":{"start":{"line":473,"column":3,"offset":23910},"end":{"line":473,"column":102,"offset":24009}}}],"position":{"start":{"line":473,"column":1,"offset":23908},"end":{"line":473,"column":102,"offset":24009}}},{"type":"text","value":"\n"}],"position":{"start":{"line":473,"column":1,"offset":23908},"end":{"line":473,"column":102,"offset":24009}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Modules are cached in this object when they are required. By deleting a key value from this object, the next ","position":{"start":{"line":475,"column":1,"offset":24013},"end":{"line":475,"column":110,"offset":24122}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require"}],"position":{"start":{"line":475,"column":110,"offset":24122},"end":{"line":475,"column":119,"offset":24131}}},{"type":"text","value":" will reload the module. This does not apply to ","position":{"start":{"line":475,"column":119,"offset":24131},"end":{"line":475,"column":167,"offset":24179}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/addons.html"},"children":[{"type":"text","value":"native addons","position":{"start":{"line":475,"column":168,"offset":24180},"end":{"line":475,"column":181,"offset":24193}}}],"position":{"start":{"line":475,"column":167,"offset":24179},"end":{"line":475,"column":218,"offset":24230}}},{"type":"text","value":", for which reloading will result in an error.","position":{"start":{"line":475,"column":218,"offset":24230},"end":{"line":475,"column":264,"offset":24276}}}],"position":{"start":{"line":475,"column":1,"offset":24013},"end":{"line":475,"column":264,"offset":24276}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Adding or replacing entries is also possible. This cache is checked before native modules and if a name matching a native module is added to the cache, only ","position":{"start":{"line":477,"column":1,"offset":24280},"end":{"line":477,"column":158,"offset":24437}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node:"}],"position":{"start":{"line":477,"column":158,"offset":24437},"end":{"line":477,"column":165,"offset":24444}}},{"type":"text","value":"-prefixed require calls are going to receive the native module. Use with care!","position":{"start":{"line":477,"column":165,"offset":24444},"end":{"line":477,"column":243,"offset":24522}}}],"position":{"start":{"line":477,"column":1,"offset":24280},"end":{"line":477,"column":243,"offset":24522}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const assert = require('assert');\nconst realFs = require('fs');\n\nconst fakeFs = {};\nrequire.cache.fs = { exports: fakeFs };\n\nassert.strictEqual(require('fs'), fakeFs);\nassert.strictEqual(require('node:fs'), realFs);\n"}],"position":{"start":{"line":479,"column":1,"offset":24526},"end":{"line":488,"column":4,"offset":24758}}}],"position":{"start":{"line":479,"column":1,"offset":24526},"end":{"line":488,"column":4,"offset":24758}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h5","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.extensions"}],"position":{"start":{"line":490,"column":7,"offset":24768},"end":{"line":490,"column":27,"offset":24788}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_extensions"},"children":[{"type":"text","value":"#","position":{"start":{"line":490,"column":28,"offset":24789},"end":{"line":490,"column":29,"offset":24790}}}],"position":{"start":{"line":490,"column":27,"offset":24788},"end":{"line":490,"column":94,"offset":24855}}}],"position":{"start":{"line":490,"column":1,"offset":24762},"end":{"line":490,"column":94,"offset":24855}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.3.0Deprecated since: v0.10.6","position":{"start":{"line":492,"column":1,"offset":24859},"end":{"line":492,"column":42,"offset":24900}}}],"position":{"start":{"line":492,"column":1,"offset":24859},"end":{"line":492,"column":42,"offset":24900}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/documentation.html#documentation_stability_index"},"children":[{"type":"text","value":"Stability: 0","position":{"start":{"line":494,"column":2,"offset":24905},"end":{"line":494,"column":14,"offset":24917}}}],"position":{"start":{"line":494,"column":1,"offset":24904},"end":{"line":494,"column":88,"offset":24991}}},{"type":"text","value":" - Deprecated","position":{"start":{"line":494,"column":88,"offset":24991},"end":{"line":494,"column":101,"offset":25004}}}],"position":{"start":{"line":494,"column":1,"offset":24904},"end":{"line":494,"column":101,"offset":25004}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"},"children":[{"type":"raw","value":"<Object>","position":{"start":{"line":496,"column":4,"offset":25011},"end":{"line":496,"column":12,"offset":25019}}}],"position":{"start":{"line":496,"column":3,"offset":25010},"end":{"line":496,"column":102,"offset":25109}}}],"position":{"start":{"line":496,"column":1,"offset":25008},"end":{"line":496,"column":102,"offset":25109}}},{"type":"text","value":"\n"}],"position":{"start":{"line":496,"column":1,"offset":25008},"end":{"line":496,"column":102,"offset":25109}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Instruct ","position":{"start":{"line":498,"column":1,"offset":25113},"end":{"line":498,"column":10,"offset":25122}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require"}],"position":{"start":{"line":498,"column":10,"offset":25122},"end":{"line":498,"column":19,"offset":25131}}},{"type":"text","value":" on how to handle certain file extensions.","position":{"start":{"line":498,"column":19,"offset":25131},"end":{"line":498,"column":61,"offset":25173}}}],"position":{"start":{"line":498,"column":1,"offset":25113},"end":{"line":498,"column":61,"offset":25173}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Process files with the extension ","position":{"start":{"line":500,"column":1,"offset":25177},"end":{"line":500,"column":34,"offset":25210}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".sjs"}],"position":{"start":{"line":500,"column":34,"offset":25210},"end":{"line":500,"column":40,"offset":25216}}},{"type":"text","value":" as ","position":{"start":{"line":500,"column":40,"offset":25216},"end":{"line":500,"column":44,"offset":25220}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".js"}],"position":{"start":{"line":500,"column":44,"offset":25220},"end":{"line":500,"column":49,"offset":25225}}},{"type":"text","value":":","position":{"start":{"line":500,"column":49,"offset":25225},"end":{"line":500,"column":50,"offset":25226}}}],"position":{"start":{"line":500,"column":1,"offset":25177},"end":{"line":500,"column":50,"offset":25226}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.extensions['.sjs'] = require.extensions['.js'];\n"}],"position":{"start":{"line":502,"column":1,"offset":25230},"end":{"line":504,"column":4,"offset":25295}}}],"position":{"start":{"line":502,"column":1,"offset":25230},"end":{"line":504,"column":4,"offset":25295}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Deprecated. In the past, this list has been used to load non-JavaScript modules into Node.js by compiling them on-demand. However, in practice, there are much better ways to do this, such as loading modules via some other Node.js program, or compiling them to JavaScript ahead of time.","position":{"start":{"line":506,"column":1,"offset":25299},"end":{"line":506,"column":286,"offset":25584}}}],"position":{"start":{"line":506,"column":1,"offset":25299},"end":{"line":506,"column":286,"offset":25584}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Avoid using ","position":{"start":{"line":508,"column":1,"offset":25588},"end":{"line":508,"column":13,"offset":25600}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.extensions"}],"position":{"start":{"line":508,"column":13,"offset":25600},"end":{"line":508,"column":33,"offset":25620}}},{"type":"text","value":". Use could cause subtle bugs and resolving the extensions gets slower with each registered extension.","position":{"start":{"line":508,"column":33,"offset":25620},"end":{"line":508,"column":135,"offset":25722}}}],"position":{"start":{"line":508,"column":1,"offset":25588},"end":{"line":508,"column":135,"offset":25722}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h5","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.main"}],"position":{"start":{"line":510,"column":7,"offset":25732},"end":{"line":510,"column":21,"offset":25746}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_main"},"children":[{"type":"text","value":"#","position":{"start":{"line":510,"column":22,"offset":25747},"end":{"line":510,"column":23,"offset":25748}}}],"position":{"start":{"line":510,"column":21,"offset":25746},"end":{"line":510,"column":82,"offset":25807}}}],"position":{"start":{"line":510,"column":1,"offset":25726},"end":{"line":510,"column":82,"offset":25807}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.17","position":{"start":{"line":512,"column":1,"offset":25811},"end":{"line":512,"column":18,"offset":25828}}}],"position":{"start":{"line":512,"column":1,"offset":25811},"end":{"line":512,"column":18,"offset":25828}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object"},"children":[{"type":"raw","value":"<module>","position":{"start":{"line":514,"column":4,"offset":25835},"end":{"line":514,"column":12,"offset":25843}}}],"position":{"start":{"line":514,"column":3,"offset":25834},"end":{"line":514,"column":76,"offset":25907}}}],"position":{"start":{"line":514,"column":1,"offset":25832},"end":{"line":514,"column":76,"offset":25907}}},{"type":"text","value":"\n"}],"position":{"start":{"line":514,"column":1,"offset":25832},"end":{"line":514,"column":76,"offset":25907}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":516,"column":1,"offset":25911},"end":{"line":516,"column":5,"offset":25915}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Module"}],"position":{"start":{"line":516,"column":5,"offset":25915},"end":{"line":516,"column":13,"offset":25923}}},{"type":"text","value":" object representing the entry script loaded when the Node.js process launched. See ","position":{"start":{"line":516,"column":13,"offset":25923},"end":{"line":516,"column":97,"offset":26007}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_accessing_the_main_module"},"children":[{"type":"text","value":"\"Accessing the main module\"","position":{"start":{"line":516,"column":98,"offset":26008},"end":{"line":516,"column":125,"offset":26035}}}],"position":{"start":{"line":516,"column":97,"offset":26007},"end":{"line":516,"column":197,"offset":26107}}},{"type":"text","value":".","position":{"start":{"line":516,"column":197,"offset":26107},"end":{"line":516,"column":198,"offset":26108}}}],"position":{"start":{"line":516,"column":1,"offset":25911},"end":{"line":516,"column":198,"offset":26108}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In ","position":{"start":{"line":518,"column":1,"offset":26112},"end":{"line":518,"column":4,"offset":26115}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"entry.js"}],"position":{"start":{"line":518,"column":4,"offset":26115},"end":{"line":518,"column":14,"offset":26125}}},{"type":"text","value":" script:","position":{"start":{"line":518,"column":14,"offset":26125},"end":{"line":518,"column":22,"offset":26133}}}],"position":{"start":{"line":518,"column":1,"offset":26112},"end":{"line":518,"column":22,"offset":26133}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"console.log(require.main);\n"}],"position":{"start":{"line":520,"column":1,"offset":26137},"end":{"line":522,"column":4,"offset":26173}}}],"position":{"start":{"line":520,"column":1,"offset":26137},"end":{"line":522,"column":4,"offset":26173}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node entry.js\n"}],"position":{"start":{"line":524,"column":1,"offset":26177},"end":{"line":526,"column":4,"offset":26200}}}],"position":{"start":{"line":524,"column":1,"offset":26177},"end":{"line":526,"column":4,"offset":26200}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Module {\n  id: '.',\n  path: '/absolute/path/to',\n  exports: {},\n  filename: '/absolute/path/to/entry.js',\n  loaded: false,\n  children: [],\n  paths:\n   [ '/absolute/path/to/node_modules',\n     '/absolute/path/node_modules',\n     '/absolute/node_modules',\n     '/node_modules' ] }\n"}],"position":{"start":{"line":528,"column":1,"offset":26204},"end":{"line":541,"column":4,"offset":26503}}}],"position":{"start":{"line":528,"column":1,"offset":26204},"end":{"line":541,"column":4,"offset":26503}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h5","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.resolve(request[, options])"}],"position":{"start":{"line":543,"column":7,"offset":26513},"end":{"line":543,"column":44,"offset":26550}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_resolve_request_options"},"children":[{"type":"text","value":"#","position":{"start":{"line":543,"column":45,"offset":26551},"end":{"line":543,"column":46,"offset":26552}}}],"position":{"start":{"line":543,"column":44,"offset":26550},"end":{"line":543,"column":124,"offset":26630}}}],"position":{"start":{"line":543,"column":1,"offset":26507},"end":{"line":543,"column":124,"offset":26630}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"History","position":{"start":{"line":545,"column":1,"offset":26634},"end":{"line":545,"column":8,"offset":26641}}}],"position":{"start":{"line":545,"column":1,"offset":26634},"end":{"line":545,"column":8,"offset":26641}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"request"}],"position":{"start":{"line":547,"column":3,"offset":26647},"end":{"line":547,"column":12,"offset":26656}}},{"type":"text","value":" ","position":{"start":{"line":547,"column":12,"offset":26656},"end":{"line":547,"column":13,"offset":26657}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":547,"column":14,"offset":26658},"end":{"line":547,"column":22,"offset":26666}}}],"position":{"start":{"line":547,"column":13,"offset":26657},"end":{"line":547,"column":108,"offset":26752}}},{"type":"text","value":" The module path to resolve.","position":{"start":{"line":547,"column":108,"offset":26752},"end":{"line":547,"column":136,"offset":26780}}}],"position":{"start":{"line":547,"column":1,"offset":26645},"end":{"line":547,"column":136,"offset":26780}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"options"}],"position":{"start":{"line":548,"column":3,"offset":26784},"end":{"line":548,"column":12,"offset":26793}}},{"type":"text","value":" ","position":{"start":{"line":548,"column":12,"offset":26793},"end":{"line":548,"column":13,"offset":26794}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"},"children":[{"type":"raw","value":"<Object>","position":{"start":{"line":548,"column":14,"offset":26795},"end":{"line":548,"column":22,"offset":26803}}}],"position":{"start":{"line":548,"column":13,"offset":26794},"end":{"line":548,"column":112,"offset":26893}}}],"position":{"start":{"line":548,"column":1,"offset":26782},"end":{"line":548,"column":112,"offset":26893}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"paths"}],"position":{"start":{"line":549,"column":5,"offset":26899},"end":{"line":549,"column":12,"offset":26906}}},{"type":"text","value":" ","position":{"start":{"line":549,"column":12,"offset":26906},"end":{"line":549,"column":13,"offset":26907}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"text","value":"<string[]>","position":{"start":{"line":549,"column":14,"offset":26908},"end":{"line":549,"column":24,"offset":26918}}}],"position":{"start":{"line":549,"column":13,"offset":26907},"end":{"line":549,"column":110,"offset":27004}}},{"type":"text","value":" Paths to resolve module location from. If present, these paths are used instead of the default resolution paths, with the exception of ","position":{"start":{"line":549,"column":110,"offset":27004},"end":{"line":549,"column":246,"offset":27140}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_loading_from_the_global_folders"},"children":[{"type":"text","value":"GLOBAL_FOLDERS","position":{"start":{"line":549,"column":247,"offset":27141},"end":{"line":549,"column":261,"offset":27155}}}],"position":{"start":{"line":549,"column":246,"offset":27140},"end":{"line":549,"column":339,"offset":27233}}},{"type":"text","value":" like ","position":{"start":{"line":549,"column":339,"offset":27233},"end":{"line":549,"column":345,"offset":27239}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$HOME/.node_modules"}],"position":{"start":{"line":549,"column":345,"offset":27239},"end":{"line":549,"column":366,"offset":27260}}},{"type":"text","value":", which are always included. Each of these paths is used as a starting point for the module resolution algorithm, meaning that the ","position":{"start":{"line":549,"column":366,"offset":27260},"end":{"line":549,"column":497,"offset":27391}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":549,"column":497,"offset":27391},"end":{"line":549,"column":511,"offset":27405}}},{"type":"text","value":" hierarchy is checked from this location.","position":{"start":{"line":549,"column":511,"offset":27405},"end":{"line":549,"column":552,"offset":27446}}}],"position":{"start":{"line":549,"column":3,"offset":26897},"end":{"line":549,"column":552,"offset":27446}}},{"type":"text","value":"\n"}],"position":{"start":{"line":549,"column":3,"offset":26897},"end":{"line":549,"column":552,"offset":27446}}},{"type":"text","value":"\n"}],"position":{"start":{"line":549,"column":1,"offset":26895},"end":{"line":549,"column":552,"offset":27446}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Returns: ","position":{"start":{"line":550,"column":3,"offset":27450},"end":{"line":550,"column":12,"offset":27459}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":550,"column":13,"offset":27460},"end":{"line":550,"column":21,"offset":27468}}}],"position":{"start":{"line":550,"column":12,"offset":27459},"end":{"line":550,"column":107,"offset":27554}}}],"position":{"start":{"line":550,"column":1,"offset":27448},"end":{"line":550,"column":107,"offset":27554}}},{"type":"text","value":"\n"}],"position":{"start":{"line":547,"column":1,"offset":26645},"end":{"line":550,"column":107,"offset":27554}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Use the internal ","position":{"start":{"line":552,"column":1,"offset":27558},"end":{"line":552,"column":18,"offset":27575}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":552,"column":18,"offset":27575},"end":{"line":552,"column":29,"offset":27586}}},{"type":"text","value":" machinery to look up the location of a module, but rather than loading the module, just return the resolved filename.","position":{"start":{"line":552,"column":29,"offset":27586},"end":{"line":552,"column":147,"offset":27704}}}],"position":{"start":{"line":552,"column":1,"offset":27558},"end":{"line":552,"column":147,"offset":27704}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the module can not be found, a ","position":{"start":{"line":554,"column":1,"offset":27708},"end":{"line":554,"column":35,"offset":27742}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"MODULE_NOT_FOUND"}],"position":{"start":{"line":554,"column":35,"offset":27742},"end":{"line":554,"column":53,"offset":27760}}},{"type":"text","value":" error is thrown.","position":{"start":{"line":554,"column":53,"offset":27760},"end":{"line":554,"column":70,"offset":27777}}}],"position":{"start":{"line":554,"column":1,"offset":27708},"end":{"line":554,"column":70,"offset":27777}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h6","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.resolve.paths(request)"}],"position":{"start":{"line":556,"column":8,"offset":27788},"end":{"line":556,"column":40,"offset":27820}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_resolve_paths_request"},"children":[{"type":"text","value":"#","position":{"start":{"line":556,"column":41,"offset":27821},"end":{"line":556,"column":42,"offset":27822}}}],"position":{"start":{"line":556,"column":40,"offset":27820},"end":{"line":556,"column":118,"offset":27898}}}],"position":{"start":{"line":556,"column":1,"offset":27781},"end":{"line":556,"column":118,"offset":27898}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v8.9.0","position":{"start":{"line":558,"column":1,"offset":27902},"end":{"line":558,"column":17,"offset":27918}}}],"position":{"start":{"line":558,"column":1,"offset":27902},"end":{"line":558,"column":17,"offset":27918}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"request"}],"position":{"start":{"line":560,"column":3,"offset":27924},"end":{"line":560,"column":12,"offset":27933}}},{"type":"text","value":" ","position":{"start":{"line":560,"column":12,"offset":27933},"end":{"line":560,"column":13,"offset":27934}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":560,"column":14,"offset":27935},"end":{"line":560,"column":22,"offset":27943}}}],"position":{"start":{"line":560,"column":13,"offset":27934},"end":{"line":560,"column":108,"offset":28029}}},{"type":"text","value":" The module path whose lookup paths are being retrieved.","position":{"start":{"line":560,"column":108,"offset":28029},"end":{"line":560,"column":164,"offset":28085}}}],"position":{"start":{"line":560,"column":1,"offset":27922},"end":{"line":560,"column":164,"offset":28085}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Returns: ","position":{"start":{"line":561,"column":3,"offset":28089},"end":{"line":561,"column":12,"offset":28098}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"text","value":"<string[]>","position":{"start":{"line":561,"column":13,"offset":28099},"end":{"line":561,"column":23,"offset":28109}}}],"position":{"start":{"line":561,"column":12,"offset":28098},"end":{"line":561,"column":109,"offset":28195}}},{"type":"text","value":" | ","position":{"start":{"line":561,"column":109,"offset":28195},"end":{"line":561,"column":112,"offset":28198}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type"},"children":[{"type":"raw","value":"<null>","position":{"start":{"line":561,"column":113,"offset":28199},"end":{"line":561,"column":119,"offset":28205}}}],"position":{"start":{"line":561,"column":112,"offset":28198},"end":{"line":561,"column":203,"offset":28289}}}],"position":{"start":{"line":561,"column":1,"offset":28087},"end":{"line":561,"column":203,"offset":28289}}},{"type":"text","value":"\n"}],"position":{"start":{"line":560,"column":1,"offset":27922},"end":{"line":561,"column":203,"offset":28289}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Returns an array containing the paths searched during resolution of ","position":{"start":{"line":563,"column":1,"offset":28293},"end":{"line":563,"column":69,"offset":28361}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"request"}],"position":{"start":{"line":563,"column":69,"offset":28361},"end":{"line":563,"column":78,"offset":28370}}},{"type":"text","value":" or ","position":{"start":{"line":563,"column":78,"offset":28370},"end":{"line":563,"column":82,"offset":28374}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"null"}],"position":{"start":{"line":563,"column":82,"offset":28374},"end":{"line":563,"column":88,"offset":28380}}},{"type":"text","value":" if the ","position":{"start":{"line":563,"column":88,"offset":28380},"end":{"line":563,"column":96,"offset":28388}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"request"}],"position":{"start":{"line":563,"column":96,"offset":28388},"end":{"line":563,"column":105,"offset":28397}}},{"type":"text","value":" string references a core module, for example ","position":{"start":{"line":563,"column":105,"offset":28397},"end":{"line":563,"column":151,"offset":28443}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"http"}],"position":{"start":{"line":563,"column":151,"offset":28443},"end":{"line":563,"column":157,"offset":28449}}},{"type":"text","value":" or ","position":{"start":{"line":563,"column":157,"offset":28449},"end":{"line":563,"column":161,"offset":28453}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"fs"}],"position":{"start":{"line":563,"column":161,"offset":28453},"end":{"line":563,"column":165,"offset":28457}}},{"type":"text","value":".","position":{"start":{"line":563,"column":165,"offset":28457},"end":{"line":563,"column":166,"offset":28458}}}],"position":{"start":{"line":563,"column":1,"offset":28293},"end":{"line":563,"column":166,"offset":28458}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":565,"column":5,"offset":28466},"end":{"line":565,"column":9,"offset":28470}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":565,"column":9,"offset":28470},"end":{"line":565,"column":17,"offset":28478}}},{"type":"text","value":" object","position":{"start":{"line":565,"column":17,"offset":28478},"end":{"line":565,"column":24,"offset":28485}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object"},"children":[{"type":"text","value":"#","position":{"start":{"line":565,"column":25,"offset":28486},"end":{"line":565,"column":26,"offset":28487}}}],"position":{"start":{"line":565,"column":24,"offset":28485},"end":{"line":565,"column":90,"offset":28551}}}],"position":{"start":{"line":565,"column":1,"offset":28462},"end":{"line":565,"column":90,"offset":28551}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":567,"column":1,"offset":28555},"end":{"line":567,"column":18,"offset":28572}}}],"position":{"start":{"line":567,"column":1,"offset":28555},"end":{"line":567,"column":18,"offset":28572}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"},"children":[{"type":"raw","value":"<Object>","position":{"start":{"line":569,"column":4,"offset":28579},"end":{"line":569,"column":12,"offset":28587}}}],"position":{"start":{"line":569,"column":3,"offset":28578},"end":{"line":569,"column":102,"offset":28677}}}],"position":{"start":{"line":569,"column":1,"offset":28576},"end":{"line":569,"column":102,"offset":28677}}},{"type":"text","value":"\n"}],"position":{"start":{"line":569,"column":1,"offset":28576},"end":{"line":569,"column":102,"offset":28677}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In each module, the ","position":{"start":{"line":571,"column":1,"offset":28681},"end":{"line":571,"column":21,"offset":28701}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":571,"column":21,"offset":28701},"end":{"line":571,"column":29,"offset":28709}}},{"type":"text","value":" free variable is a reference to the object representing the current module. For convenience, ","position":{"start":{"line":571,"column":29,"offset":28709},"end":{"line":571,"column":123,"offset":28803}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":571,"column":123,"offset":28803},"end":{"line":571,"column":139,"offset":28819}}},{"type":"text","value":" is also accessible via the ","position":{"start":{"line":571,"column":139,"offset":28819},"end":{"line":571,"column":167,"offset":28847}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":571,"column":167,"offset":28847},"end":{"line":571,"column":176,"offset":28856}}},{"type":"text","value":" module-global. ","position":{"start":{"line":571,"column":176,"offset":28856},"end":{"line":571,"column":192,"offset":28872}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":571,"column":192,"offset":28872},"end":{"line":571,"column":200,"offset":28880}}},{"type":"text","value":" is not actually a global but rather local to each module.","position":{"start":{"line":571,"column":200,"offset":28880},"end":{"line":571,"column":258,"offset":28938}}}],"position":{"start":{"line":571,"column":1,"offset":28681},"end":{"line":571,"column":258,"offset":28938}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.children"}],"position":{"start":{"line":573,"column":6,"offset":28947},"end":{"line":573,"column":23,"offset":28964}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_children"},"children":[{"type":"text","value":"#","position":{"start":{"line":573,"column":24,"offset":28965},"end":{"line":573,"column":25,"offset":28966}}}],"position":{"start":{"line":573,"column":23,"offset":28964},"end":{"line":573,"column":87,"offset":29028}}}],"position":{"start":{"line":573,"column":1,"offset":28942},"end":{"line":573,"column":87,"offset":29028}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":575,"column":1,"offset":29032},"end":{"line":575,"column":18,"offset":29049}}}],"position":{"start":{"line":575,"column":1,"offset":29032},"end":{"line":575,"column":18,"offset":29049}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object"},"children":[{"type":"text","value":"<module[]>","position":{"start":{"line":577,"column":4,"offset":29056},"end":{"line":577,"column":14,"offset":29066}}}],"position":{"start":{"line":577,"column":3,"offset":29055},"end":{"line":577,"column":78,"offset":29130}}}],"position":{"start":{"line":577,"column":1,"offset":29053},"end":{"line":577,"column":78,"offset":29130}}},{"type":"text","value":"\n"}],"position":{"start":{"line":577,"column":1,"offset":29053},"end":{"line":577,"column":78,"offset":29130}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The module objects required for the first time by this one.","position":{"start":{"line":579,"column":1,"offset":29134},"end":{"line":579,"column":60,"offset":29193}}}],"position":{"start":{"line":579,"column":1,"offset":29134},"end":{"line":579,"column":60,"offset":29193}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":581,"column":6,"offset":29202},"end":{"line":581,"column":22,"offset":29218}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_exports"},"children":[{"type":"text","value":"#","position":{"start":{"line":581,"column":23,"offset":29219},"end":{"line":581,"column":24,"offset":29220}}}],"position":{"start":{"line":581,"column":22,"offset":29218},"end":{"line":581,"column":85,"offset":29281}}}],"position":{"start":{"line":581,"column":1,"offset":29197},"end":{"line":581,"column":85,"offset":29281}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":583,"column":1,"offset":29285},"end":{"line":583,"column":18,"offset":29302}}}],"position":{"start":{"line":583,"column":1,"offset":29285},"end":{"line":583,"column":18,"offset":29302}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"},"children":[{"type":"raw","value":"<Object>","position":{"start":{"line":585,"column":4,"offset":29309},"end":{"line":585,"column":12,"offset":29317}}}],"position":{"start":{"line":585,"column":3,"offset":29308},"end":{"line":585,"column":102,"offset":29407}}}],"position":{"start":{"line":585,"column":1,"offset":29306},"end":{"line":585,"column":102,"offset":29407}}},{"type":"text","value":"\n"}],"position":{"start":{"line":585,"column":1,"offset":29306},"end":{"line":585,"column":102,"offset":29407}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":587,"column":1,"offset":29411},"end":{"line":587,"column":5,"offset":29415}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":587,"column":5,"offset":29415},"end":{"line":587,"column":21,"offset":29431}}},{"type":"text","value":" object is created by the ","position":{"start":{"line":587,"column":21,"offset":29431},"end":{"line":587,"column":47,"offset":29457}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Module"}],"position":{"start":{"line":587,"column":47,"offset":29457},"end":{"line":587,"column":55,"offset":29465}}},{"type":"text","value":" system. Sometimes this is not acceptable; many want their module to be an instance of some class. To do this, assign the desired export object to ","position":{"start":{"line":587,"column":55,"offset":29465},"end":{"line":587,"column":202,"offset":29612}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":587,"column":202,"offset":29612},"end":{"line":587,"column":218,"offset":29628}}},{"type":"text","value":". Assigning the desired object to ","position":{"start":{"line":587,"column":218,"offset":29628},"end":{"line":587,"column":252,"offset":29662}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":587,"column":252,"offset":29662},"end":{"line":587,"column":261,"offset":29671}}},{"type":"text","value":" will simply rebind the local ","position":{"start":{"line":587,"column":261,"offset":29671},"end":{"line":587,"column":291,"offset":29701}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":587,"column":291,"offset":29701},"end":{"line":587,"column":300,"offset":29710}}},{"type":"text","value":" variable, which is probably not what is desired.","position":{"start":{"line":587,"column":300,"offset":29710},"end":{"line":587,"column":349,"offset":29759}}}],"position":{"start":{"line":587,"column":1,"offset":29411},"end":{"line":587,"column":349,"offset":29759}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For example, suppose we were making a module called ","position":{"start":{"line":589,"column":1,"offset":29763},"end":{"line":589,"column":53,"offset":29815}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":589,"column":53,"offset":29815},"end":{"line":589,"column":59,"offset":29821}}},{"type":"text","value":":","position":{"start":{"line":589,"column":59,"offset":29821},"end":{"line":589,"column":60,"offset":29822}}}],"position":{"start":{"line":589,"column":1,"offset":29763},"end":{"line":589,"column":60,"offset":29822}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const EventEmitter = require('events');\n\nmodule.exports = new EventEmitter();\n\n// Do some work, and after some time emit\n// the 'ready' event from the module itself.\nsetTimeout(() => {\n  module.exports.emit('ready');\n}, 1000);\n"}],"position":{"start":{"line":591,"column":1,"offset":29826},"end":{"line":601,"column":4,"offset":30070}}}],"position":{"start":{"line":591,"column":1,"offset":29826},"end":{"line":601,"column":4,"offset":30070}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Then in another file we could do:","position":{"start":{"line":603,"column":1,"offset":30074},"end":{"line":603,"column":34,"offset":30107}}}],"position":{"start":{"line":603,"column":1,"offset":30074},"end":{"line":603,"column":34,"offset":30107}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const a = require('./a');\na.on('ready', () => {\n  console.log('module \"a\" is ready');\n});\n"}],"position":{"start":{"line":605,"column":1,"offset":30111},"end":{"line":610,"column":4,"offset":30213}}}],"position":{"start":{"line":605,"column":1,"offset":30111},"end":{"line":610,"column":4,"offset":30213}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Assignment to ","position":{"start":{"line":612,"column":1,"offset":30217},"end":{"line":612,"column":15,"offset":30231}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":612,"column":15,"offset":30231},"end":{"line":612,"column":31,"offset":30247}}},{"type":"text","value":" must be done immediately. It cannot be done in any callbacks. This does not work:","position":{"start":{"line":612,"column":31,"offset":30247},"end":{"line":612,"column":113,"offset":30329}}}],"position":{"start":{"line":612,"column":1,"offset":30217},"end":{"line":612,"column":113,"offset":30329}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"x.js"}],"position":{"start":{"line":614,"column":1,"offset":30333},"end":{"line":614,"column":7,"offset":30339}}},{"type":"text","value":":","position":{"start":{"line":614,"column":7,"offset":30339},"end":{"line":614,"column":8,"offset":30340}}}],"position":{"start":{"line":614,"column":1,"offset":30333},"end":{"line":614,"column":8,"offset":30340}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"setTimeout(() => {\n  module.exports = { a: 'hello' };\n}, 0);\n"}],"position":{"start":{"line":616,"column":1,"offset":30344},"end":{"line":620,"column":4,"offset":30416}}}],"position":{"start":{"line":616,"column":1,"offset":30344},"end":{"line":620,"column":4,"offset":30416}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"y.js"}],"position":{"start":{"line":622,"column":1,"offset":30420},"end":{"line":622,"column":7,"offset":30426}}},{"type":"text","value":":","position":{"start":{"line":622,"column":7,"offset":30426},"end":{"line":622,"column":8,"offset":30427}}}],"position":{"start":{"line":622,"column":1,"offset":30420},"end":{"line":622,"column":8,"offset":30427}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const x = require('./x');\nconsole.log(x.a);\n"}],"position":{"start":{"line":624,"column":1,"offset":30431},"end":{"line":627,"column":4,"offset":30485}}}],"position":{"start":{"line":624,"column":1,"offset":30431},"end":{"line":627,"column":4,"offset":30485}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h5","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":629,"column":7,"offset":30495},"end":{"line":629,"column":16,"offset":30504}}},{"type":"text","value":" shortcut","position":{"start":{"line":629,"column":16,"offset":30504},"end":{"line":629,"column":25,"offset":30513}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_exports_shortcut"},"children":[{"type":"text","value":"#","position":{"start":{"line":629,"column":26,"offset":30514},"end":{"line":629,"column":27,"offset":30515}}}],"position":{"start":{"line":629,"column":25,"offset":30513},"end":{"line":629,"column":90,"offset":30578}}}],"position":{"start":{"line":629,"column":1,"offset":30489},"end":{"line":629,"column":90,"offset":30578}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":631,"column":1,"offset":30582},"end":{"line":631,"column":18,"offset":30599}}}],"position":{"start":{"line":631,"column":1,"offset":30582},"end":{"line":631,"column":18,"offset":30599}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":633,"column":1,"offset":30603},"end":{"line":633,"column":5,"offset":30607}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":633,"column":5,"offset":30607},"end":{"line":633,"column":14,"offset":30616}}},{"type":"text","value":" variable is available within a module's file-level scope, and is assigned the value of ","position":{"start":{"line":633,"column":14,"offset":30616},"end":{"line":633,"column":102,"offset":30704}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":633,"column":102,"offset":30704},"end":{"line":633,"column":118,"offset":30720}}},{"type":"text","value":" before the module is evaluated.","position":{"start":{"line":633,"column":118,"offset":30720},"end":{"line":633,"column":150,"offset":30752}}}],"position":{"start":{"line":633,"column":1,"offset":30603},"end":{"line":633,"column":150,"offset":30752}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It allows a shortcut, so that ","position":{"start":{"line":635,"column":1,"offset":30756},"end":{"line":635,"column":31,"offset":30786}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports.f = ..."}],"position":{"start":{"line":635,"column":31,"offset":30786},"end":{"line":635,"column":55,"offset":30810}}},{"type":"text","value":" can be written more succinctly as ","position":{"start":{"line":635,"column":55,"offset":30810},"end":{"line":635,"column":90,"offset":30845}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports.f = ..."}],"position":{"start":{"line":635,"column":90,"offset":30845},"end":{"line":635,"column":107,"offset":30862}}},{"type":"text","value":". However, be aware that like any variable, if a new value is assigned to ","position":{"start":{"line":635,"column":107,"offset":30862},"end":{"line":635,"column":181,"offset":30936}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":635,"column":181,"offset":30936},"end":{"line":635,"column":190,"offset":30945}}},{"type":"text","value":", it is no longer bound to ","position":{"start":{"line":635,"column":190,"offset":30945},"end":{"line":635,"column":217,"offset":30972}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":635,"column":217,"offset":30972},"end":{"line":635,"column":233,"offset":30988}}},{"type":"text","value":":","position":{"start":{"line":635,"column":233,"offset":30988},"end":{"line":635,"column":234,"offset":30989}}}],"position":{"start":{"line":635,"column":1,"offset":30756},"end":{"line":635,"column":234,"offset":30989}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports.hello = true; // Exported from require of module\nexports = { hello: false };  // Not exported, only available in the module\n"}],"position":{"start":{"line":637,"column":1,"offset":30993},"end":{"line":640,"column":4,"offset":31142}}}],"position":{"start":{"line":637,"column":1,"offset":30993},"end":{"line":640,"column":4,"offset":31142}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When the ","position":{"start":{"line":642,"column":1,"offset":31146},"end":{"line":642,"column":10,"offset":31155}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":642,"column":10,"offset":31155},"end":{"line":642,"column":26,"offset":31171}}},{"type":"text","value":" property is being completely replaced by a new object, it is common to also reassign ","position":{"start":{"line":642,"column":26,"offset":31171},"end":{"line":642,"column":112,"offset":31257}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":642,"column":112,"offset":31257},"end":{"line":642,"column":121,"offset":31266}}},{"type":"text","value":":","position":{"start":{"line":642,"column":121,"offset":31266},"end":{"line":642,"column":122,"offset":31267}}}],"position":{"start":{"line":642,"column":1,"offset":31146},"end":{"line":642,"column":122,"offset":31267}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports = exports = function Constructor() {\n  // ... etc.\n};\n"}],"position":{"start":{"line":644,"column":1,"offset":31271},"end":{"line":648,"column":4,"offset":31351}}}],"position":{"start":{"line":644,"column":1,"offset":31271},"end":{"line":648,"column":4,"offset":31351}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To illustrate the behavior, imagine this hypothetical implementation of ","position":{"start":{"line":650,"column":1,"offset":31355},"end":{"line":650,"column":73,"offset":31427}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":650,"column":73,"offset":31427},"end":{"line":650,"column":84,"offset":31438}}},{"type":"text","value":", which is quite similar to what is actually done by ","position":{"start":{"line":650,"column":84,"offset":31438},"end":{"line":650,"column":137,"offset":31491}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":650,"column":137,"offset":31491},"end":{"line":650,"column":148,"offset":31502}}},{"type":"text","value":":","position":{"start":{"line":650,"column":148,"offset":31502},"end":{"line":650,"column":149,"offset":31503}}}],"position":{"start":{"line":650,"column":1,"offset":31355},"end":{"line":650,"column":149,"offset":31503}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"function require(/* ... */) {\n  const module = { exports: {} };\n  ((module, exports) => {\n    // Module code here. In this example, define a function.\n    function someFunc() {}\n    exports = someFunc;\n    // At this point, exports is no longer a shortcut to module.exports, and\n    // this module will still export an empty default object.\n    module.exports = someFunc;\n    // At this point, the module will now export someFunc, instead of the\n    // default object.\n  })(module, module.exports);\n  return module.exports;\n}\n"}],"position":{"start":{"line":652,"column":1,"offset":31507},"end":{"line":667,"column":4,"offset":32055}}}],"position":{"start":{"line":652,"column":1,"offset":31507},"end":{"line":667,"column":4,"offset":32055}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.filename"}],"position":{"start":{"line":669,"column":6,"offset":32064},"end":{"line":669,"column":23,"offset":32081}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_filename"},"children":[{"type":"text","value":"#","position":{"start":{"line":669,"column":24,"offset":32082},"end":{"line":669,"column":25,"offset":32083}}}],"position":{"start":{"line":669,"column":23,"offset":32081},"end":{"line":669,"column":87,"offset":32145}}}],"position":{"start":{"line":669,"column":1,"offset":32059},"end":{"line":669,"column":87,"offset":32145}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":671,"column":1,"offset":32149},"end":{"line":671,"column":18,"offset":32166}}}],"position":{"start":{"line":671,"column":1,"offset":32149},"end":{"line":671,"column":18,"offset":32166}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":673,"column":4,"offset":32173},"end":{"line":673,"column":12,"offset":32181}}}],"position":{"start":{"line":673,"column":3,"offset":32172},"end":{"line":673,"column":98,"offset":32267}}}],"position":{"start":{"line":673,"column":1,"offset":32170},"end":{"line":673,"column":98,"offset":32267}}},{"type":"text","value":"\n"}],"position":{"start":{"line":673,"column":1,"offset":32170},"end":{"line":673,"column":98,"offset":32267}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The fully resolved filename of the module.","position":{"start":{"line":675,"column":1,"offset":32271},"end":{"line":675,"column":43,"offset":32313}}}],"position":{"start":{"line":675,"column":1,"offset":32271},"end":{"line":675,"column":43,"offset":32313}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.id"}],"position":{"start":{"line":677,"column":6,"offset":32322},"end":{"line":677,"column":17,"offset":32333}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_id"},"children":[{"type":"text","value":"#","position":{"start":{"line":677,"column":18,"offset":32334},"end":{"line":677,"column":19,"offset":32335}}}],"position":{"start":{"line":677,"column":17,"offset":32333},"end":{"line":677,"column":75,"offset":32391}}}],"position":{"start":{"line":677,"column":1,"offset":32317},"end":{"line":677,"column":75,"offset":32391}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":679,"column":1,"offset":32395},"end":{"line":679,"column":18,"offset":32412}}}],"position":{"start":{"line":679,"column":1,"offset":32395},"end":{"line":679,"column":18,"offset":32412}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":681,"column":4,"offset":32419},"end":{"line":681,"column":12,"offset":32427}}}],"position":{"start":{"line":681,"column":3,"offset":32418},"end":{"line":681,"column":98,"offset":32513}}}],"position":{"start":{"line":681,"column":1,"offset":32416},"end":{"line":681,"column":98,"offset":32513}}},{"type":"text","value":"\n"}],"position":{"start":{"line":681,"column":1,"offset":32416},"end":{"line":681,"column":98,"offset":32513}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The identifier for the module. Typically this is the fully resolved filename.","position":{"start":{"line":683,"column":1,"offset":32517},"end":{"line":683,"column":78,"offset":32594}}}],"position":{"start":{"line":683,"column":1,"offset":32517},"end":{"line":683,"column":78,"offset":32594}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.isPreloading"}],"position":{"start":{"line":685,"column":6,"offset":32603},"end":{"line":685,"column":27,"offset":32624}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_ispreloading"},"children":[{"type":"text","value":"#","position":{"start":{"line":685,"column":28,"offset":32625},"end":{"line":685,"column":29,"offset":32626}}}],"position":{"start":{"line":685,"column":27,"offset":32624},"end":{"line":685,"column":95,"offset":32692}}}],"position":{"start":{"line":685,"column":1,"offset":32598},"end":{"line":685,"column":95,"offset":32692}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v15.4.0","position":{"start":{"line":687,"column":1,"offset":32696},"end":{"line":687,"column":18,"offset":32713}}}],"position":{"start":{"line":687,"column":1,"offset":32696},"end":{"line":687,"column":18,"offset":32713}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Type: ","position":{"start":{"line":689,"column":3,"offset":32719},"end":{"line":689,"column":9,"offset":32725}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type"},"children":[{"type":"raw","value":"<boolean>","position":{"start":{"line":689,"column":10,"offset":32726},"end":{"line":689,"column":19,"offset":32735}}}],"position":{"start":{"line":689,"column":9,"offset":32725},"end":{"line":689,"column":106,"offset":32822}}},{"type":"text","value":" ","position":{"start":{"line":689,"column":106,"offset":32822},"end":{"line":689,"column":107,"offset":32823}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"true"}],"position":{"start":{"line":689,"column":107,"offset":32823},"end":{"line":689,"column":113,"offset":32829}}},{"type":"text","value":" if the module is running during the Node.js preload phase.","position":{"start":{"line":689,"column":113,"offset":32829},"end":{"line":689,"column":172,"offset":32888}}}],"position":{"start":{"line":689,"column":1,"offset":32717},"end":{"line":689,"column":172,"offset":32888}}},{"type":"text","value":"\n"}],"position":{"start":{"line":689,"column":1,"offset":32717},"end":{"line":689,"column":172,"offset":32888}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.loaded"}],"position":{"start":{"line":691,"column":6,"offset":32897},"end":{"line":691,"column":21,"offset":32912}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_loaded"},"children":[{"type":"text","value":"#","position":{"start":{"line":691,"column":22,"offset":32913},"end":{"line":691,"column":23,"offset":32914}}}],"position":{"start":{"line":691,"column":21,"offset":32912},"end":{"line":691,"column":83,"offset":32974}}}],"position":{"start":{"line":691,"column":1,"offset":32892},"end":{"line":691,"column":83,"offset":32974}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":693,"column":1,"offset":32978},"end":{"line":693,"column":18,"offset":32995}}}],"position":{"start":{"line":693,"column":1,"offset":32978},"end":{"line":693,"column":18,"offset":32995}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type"},"children":[{"type":"raw","value":"<boolean>","position":{"start":{"line":695,"column":4,"offset":33002},"end":{"line":695,"column":13,"offset":33011}}}],"position":{"start":{"line":695,"column":3,"offset":33001},"end":{"line":695,"column":100,"offset":33098}}}],"position":{"start":{"line":695,"column":1,"offset":32999},"end":{"line":695,"column":100,"offset":33098}}},{"type":"text","value":"\n"}],"position":{"start":{"line":695,"column":1,"offset":32999},"end":{"line":695,"column":100,"offset":33098}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Whether or not the module is done loading, or is in the process of loading.","position":{"start":{"line":697,"column":1,"offset":33102},"end":{"line":697,"column":76,"offset":33177}}}],"position":{"start":{"line":697,"column":1,"offset":33102},"end":{"line":697,"column":76,"offset":33177}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.parent"}],"position":{"start":{"line":699,"column":6,"offset":33186},"end":{"line":699,"column":21,"offset":33201}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_parent"},"children":[{"type":"text","value":"#","position":{"start":{"line":699,"column":22,"offset":33202},"end":{"line":699,"column":23,"offset":33203}}}],"position":{"start":{"line":699,"column":21,"offset":33201},"end":{"line":699,"column":83,"offset":33263}}}],"position":{"start":{"line":699,"column":1,"offset":33181},"end":{"line":699,"column":83,"offset":33263}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16Deprecated since: v14.6.0, v12.19.0","position":{"start":{"line":701,"column":1,"offset":33267},"end":{"line":701,"column":53,"offset":33319}}}],"position":{"start":{"line":701,"column":1,"offset":33267},"end":{"line":701,"column":53,"offset":33319}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/documentation.html#documentation_stability_index"},"children":[{"type":"text","value":"Stability: 0","position":{"start":{"line":703,"column":2,"offset":33324},"end":{"line":703,"column":14,"offset":33336}}}],"position":{"start":{"line":703,"column":1,"offset":33323},"end":{"line":703,"column":88,"offset":33410}}},{"type":"text","value":" - Deprecated: Please use ","position":{"start":{"line":703,"column":88,"offset":33410},"end":{"line":703,"column":114,"offset":33436}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_main"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.main"}],"position":{"start":{"line":703,"column":115,"offset":33437},"end":{"line":703,"column":129,"offset":33451}}}],"position":{"start":{"line":703,"column":114,"offset":33436},"end":{"line":703,"column":188,"offset":33510}}},{"type":"text","value":" and ","position":{"start":{"line":703,"column":188,"offset":33510},"end":{"line":703,"column":193,"offset":33515}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_children"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.children"}],"position":{"start":{"line":703,"column":194,"offset":33516},"end":{"line":703,"column":211,"offset":33533}}}],"position":{"start":{"line":703,"column":193,"offset":33515},"end":{"line":703,"column":273,"offset":33595}}},{"type":"text","value":" instead.","position":{"start":{"line":703,"column":273,"offset":33595},"end":{"line":703,"column":282,"offset":33604}}}],"position":{"start":{"line":703,"column":1,"offset":33323},"end":{"line":703,"column":282,"offset":33604}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object"},"children":[{"type":"raw","value":"<module>","position":{"start":{"line":705,"column":4,"offset":33611},"end":{"line":705,"column":12,"offset":33619}}}],"position":{"start":{"line":705,"column":3,"offset":33610},"end":{"line":705,"column":76,"offset":33683}}},{"type":"text","value":" | ","position":{"start":{"line":705,"column":76,"offset":33683},"end":{"line":705,"column":79,"offset":33686}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type"},"children":[{"type":"raw","value":"<null>","position":{"start":{"line":705,"column":80,"offset":33687},"end":{"line":705,"column":86,"offset":33693}}}],"position":{"start":{"line":705,"column":79,"offset":33686},"end":{"line":705,"column":170,"offset":33777}}},{"type":"text","value":" | ","position":{"start":{"line":705,"column":170,"offset":33777},"end":{"line":705,"column":173,"offset":33780}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Undefined_type"},"children":[{"type":"raw","value":"<undefined>","position":{"start":{"line":705,"column":174,"offset":33781},"end":{"line":705,"column":185,"offset":33792}}}],"position":{"start":{"line":705,"column":173,"offset":33780},"end":{"line":705,"column":274,"offset":33881}}}],"position":{"start":{"line":705,"column":1,"offset":33608},"end":{"line":705,"column":274,"offset":33881}}},{"type":"text","value":"\n"}],"position":{"start":{"line":705,"column":1,"offset":33608},"end":{"line":705,"column":274,"offset":33881}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The module that first required this one, or ","position":{"start":{"line":707,"column":1,"offset":33885},"end":{"line":707,"column":45,"offset":33929}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"null"}],"position":{"start":{"line":707,"column":45,"offset":33929},"end":{"line":707,"column":51,"offset":33935}}},{"type":"text","value":" if the current module is the entry point of the current process, or ","position":{"start":{"line":707,"column":51,"offset":33935},"end":{"line":707,"column":120,"offset":34004}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"undefined"}],"position":{"start":{"line":707,"column":120,"offset":34004},"end":{"line":707,"column":131,"offset":34015}}},{"type":"text","value":" if the module was loaded by something that is not a CommonJS module (E.G.: REPL or ","position":{"start":{"line":707,"column":131,"offset":34015},"end":{"line":707,"column":215,"offset":34099}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"import"}],"position":{"start":{"line":707,"column":215,"offset":34099},"end":{"line":707,"column":223,"offset":34107}}},{"type":"text","value":").","position":{"start":{"line":707,"column":223,"offset":34107},"end":{"line":707,"column":225,"offset":34109}}}],"position":{"start":{"line":707,"column":1,"offset":33885},"end":{"line":707,"column":225,"offset":34109}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.path"}],"position":{"start":{"line":709,"column":6,"offset":34118},"end":{"line":709,"column":19,"offset":34131}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_path"},"children":[{"type":"text","value":"#","position":{"start":{"line":709,"column":20,"offset":34132},"end":{"line":709,"column":21,"offset":34133}}}],"position":{"start":{"line":709,"column":19,"offset":34131},"end":{"line":709,"column":79,"offset":34191}}}],"position":{"start":{"line":709,"column":1,"offset":34113},"end":{"line":709,"column":79,"offset":34191}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v11.14.0","position":{"start":{"line":711,"column":1,"offset":34195},"end":{"line":711,"column":19,"offset":34213}}}],"position":{"start":{"line":711,"column":1,"offset":34195},"end":{"line":711,"column":19,"offset":34213}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":713,"column":4,"offset":34220},"end":{"line":713,"column":12,"offset":34228}}}],"position":{"start":{"line":713,"column":3,"offset":34219},"end":{"line":713,"column":98,"offset":34314}}}],"position":{"start":{"line":713,"column":1,"offset":34217},"end":{"line":713,"column":98,"offset":34314}}},{"type":"text","value":"\n"}],"position":{"start":{"line":713,"column":1,"offset":34217},"end":{"line":713,"column":98,"offset":34314}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The directory name of the module. This is usually the same as the ","position":{"start":{"line":715,"column":1,"offset":34318},"end":{"line":715,"column":67,"offset":34384}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/path.html#path_path_dirname_path"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"path.dirname()"}],"position":{"start":{"line":715,"column":68,"offset":34385},"end":{"line":715,"column":84,"offset":34401}}}],"position":{"start":{"line":715,"column":67,"offset":34384},"end":{"line":715,"column":142,"offset":34459}}},{"type":"text","value":" of the ","position":{"start":{"line":715,"column":142,"offset":34459},"end":{"line":715,"column":150,"offset":34467}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_id"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.id"}],"position":{"start":{"line":715,"column":151,"offset":34468},"end":{"line":715,"column":162,"offset":34479}}}],"position":{"start":{"line":715,"column":150,"offset":34467},"end":{"line":715,"column":218,"offset":34535}}},{"type":"text","value":".","position":{"start":{"line":715,"column":218,"offset":34535},"end":{"line":715,"column":219,"offset":34536}}}],"position":{"start":{"line":715,"column":1,"offset":34318},"end":{"line":715,"column":219,"offset":34536}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.paths"}],"position":{"start":{"line":717,"column":6,"offset":34545},"end":{"line":717,"column":20,"offset":34559}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_paths"},"children":[{"type":"text","value":"#","position":{"start":{"line":717,"column":21,"offset":34560},"end":{"line":717,"column":22,"offset":34561}}}],"position":{"start":{"line":717,"column":20,"offset":34559},"end":{"line":717,"column":81,"offset":34620}}}],"position":{"start":{"line":717,"column":1,"offset":34540},"end":{"line":717,"column":81,"offset":34620}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.4.0","position":{"start":{"line":719,"column":1,"offset":34624},"end":{"line":719,"column":17,"offset":34640}}}],"position":{"start":{"line":719,"column":1,"offset":34624},"end":{"line":719,"column":17,"offset":34640}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"text","value":"<string[]>","position":{"start":{"line":721,"column":4,"offset":34647},"end":{"line":721,"column":14,"offset":34657}}}],"position":{"start":{"line":721,"column":3,"offset":34646},"end":{"line":721,"column":100,"offset":34743}}}],"position":{"start":{"line":721,"column":1,"offset":34644},"end":{"line":721,"column":100,"offset":34743}}},{"type":"text","value":"\n"}],"position":{"start":{"line":721,"column":1,"offset":34644},"end":{"line":721,"column":100,"offset":34743}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The search paths for the module.","position":{"start":{"line":723,"column":1,"offset":34747},"end":{"line":723,"column":33,"offset":34779}}}],"position":{"start":{"line":723,"column":1,"offset":34747},"end":{"line":723,"column":33,"offset":34779}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.require(id)"}],"position":{"start":{"line":725,"column":6,"offset":34788},"end":{"line":725,"column":26,"offset":34808}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_require_id"},"children":[{"type":"text","value":"#","position":{"start":{"line":725,"column":27,"offset":34809},"end":{"line":725,"column":28,"offset":34810}}}],"position":{"start":{"line":725,"column":26,"offset":34808},"end":{"line":725,"column":92,"offset":34874}}}],"position":{"start":{"line":725,"column":1,"offset":34783},"end":{"line":725,"column":92,"offset":34874}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.5.1","position":{"start":{"line":727,"column":1,"offset":34878},"end":{"line":727,"column":17,"offset":34894}}}],"position":{"start":{"line":727,"column":1,"offset":34878},"end":{"line":727,"column":17,"offset":34894}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"id"}],"position":{"start":{"line":729,"column":3,"offset":34900},"end":{"line":729,"column":7,"offset":34904}}},{"type":"text","value":" ","position":{"start":{"line":729,"column":7,"offset":34904},"end":{"line":729,"column":8,"offset":34905}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":729,"column":9,"offset":34906},"end":{"line":729,"column":17,"offset":34914}}}],"position":{"start":{"line":729,"column":8,"offset":34905},"end":{"line":729,"column":103,"offset":35000}}}],"position":{"start":{"line":729,"column":1,"offset":34898},"end":{"line":729,"column":103,"offset":35000}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Returns: ","position":{"start":{"line":730,"column":3,"offset":35004},"end":{"line":730,"column":12,"offset":35013}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types"},"children":[{"type":"raw","value":"<any>","position":{"start":{"line":730,"column":13,"offset":35014},"end":{"line":730,"column":18,"offset":35019}}}],"position":{"start":{"line":730,"column":12,"offset":35013},"end":{"line":730,"column":103,"offset":35104}}},{"type":"text","value":" exported module content","position":{"start":{"line":730,"column":103,"offset":35104},"end":{"line":730,"column":127,"offset":35128}}}],"position":{"start":{"line":730,"column":1,"offset":35002},"end":{"line":730,"column":127,"offset":35128}}},{"type":"text","value":"\n"}],"position":{"start":{"line":729,"column":1,"offset":34898},"end":{"line":730,"column":127,"offset":35128}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":732,"column":1,"offset":35132},"end":{"line":732,"column":5,"offset":35136}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.require()"}],"position":{"start":{"line":732,"column":5,"offset":35136},"end":{"line":732,"column":23,"offset":35154}}},{"type":"text","value":" method provides a way to load a module as if ","position":{"start":{"line":732,"column":23,"offset":35154},"end":{"line":732,"column":69,"offset":35200}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":732,"column":69,"offset":35200},"end":{"line":732,"column":80,"offset":35211}}},{"type":"text","value":" was called from the original module.","position":{"start":{"line":732,"column":80,"offset":35211},"end":{"line":732,"column":117,"offset":35248}}}],"position":{"start":{"line":732,"column":1,"offset":35132},"end":{"line":732,"column":117,"offset":35248}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In order to do this, it is necessary to get a reference to the ","position":{"start":{"line":734,"column":1,"offset":35252},"end":{"line":734,"column":64,"offset":35315}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":734,"column":64,"offset":35315},"end":{"line":734,"column":72,"offset":35323}}},{"type":"text","value":" object. Since ","position":{"start":{"line":734,"column":72,"offset":35323},"end":{"line":734,"column":87,"offset":35338}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":734,"column":87,"offset":35338},"end":{"line":734,"column":98,"offset":35349}}},{"type":"text","value":" returns the ","position":{"start":{"line":734,"column":98,"offset":35349},"end":{"line":734,"column":111,"offset":35362}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":734,"column":111,"offset":35362},"end":{"line":734,"column":127,"offset":35378}}},{"type":"text","value":", and the ","position":{"start":{"line":734,"column":127,"offset":35378},"end":{"line":734,"column":137,"offset":35388}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":734,"column":137,"offset":35388},"end":{"line":734,"column":145,"offset":35396}}},{"type":"text","value":" is typically ","position":{"start":{"line":734,"column":145,"offset":35396},"end":{"line":734,"column":159,"offset":35410}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"only","position":{"start":{"line":734,"column":160,"offset":35411},"end":{"line":734,"column":164,"offset":35415}}}],"position":{"start":{"line":734,"column":159,"offset":35410},"end":{"line":734,"column":165,"offset":35416}}},{"type":"text","value":" available within a specific module's code, it must be explicitly exported in order to be used.","position":{"start":{"line":734,"column":165,"offset":35416},"end":{"line":734,"column":260,"offset":35511}}}],"position":{"start":{"line":734,"column":1,"offset":35252},"end":{"line":734,"column":260,"offset":35511}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":736,"column":5,"offset":35519},"end":{"line":736,"column":9,"offset":35523}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Module"}],"position":{"start":{"line":736,"column":9,"offset":35523},"end":{"line":736,"column":17,"offset":35531}}},{"type":"text","value":" object","position":{"start":{"line":736,"column":17,"offset":35531},"end":{"line":736,"column":24,"offset":35538}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object_1"},"children":[{"type":"text","value":"#","position":{"start":{"line":736,"column":25,"offset":35539},"end":{"line":736,"column":26,"offset":35540}}}],"position":{"start":{"line":736,"column":24,"offset":35538},"end":{"line":736,"column":92,"offset":35606}}}],"position":{"start":{"line":736,"column":1,"offset":35515},"end":{"line":736,"column":92,"offset":35606}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This section was moved to ","position":{"start":{"line":738,"column":1,"offset":35610},"end":{"line":738,"column":27,"offset":35636}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/module.html#module_the_module_object"},"children":[{"type":"text","value":"Modules: ","position":{"start":{"line":738,"column":28,"offset":35637},"end":{"line":738,"column":37,"offset":35646}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":738,"column":37,"offset":35646},"end":{"line":738,"column":45,"offset":35654}}},{"type":"text","value":" core module","position":{"start":{"line":738,"column":45,"offset":35654},"end":{"line":738,"column":57,"offset":35666}}}],"position":{"start":{"line":738,"column":27,"offset":35636},"end":{"line":738,"column":119,"offset":35728}}},{"type":"text","value":".","position":{"start":{"line":738,"column":119,"offset":35728},"end":{"line":738,"column":120,"offset":35729}}}],"position":{"start":{"line":738,"column":1,"offset":35610},"end":{"line":738,"column":120,"offset":35729}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/module.html#module_module_builtinmodules"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.builtinModules"}],"position":{"start":{"line":740,"column":4,"offset":35736},"end":{"line":740,"column":27,"offset":35759}}}],"position":{"start":{"line":740,"column":3,"offset":35735},"end":{"line":740,"column":93,"offset":35825}}}],"position":{"start":{"line":740,"column":1,"offset":35733},"end":{"line":740,"column":93,"offset":35825}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/module.html#module_module_createrequire_filename"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.createRequire(filename)"}],"position":{"start":{"line":741,"column":4,"offset":35830},"end":{"line":741,"column":36,"offset":35862}}}],"position":{"start":{"line":741,"column":3,"offset":35829},"end":{"line":741,"column":110,"offset":35936}}}],"position":{"start":{"line":741,"column":1,"offset":35827},"end":{"line":741,"column":110,"offset":35936}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/module.html#module_module_syncbuiltinesmexports"},"children":[],"position":{"start":{"line":742,"column":3,"offset":35940},"end":{"line":742,"column":77,"offset":36014}}}],"position":{"start":{"line":742,"column":1,"offset":35938},"end":{"line":742,"column":77,"offset":36014}}},{"type":"text","value":"\n"}],"position":{"start":{"line":740,"column":1,"offset":35733},"end":{"line":742,"column":77,"offset":36014}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":743,"column":1,"offset":36016}}}}