<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>module</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<h1 id="webassembly.module">WebAssembly.Module</h1>
<p>A <code>WebAssembly.Module</code> object contains stateless WebAssembly code that has already been compiled by the browser â€” this can be efficiently <a href="https://developer.mozilla.org/en-US/docs/Web/API/Worker/postMessage">shared with Workers</a>, and instantiated multiple times.</p>
<h2 id="constructor">Constructor</h2>
<p><a href="module/module"><code>WebAssembly.Module()</code></a><br />
Creates a new <code>Module</code> object.</p>
<h2 id="static-properties">Static properties</h2>
<p><a href="module/customsections"><code>WebAssembly.Module.customSections()</code></a><br />
Given a <code>Module</code> and string, returns a copy of the contents of all custom sections in the module with the given string name.</p>
<p><a href="module/exports"><code>WebAssembly.Module.exports()</code></a><br />
Given a <code>Module</code>, returns an array containing descriptions of all the declared exports.</p>
<p><a href="module/imports"><code>WebAssembly.Module.imports()</code></a><br />
Given a <code>Module</code>, returns an array containing descriptions of all the declared imports.</p>
<h2 id="examples">Examples</h2>
<h3 id="sending-a-compiled-module-to-a-worker">Sending a compiled module to a worker</h3>
<p>The following example (see our <a href="https://github.com/mdn/webassembly-examples/blob/master/js-api-examples/index-compile.html">index-compile.html</a> demo on GitHub, and <a href="https://mdn.github.io/webassembly-examples/js-api-examples/index-compile.html">view it live</a> also) compiles the loaded <code>simple.wasm</code> byte code using the <a href="compilestreaming"><code>WebAssembly.compileStreaming()</code></a> method and then sends the resulting <code>Module</code> instance to a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API">worker</a> using <a href="https://developer.mozilla.org/en-US/docs/Web/API/Worker/postMessage"><code>postMessage()</code></a>.</p>
<pre><code>var worker = new Worker(&quot;wasm_worker.js&quot;);

WebAssembly.compileStreaming(fetch(&#39;simple.wasm&#39;))
.then(mod =&gt;
  worker.postMessage(mod)
);</code></pre>
<p>In the worker (see <code>wasm_worker.js</code>) we define an import object for the module to use, then set up an event handler to receive the module from the main thread. When the module is received, we create an instance from it using the <a href="instantiate"><code>WebAssembly.instantiate()</code></a> method and invoke an exported function from inside it.</p>
<pre><code>var importObject = {
  imports: {
    imported_func: function(arg) {
      console.log(arg);
    }
  }
};

onmessage = function(e) {
  console.log(&#39;module received from main thread&#39;);
  var mod = e.data;

  WebAssembly.instantiate(mod, importObject).then(function(instance) {
    instance.exports.exported_func();
  });
};</code></pre>
<h2 id="specifications">Specifications</h2>
<table>
<thead>
<tr class="header">
<th>
Specification
</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>
<p><a href="https://webassembly.github.io/spec/js-api/#modules">WebAssembly JavaScript Interface (WebAssembly JavaScript Interface) <br/></p>
<span class="small">#modules</span></a>
</td>
</tr>
</tbody>
</table>
<p><code>Module</code></p>
<p>57</p>
<p>16</p>
<p>52</p>
<p>Disabled in the Firefox 52 Extended Support Release (ESR).</p>
<p>No</p>
<p>44</p>
<p>11</p>
<p>57</p>
<p>57</p>
<p>52</p>
<p>Disabled in the Firefox 52 Extended Support Release (ESR).</p>
<p>43</p>
<p>11</p>
<p>7.0</p>
<p><code>Module</code></p>
<p>57</p>
<p>16</p>
<p>52</p>
<p>Disabled in the Firefox 52 Extended Support Release (ESR).</p>
<p>No</p>
<p>44</p>
<p>11</p>
<p>57</p>
<p>57</p>
<p>52</p>
<p>Disabled in the Firefox 52 Extended Support Release (ESR).</p>
<p>43</p>
<p>11</p>
<p>7.0</p>
<p><code>customSections</code></p>
<p>57</p>
<p>16</p>
<p>52</p>
<p>Disabled in the Firefox 52 Extended Support Release (ESR).</p>
<p>No</p>
<p>44</p>
<p>11</p>
<p>57</p>
<p>57</p>
<p>52</p>
<p>Disabled in the Firefox 52 Extended Support Release (ESR).</p>
<p>43</p>
<p>11</p>
<p>7.0</p>
<p><code>exports</code></p>
<p>57</p>
<p>16</p>
<p>52</p>
<p>Disabled in the Firefox 52 Extended Support Release (ESR).</p>
<p>No</p>
<p>44</p>
<p>11</p>
<p>57</p>
<p>57</p>
<p>52</p>
<p>Disabled in the Firefox 52 Extended Support Release (ESR).</p>
<p>43</p>
<p>11</p>
<p>7.0</p>
<p><code>imports</code></p>
<p>57</p>
<p>16</p>
<p>52</p>
<p>Disabled in the Firefox 52 Extended Support Release (ESR).</p>
<p>No</p>
<p>44</p>
<p>11</p>
<p>57</p>
<p>57</p>
<p>52</p>
<p>Disabled in the Firefox 52 Extended Support Release (ESR).</p>
<p>43</p>
<p>11</p>
<p>7.0</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/WebAssembly">WebAssembly</a> overview page</li>
<li><a href="https://developer.mozilla.org/en-US/docs/WebAssembly/Concepts">WebAssembly concepts</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/WebAssembly/Using_the_JavaScript_API">Using the WebAssembly JavaScript API</a></li>
</ul>
<p>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br />
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly/Module" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly/Module</a></p>
</body>
</html>
