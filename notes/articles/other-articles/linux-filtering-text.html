<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>linux-filtering-text</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<h1 id="useful-commands-for-filtering-text-for-effective-file-operations-in-linux">12 Useful Commands For Filtering Text for Effective File Operations in Linux</h1>
<blockquote>
<p>This article explains, some useful commands for filtering text for effective file operations such as find files, modifying files and other sysadmin related tasks.</p>
</blockquote>
<p>In this article, we will review a number of command line tools that act as filters in Linux. A <strong>filter</strong> is a program that reads standard input, performs an operation upon it and writes the results to standard output.</p>
<p>For this reason, it can be used to process information in powerful ways such as restructuring output to generate useful reports, modifying text in files and many other system administration tasks.</p>
<p>With that said, below are some of the useful file or text filters in Linux.</p>
<h3 id="awk-command">1. Awk Command</h3>
<p><strong>Awk</strong> is a remarkable pattern scanning and processing language, it can be used to build useful filters in Linux. You can start using it by reading through our <a href="https://www.tecmint.com/category/awk-command/">Awk series Part 1 to Part 13</a>.</p>
<p>Additionally, also read through the <strong>awk</strong> man page for more info and usage options:</p>
<p>$ man awk</p>
<h3 id="sed-command">2. Sed Command</h3>
<p><a href="https://freestar.com/?utm_medium=ad_container&amp;utm_source=branding&amp;utm_name=tecmint_incontent"><img src="https://a.pub.network/core/imgs/fslogo-green.svg" alt="freestar" /></a></p>
<p><strong>sed</strong> is a powerful stream editor for filtering and transforming text. We’ve already written a two useful articles on sed, that you can go through it here:</p>
<ol type="1">
<li><a href="https://www.tecmint.com/sed-command-to-create-edit-and-manipulate-files-in-linux/">How to use GNU ‘sed’ Command to Create, Edit, and Manipulate files in Linux</a></li>
<li><a href="https://www.tecmint.com/linux-sed-command-tips-tricks/">15 Useful ‘sed’ Command Tips and Tricks for Daily Linux System Administration Tasks</a></li>
</ol>
<p>The sed man page has added control options and instructions:</p>
<p>$ man sed</p>
<h3 id="grep-egrep-fgrep-rgrep-commands">3. Grep, Egrep, Fgrep, Rgrep Commands</h3>
<p>These filters output lines matching a given pattern. They read lines from a file or standard input, and print all matching lines by default to standard output.</p>
<p><strong>Note</strong>: The main program is <a href="https://www.tecmint.com/12-practical-examples-of-linux-grep-command/">grep</a>, the variations are simply the same as <a href="https://www.tecmint.com/linux-grep-commands-character-classes-bracket-expressions/">using specific grep options</a> as below (and they are still being used for backward compatibility):</p>
<p>$ egrep = grep -E $ fgrep = grep -F $ rgrep = grep -r</p>
<p>Below are some basic grep commands:</p>
<p><strong>tecmint@TecMint ~ $</strong> grep "aaronkilik” /etc/passwd <strong>aaronkilik:x:1001:1001::/home/aaronkilik:</strong></p>
<p><strong>tecmint@TecMint ~ $</strong> cat /etc/passwd | grep "aronkilik” <strong>aaronkilik:x:1001:1001::/home/aaronkilik:</strong></p>
<p>You can read more about <a href="https://www.tecmint.com/difference-between-grep-egrep-and-fgrep-in-linux/">What’s Difference Between Grep, Egrep and Fgrep in Linux?</a>.</p>
<h3 id="head-command">4. head Command</h3>
<p><strong>head</strong> is used to display the first parts of a file, it outputs the first <strong>10</strong> lines by default. You can use the <code>-n</code> num flag to specify the number of lines to be displayed:</p>
<p><strong>tecmint@TecMint ~ $</strong> <strong>head /var/log/auth.log</strong><br />
Jan 2 10:45:01 TecMint CRON[3383]: pam_unix(cron:session): session opened for user root by (uid=0) Jan 2 10:45:01 TecMint CRON[3383]: pam_unix(cron:session): session closed for user root Jan 2 10:51:34 TecMint sudo: tecmint : TTY=unknown ; PWD=/home/tecmint ; USER=root ; COMMAND=/usr/lib/linuxmint/mintUpdate/checkAPT.py Jan 2 10:51:34 TecMint sudo: pam_unix(sudo:session): session opened for user root by (uid=0) Jan 2 10:51:39 TecMint sudo: pam_unix(sudo:session): session closed for user root Jan 2 10:55:01 TecMint CRON[4099]: pam_unix(cron:session): session opened for user root by (uid=0) Jan 2 10:55:01 TecMint CRON[4099]: pam_unix(cron:session): session closed for user root Jan 2 11:05:01 TecMint CRON[4138]: pam_unix(cron:session): session opened for user root by (uid=0) Jan 2 11:05:01 TecMint CRON[4138]: pam_unix(cron:session): session closed for user root Jan 2 11:09:01 TecMint CRON[4146]: pam_unix(cron:session): session opened for user root by (uid=0)</p>
<p><strong>tecmint@TecMint ~ $</strong> <strong>head -n 5 /var/log/auth.log</strong><br />
Jan 2 10:45:01 TecMint CRON[3383]: pam_unix(cron:session): session opened for user root by (uid=0) Jan 2 10:45:01 TecMint CRON[3383]: pam_unix(cron:session): session closed for user root Jan 2 10:51:34 TecMint sudo: tecmint : TTY=unknown ; PWD=/home/tecmint ; USER=root ; COMMAND=/usr/lib/linuxmint/mintUpdate/checkAPT.py Jan 2 10:51:34 TecMint sudo: pam_unix(sudo:session): session opened for user root by (uid=0) Jan 2 10:51:39 TecMint sudo: pam_unix(sudo:session): session closed for user root</p>
<p>Learn how to use <a href="https://www.tecmint.com/view-contents-of-file-in-linux/">head command with tail and cat commands</a> for effective usage in Linux.</p>
<h3 id="tail-command">5. tail Command</h3>
<p><strong>tail</strong> outputs the last parts (<strong>10</strong> lines by default) of a file. Use the <code>-n</code> num switch to specify the number of lines to be displayed.</p>
<p>The command below will output the last <strong>5</strong> lines of the specified file:</p>
<p><strong>tecmint@TecMint ~ $</strong> <strong>tail -n 5 /var/log/auth.log</strong> Jan 6 13:01:27 TecMint sshd[1269]: Server listening on 0.0.0.0 port 22. Jan 6 13:01:27 TecMint sshd[1269]: Server listening on :: port 22. Jan 6 13:01:27 TecMint sshd[1269]: Received SIGHUP; restarting. Jan 6 13:01:27 TecMint sshd[1269]: Server listening on 0.0.0.0 port 22. Jan 6 13:01:27 TecMint sshd[1269]: Server listening on :: port 22.</p>
<p>Additionally, <strong>tail</strong> has a special option <code>-f</code> for <a href="https://www.tecmint.com/fswatch-monitors-files-and-directory-changes-modifications-in-linux/">watching changes in a file in real-time</a> (especially log files).</p>
<p>The following command will enable you monitor changes in the specified file:</p>
<p><strong>tecmint@TecMint ~ $</strong> <strong>tail -f /var/log/auth.log</strong> Jan 6 12:58:01 TecMint sshd[1269]: Server listening on :: port 22. Jan 6 12:58:11 TecMint sshd[1269]: Received SIGHUP; restarting. Jan 6 12:58:12 TecMint sshd[1269]: Server listening on 0.0.0.0 port 22. Jan 6 12:58:12 TecMint sshd[1269]: Server listening on :: port 22. Jan 6 13:01:27 TecMint sshd[1269]: Received SIGHUP; restarting. Jan 6 13:01:27 TecMint sshd[1269]: Server listening on 0.0.0.0 port 22. Jan 6 13:01:27 TecMint sshd[1269]: Server listening on :: port 22. Jan 6 13:01:27 TecMint sshd[1269]: Received SIGHUP; restarting. Jan 6 13:01:27 TecMint sshd[1269]: Server listening on 0.0.0.0 port 22. Jan 6 13:01:27 TecMint sshd[1269]: Server listening on :: port 22.</p>
<p>Read through the <strong>tail</strong> man page for a complete list of usage options and instructions:</p>
<p>$ man tail</p>
<h3 id="sort-command">6. sort Command</h3>
<p><strong>sort</strong> is used to sort lines of a text file or from standard input.</p>
<p>Below is the content of a file named <strong>domains.list</strong>:</p>
<p><strong>tecmint@TecMint ~ $</strong> <strong>cat domains.list</strong> tecmint.com tecmint.com news.tecmint.com news.tecmint.com linuxsay.com linuxsay.com windowsmint.com windowsmint.com</p>
<p>You can run a simple <a href="https://www.tecmint.com/sort-command-linux/">sort command</a> to sort the file content like so:</p>
<p><strong>tecmint@TecMint ~ $</strong> <strong>sort domains.list</strong> linuxsay.com linuxsay.com news.tecmint.com news.tecmint.com tecmint.com tecmint.com windowsmint.com windowsmint.com</p>
<p>You can use <strong>sort</strong> command in many ways, go through some of the useful articles on sort command as follows:</p>
<ol type="1">
<li><a href="https://www.tecmint.com/sort-command-linux/">14 Useful Examples of Linux ‘sort’ Command - Part 1</a></li>
<li><a href="https://www.tecmint.com/linux-sort-command-examples/">7 Interesting Linux ‘sort’ Command Examples - Part 2</a></li>
<li><a href="https://www.tecmint.com/find-and-sort-files-modification-date-and-time-in-linux/">How to Find and Sort Files Based on Modification Date and Time</a></li>
<li><a href="https://www.tecmint.com/sort-ls-output-by-last-modified-date-and-time/">How to Sort Output of ‘ls’ Command By Last Modified Date and Time</a></li>
</ol>
<h3 id="uniq-command">7. uniq Command</h3>
<p><strong>uniq</strong> command is used to report or omit repeated lines, it filters lines from standard input and writes the outcome to standard output.</p>
<p>After running <strong>sort</strong> on an input stream, you can remove repeated lines with <strong>uniq</strong> as in the example below.</p>
<p>To indicate the number of occurrences of a line, use the <code>-c</code> option and ignore differences in case while comparing by including the <code>-i</code> option:</p>
<p><strong>tecmint@TecMint ~ $</strong> <strong>cat domains.list</strong> tecmint.com tecmint.com news.tecmint.com news.tecmint.com linuxsay.com linuxsay.com windowsmint.com</p>
<p><strong>tecmint@TecMint ~ $</strong> <strong>sort domains.list | uniq -c</strong> 2 linuxsay.com 2 news.tecmint.com 2 tecmint.com 1 windowsmint.com</p>
<p>Read through the <strong>uniq</strong> man page for further usage info and flags:</p>
<p>$ man uniq</p>
<h3 id="fmt-command">8. fmt Command</h3>
<p><strong>fmt</strong> simple optimal text formatter, it reformats paragraphs in specified file and prints results to the standard output.</p>
<p>The following is the content extracted from the file <strong>domain-list.txt</strong>:</p>
<p>1.tecmint.com 2.news.tecmint.com 3.linuxsay.com 4.windowsmint.com</p>
<p>To reformat the above content to a standard list, run the following command with <code>-w</code> switch is used to define the maximum line width:</p>
<p><strong>tecmint@TecMint ~ $</strong> <strong>cat domain-list.txt</strong> 1.tecmint.com 2.news.tecmint.com 3.linuxsay.com 4.windowsmint.com</p>
<p><strong>tecmint@TecMint ~ $</strong> <strong>fmt -w 1 domain-list.txt</strong> 1.tecmint.com 2.news.tecmint.com 3.linuxsay.com 4.windowsmint.com</p>
<h3 id="pr-command">9. pr Command</h3>
<p><strong>pr</strong> command converts text files or standard input for printing. For instance on <strong>Debian</strong> systems, you can list all installed packages as follows:</p>
<p>$ dpkg -l</p>
<p>To organize the list in pages and columns ready for printing, issue the following command.</p>
<p><strong>tecmint@TecMint ~ $</strong> <strong>dpkg -l | pr –columns 3 -l 20</strong></p>
<p>2017-01-06 13:19 Page 1</p>
<p>Desired=Unknown/Install ii adduser ii apg | Status=Not/Inst/Conf- ii adwaita-icon-theme ii app-install-data |/ Err?=(none)/Reinst-r ii adwaita-icon-theme- ii apparmor ||/ Name ii alsa-base ii apt +++-=================== ii alsa-utils ii apt-clone ii accountsservice ii anacron ii apt-transport-https ii acl ii apache2 ii apt-utils ii acpi-support ii apache2-bin ii apt-xapian-index ii acpid ii apache2-data ii aptdaemon ii add-apt-key ii apache2-utils ii aptdaemon-data</p>
<p>2017-01-06 13:19 Page 2</p>
<p>ii aptitude ii avahi-daemon ii bind9-host ii aptitude-common ii avahi-utils ii binfmt-support ii apturl ii aview ii binutils ii apturl-common ii banshee ii bison ii archdetect-deb ii baobab ii blt ii aspell ii base-files ii blueberry ii aspell-en ii base-passwd ii bluetooth ii at-spi2-core ii bash ii bluez ii attr ii bash-completion ii bluez-cups ii avahi-autoipd ii bc ii bluez-obexd</p>
<p>…..</p>
<p>The flags used here are:</p>
<ol type="1">
<li><code>--column</code> defines number of columns created in the output.</li>
<li><code>-l</code> specifies page length (default is 66 lines).</li>
</ol>
<h3 id="tr-command">10. tr Command</h3>
<p>This tool translates or deletes characters from standard input and writes results to standard output.</p>
<p>The syntax for using <strong>tr</strong> is as follows:</p>
<p>$ tr options set1 set2</p>
<p>Take a look at the examples below, in the first command, <code>set1( [:upper:] )</code> represents the case of input characters (all upper case).</p>
<p>Then <code>set2([:lower:])</code> represents the case in which the resultant characters will be. It’s same thing in the second example and the escape sequence <code>\n</code> means print output on a new line:</p>
<p><strong>tecmint@TecMint ~ $</strong> <strong>echo "WWW.TECMINT.COM” | tr [:upper:] [:lower:]</strong> www.tecmint.com</p>
<p><strong>tecmint@TecMint ~ $</strong> <strong>echo "news.tecmint.com” | tr [:lower:] [:upper:]</strong> NEWS.TECMINT.COM</p>
<h3 id="more-command">11. more Command</h3>
<p><strong>more</strong> command is a useful file perusal filter created basically for certificate viewing. It shows file content in a page like format, where users can press <strong>[Enter]</strong> to view more information.</p>
<p>You can use it to view large files like so:</p>
<p><strong>tecmint@TecMint ~ $</strong> <strong>dmesg | more</strong> [ 0.000000] Initializing cgroup subsys cpuset [ 0.000000] Initializing cgroup subsys cpu [ 0.000000] Initializing cgroup subsys cpuacct [ 0.000000] Linux version 4.4.0-21-generic (buildd@lgw01-21) (gcc version 5.3.1 20160413 (Ubuntu 5.3.1-14ubuntu2) ) #37-Ubuntu SMP Mon Apr 18 18:33:37 UTC 2016 (Ubuntu 4.4.0-21.37-generic 4.4.6) [ 0.000000] Command line: BOOT_IMAGE=/boot/vmlinuz-4.4.0-21-generic root=UUID=bb29dda3-bdaa-4b39-86cf-4a6dc9634a1b ro quiet splash vt.handoff=7 [ 0.000000] KERNEL supported cpus: [ 0.000000] Intel GenuineIntel [ 0.000000] AMD AuthenticAMD [ 0.000000] Centaur CentaurHauls [ 0.000000] x86/fpu: xstate_offset[2]: 576, xstate_sizes[2]: 256 [ 0.000000] x86/fpu: Supporting XSAVE feature 0x01: ‘x87 floating point registers’ [ 0.000000] x86/fpu: Supporting XSAVE feature 0x02: ‘SSE registers’ [ 0.000000] x86/fpu: Supporting XSAVE feature 0x04: ‘AVX registers’ [ 0.000000] x86/fpu: Enabled xstate features 0x7, context size is 832 bytes, using ‘standard’ format. [ 0.000000] x86/fpu: Using ‘eager’ FPU context switches. [ 0.000000] e820: BIOS-provided physical RAM map: [ 0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009d3ff] usable [ 0.000000] BIOS-e820: [mem 0x000000000009d400-0x000000000009ffff] reserved [ 0.000000] BIOS-e820: [mem 0x00000000000e0000-0x00000000000fffff] reserved [ 0.000000] BIOS-e820: [mem 0x0000000000100000-0x00000000a56affff] usable [ 0.000000] BIOS-e820: [mem 0x00000000a56b0000-0x00000000a5eaffff] reserved [ 0.000000] BIOS-e820: [mem 0x00000000a5eb0000-0x00000000aaabefff] usable <strong>--More–</strong></p>
<h3 id="less-command">12. less Command</h3>
<p><strong>less</strong> is the opposite of <strong>more</strong> command above but it offers extra features and it’s a little faster with large files.</p>
<p>Use it in the same way as more:</p>
<p><strong>tecmint@TecMint ~ $</strong> <strong>dmesg | less</strong> [ 0.000000] Initializing cgroup subsys cpuset [ 0.000000] Initializing cgroup subsys cpu [ 0.000000] Initializing cgroup subsys cpuacct [ 0.000000] Linux version 4.4.0-21-generic (buildd@lgw01-21) (gcc version 5.3.1 20160413 (Ubuntu 5.3.1-14ubuntu2) ) #37-Ubuntu SMP Mon Apr 18 18:33:37 UTC 2016 (Ubuntu 4.4.0-21.37-generic 4.4.6) [ 0.000000] Command line: BOOT_IMAGE=/boot/vmlinuz-4.4.0-21-generic root=UUID=bb29dda3-bdaa-4b39-86cf-4a6dc9634a1b ro quiet splash vt.handoff=7 [ 0.000000] KERNEL supported cpus: [ 0.000000] Intel GenuineIntel [ 0.000000] AMD AuthenticAMD [ 0.000000] Centaur CentaurHauls [ 0.000000] x86/fpu: xstate_offset[2]: 576, xstate_sizes[2]: 256 [ 0.000000] x86/fpu: Supporting XSAVE feature 0x01: ‘x87 floating point registers’ [ 0.000000] x86/fpu: Supporting XSAVE feature 0x02: ‘SSE registers’ [ 0.000000] x86/fpu: Supporting XSAVE feature 0x04: ‘AVX registers’ [ 0.000000] x86/fpu: Enabled xstate features 0x7, context size is 832 bytes, using ‘standard’ format. [ 0.000000] x86/fpu: Using ‘eager’ FPU context switches. [ 0.000000] e820: BIOS-provided physical RAM map: [ 0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009d3ff] usable [ 0.000000] BIOS-e820: [mem 0x000000000009d400-0x000000000009ffff] reserved [ 0.000000] BIOS-e820: [mem 0x00000000000e0000-0x00000000000fffff] reserved [ 0.000000] BIOS-e820: [mem 0x0000000000100000-0x00000000a56affff] usable [ 0.000000] BIOS-e820: [mem 0x00000000a56b0000-0x00000000a5eaffff] reserved [ 0.000000] BIOS-e820: [mem 0x00000000a5eb0000-0x00000000aaabefff] usable :</p>
<p>Learn Why <a href="https://www.tecmint.com/linux-more-command-and-less-command-examples/">‘less’ is Faster Than ‘more’ Command</a> for effective file navigation in Linux.</p>
<p>That’s all for now, do let us know of any <a href="https://www.tecmint.com/tag/linux-tricks/">useful command line tools</a> not mentioned here, that act as a text filters in Linux via the comment section below.</p>
<h2 id="if-you-appreciate-what-we-do-here-on-tecmint-you-should-consider">If You Appreciate What We Do Here On TecMint, You Should Consider:</h2>
<p>TecMint is the fastest growing and most trusted community site for any kind of Linux Articles, Guides and Books on the web. Millions of people visit TecMint! to search or browse the thousands of published articles available FREELY to all.</p>
<p>If you like what you are reading, please consider buying us a coffee ( or 2 ) as a token of appreciation.</p>
<p><a href="https://www.buymeacoffee.com/tecmint"><img src="https://www.tecmint.com/wp-content/uploads/2015/01/coffee.png" alt="Support Us" /></a></p>
<p><strong>We are thankful for your never ending support.</strong></p>
<p><a href="https://www.tecmint.com/linux-file-operations-commands/">Source</a></p>
</body>
</html>
